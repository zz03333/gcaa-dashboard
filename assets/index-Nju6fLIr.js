(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var rg={exports:{}},Vl={};var Iv;function ox(){if(Iv)return Vl;Iv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:i,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Vl.Fragment=t,Vl.jsx=e,Vl.jsxs=e,Vl}var Nv;function lx(){return Nv||(Nv=1,rg.exports=ox()),rg.exports}var z=lx(),og={exports:{}},Tt={};var Vv;function cx(){if(Vv)return Tt;Vv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function U(j,J,at){this.props=j,this.context=J,this.refs=M,this.updater=at||w}U.prototype.isReactComponent={},U.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=U.prototype;function Z(j,J,at){this.props=j,this.context=J,this.refs=M,this.updater=at||w}var F=Z.prototype=new L;F.constructor=Z,x(F,U.prototype),F.isPureReactComponent=!0;var $=Array.isArray;function it(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(j,J,at){var ct=at.ref;return{$$typeof:i,type:j,key:J,ref:ct!==void 0?ct:null,props:at}}function V(j,J){return O(j.type,J,j.props)}function I(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(at){return J[at]})}var N=/\/+/g;function $t(j,J){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):J.toString(36)}function wt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(it,it):(j.status="pending",j.then(function(J){j.status==="pending"&&(j.status="fulfilled",j.value=J)},function(J){j.status==="pending"&&(j.status="rejected",j.reason=J)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,J,at,ct,pt){var bt=typeof j;(bt==="undefined"||bt==="boolean")&&(j=null);var zt=!1;if(j===null)zt=!0;else switch(bt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(j.$$typeof){case i:case t:zt=!0;break;case _:return zt=j._init,K(zt(j._payload),J,at,ct,pt)}}if(zt)return pt=pt(j),zt=ct===""?"."+$t(j,0):ct,$(pt)?(at="",zt!=null&&(at=zt.replace(N,"$&/")+"/"),K(pt,J,at,"",function(ui){return ui})):pt!=null&&(I(pt)&&(pt=V(pt,at+(pt.key==null||j&&j.key===pt.key?"":(""+pt.key).replace(N,"$&/")+"/")+zt)),J.push(pt)),1;zt=0;var Fe=ct===""?".":ct+":";if($(j))for(var he=0;he<j.length;he++)ct=j[he],bt=Fe+$t(ct,he),zt+=K(ct,J,at,bt,pt);else if(he=S(j),typeof he=="function")for(j=he.call(j),he=0;!(ct=j.next()).done;)ct=ct.value,bt=Fe+$t(ct,he++),zt+=K(ct,J,at,bt,pt);else if(bt==="object"){if(typeof j.then=="function")return K(wt(j),J,at,ct,pt);throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return zt}function rt(j,J,at){if(j==null)return j;var ct=[],pt=0;return K(j,ct,"","",function(bt){return J.call(at,bt,pt++)}),ct}function gt(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(at){(j._status===0||j._status===-1)&&(j._status=1,j._result=at)},function(at){(j._status===0||j._status===-1)&&(j._status=2,j._result=at)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var Dt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Mt={map:rt,forEach:function(j,J,at){rt(j,function(){J.apply(this,arguments)},at)},count:function(j){var J=0;return rt(j,function(){J++}),J},toArray:function(j){return rt(j,function(J){return J})||[]},only:function(j){if(!I(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Tt.Activity=v,Tt.Children=Mt,Tt.Component=U,Tt.Fragment=e,Tt.Profiler=r,Tt.PureComponent=Z,Tt.StrictMode=s,Tt.Suspense=f,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Tt.cache=function(j){return function(){return j.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(j,J,at){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ct=x({},j.props),pt=j.key;if(J!=null)for(bt in J.key!==void 0&&(pt=""+J.key),J)!C.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(ct[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)ct.children=at;else if(1<bt){for(var zt=Array(bt),Fe=0;Fe<bt;Fe++)zt[Fe]=arguments[Fe+2];ct.children=zt}return O(j.type,pt,ct)},Tt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Tt.createElement=function(j,J,at){var ct,pt={},bt=null;if(J!=null)for(ct in J.key!==void 0&&(bt=""+J.key),J)C.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(pt[ct]=J[ct]);var zt=arguments.length-2;if(zt===1)pt.children=at;else if(1<zt){for(var Fe=Array(zt),he=0;he<zt;he++)Fe[he]=arguments[he+2];pt.children=Fe}if(j&&j.defaultProps)for(ct in zt=j.defaultProps,zt)pt[ct]===void 0&&(pt[ct]=zt[ct]);return O(j,bt,pt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(j){return{$$typeof:h,render:j}},Tt.isValidElement=I,Tt.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:gt}},Tt.memo=function(j,J){return{$$typeof:g,type:j,compare:J===void 0?null:J}},Tt.startTransition=function(j){var J=D.T,at={};D.T=at;try{var ct=j(),pt=D.S;pt!==null&&pt(at,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(it,Dt)}catch(bt){Dt(bt)}finally{J!==null&&at.types!==null&&(J.types=at.types),D.T=J}},Tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Tt.use=function(j){return D.H.use(j)},Tt.useActionState=function(j,J,at){return D.H.useActionState(j,J,at)},Tt.useCallback=function(j,J){return D.H.useCallback(j,J)},Tt.useContext=function(j){return D.H.useContext(j)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(j,J){return D.H.useDeferredValue(j,J)},Tt.useEffect=function(j,J){return D.H.useEffect(j,J)},Tt.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Tt.useId=function(){return D.H.useId()},Tt.useImperativeHandle=function(j,J,at){return D.H.useImperativeHandle(j,J,at)},Tt.useInsertionEffect=function(j,J){return D.H.useInsertionEffect(j,J)},Tt.useLayoutEffect=function(j,J){return D.H.useLayoutEffect(j,J)},Tt.useMemo=function(j,J){return D.H.useMemo(j,J)},Tt.useOptimistic=function(j,J){return D.H.useOptimistic(j,J)},Tt.useReducer=function(j,J,at){return D.H.useReducer(j,J,at)},Tt.useRef=function(j){return D.H.useRef(j)},Tt.useState=function(j){return D.H.useState(j)},Tt.useSyncExternalStore=function(j,J,at){return D.H.useSyncExternalStore(j,J,at)},Tt.useTransition=function(){return D.H.useTransition()},Tt.version="19.2.3",Tt}var kv;function gm(){return kv||(kv=1,og.exports=cx()),og.exports}var vt=gm(),lg={exports:{}},kl={},cg={exports:{}},ug={};var zv;function ux(){return zv||(zv=1,(function(i){function t(K,rt){var gt=K.length;K.push(rt);t:for(;0<gt;){var Dt=gt-1>>>1,Mt=K[Dt];if(0<r(Mt,rt))K[Dt]=rt,K[gt]=Mt,gt=Dt;else break t}}function e(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var rt=K[0],gt=K.pop();if(gt!==rt){K[0]=gt;t:for(var Dt=0,Mt=K.length,j=Mt>>>1;Dt<j;){var J=2*(Dt+1)-1,at=K[J],ct=J+1,pt=K[ct];if(0>r(at,gt))ct<Mt&&0>r(pt,at)?(K[Dt]=pt,K[ct]=gt,Dt=ct):(K[Dt]=at,K[J]=gt,Dt=J);else if(ct<Mt&&0>r(pt,gt))K[Dt]=pt,K[ct]=gt,Dt=ct;else break t}}return rt}function r(K,rt){var gt=K.sortIndex-rt.sortIndex;return gt!==0?gt:K.id-rt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,v=null,E=3,S=!1,w=!1,x=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var rt=e(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=K)s(g),rt.sortIndex=rt.expirationTime,t(f,rt);else break;rt=e(g)}}function $(K){if(x=!1,F(K),!w)if(e(f)!==null)w=!0,it||(it=!0,P());else{var rt=e(g);rt!==null&&wt($,rt.startTime-K)}}var it=!1,D=-1,C=5,O=-1;function V(){return M?!0:!(i.unstable_now()-O<C)}function I(){if(M=!1,it){var K=i.unstable_now();O=K;var rt=!0;try{t:{w=!1,x&&(x=!1,L(D),D=-1),S=!0;var gt=E;try{e:{for(F(K),v=e(f);v!==null&&!(v.expirationTime>K&&V());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var Mt=Dt(v.expirationTime<=K);if(K=i.unstable_now(),typeof Mt=="function"){v.callback=Mt,F(K),rt=!0;break e}v===e(f)&&s(f),F(K)}else s(f);v=e(f)}if(v!==null)rt=!0;else{var j=e(g);j!==null&&wt($,j.startTime-K),rt=!1}}break t}finally{v=null,E=gt,S=!1}rt=void 0}}finally{rt?P():it=!1}}}var P;if(typeof Z=="function")P=function(){Z(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$t=N.port2;N.port1.onmessage=I,P=function(){$t.postMessage(null)}}else P=function(){U(I,0)};function wt(K,rt){D=U(function(){K(i.unstable_now())},rt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(K){switch(E){case 1:case 2:case 3:var rt=3;break;default:rt=E}var gt=E;E=rt;try{return K()}finally{E=gt}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(K,rt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var gt=E;E=K;try{return rt()}finally{E=gt}},i.unstable_scheduleCallback=function(K,rt,gt){var Dt=i.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Dt+gt:Dt):gt=Dt,K){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=gt+Mt,K={id:_++,callback:rt,priorityLevel:K,startTime:gt,expirationTime:Mt,sortIndex:-1},gt>Dt?(K.sortIndex=gt,t(g,K),e(f)===null&&K===e(g)&&(x?(L(D),D=-1):x=!0,wt($,gt-Dt))):(K.sortIndex=Mt,t(f,K),w||S||(w=!0,it||(it=!0,P()))),K},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(K){var rt=E;return function(){var gt=E;E=rt;try{return K.apply(this,arguments)}finally{E=gt}}}})(ug)),ug}var Lv;function hx(){return Lv||(Lv=1,cg.exports=ux()),cg.exports}var hg={exports:{}},sn={};var Pv;function fx(){if(Pv)return sn;Pv=1;var i=gm();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},sn.flushSync=function(f){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=g,s.p=_,s.d.f()}},sn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},sn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},sn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):_==="script"&&s.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},sn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin);s.d.L(f,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},sn.requestFormReset=function(f){s.d.r(f)},sn.unstable_batchedUpdates=function(f,g){return f(g)},sn.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var Bv;function dx(){if(Bv)return hg.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hg.exports=fx(),hg.exports}var jv;function gx(){if(jv)return kl;jv=1;var i=hx(),t=gm(),e=dx();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(s(188))}function g(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(s(188));return a!==n?null:n}for(var l=n,u=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),n;if(p===u)return f(m),a;p=p.sibling}throw Error(s(188))}if(l.return!==u.return)l=m,u=p;else{for(var b=!1,A=m.child;A;){if(A===l){b=!0,l=m,u=p;break}if(A===u){b=!0,u=m,l=p;break}A=A.sibling}if(!b){for(A=p.child;A;){if(A===l){b=!0,l=p,u=m;break}if(A===u){b=!0,u=p,l=m;break}A=A.sibling}if(!b)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:a}function _(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=_(n),a!==null)return a;n=n.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function $t(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case U:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case it:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case Z:return n.displayName||"Context";case L:return(n._context.displayName||"Context")+".Consumer";case F:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return a=n.displayName||null,a!==null?a:$t(n.type)||"Memo";case C:a=n._payload,n=n._init;try{return $t(n(a))}catch{}}return null}var wt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Dt=[],Mt=-1;function j(n){return{current:n}}function J(n){0>Mt||(n.current=Dt[Mt],Dt[Mt]=null,Mt--)}function at(n,a){Mt++,Dt[Mt]=n.current,n.current=a}var ct=j(null),pt=j(null),bt=j(null),zt=j(null);function Fe(n,a){switch(at(bt,a),at(pt,n),at(ct,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?ev(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=ev(a),n=nv(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(ct),at(ct,n)}function he(){J(ct),J(pt),J(bt)}function ui(n){n.memoizedState!==null&&at(zt,n);var a=ct.current,l=nv(a,n.type);a!==l&&(at(pt,n),at(ct,l))}function Ni(n){pt.current===n&&(J(ct),J(pt)),zt.current===n&&(J(zt),Ml._currentValue=gt)}var ya,fr;function ti(n){if(ya===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ya=a&&a[1]||"",fr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+n+fr}var va=!1;function dr(n,a){if(!n||va)return"";va=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var Q=X}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(X){Q=X}n.call(nt.prototype)}}else{try{throw Error()}catch(X){Q=X}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],A=p[1];if(b&&A){var k=b.split(`
`),Y=A.split(`
`);for(m=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===k.length||m===Y.length)for(u=k.length-1,m=Y.length-1;1<=u&&0<=m&&k[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(k[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||k[u]!==Y[m]){var tt=`
`+k[u].replace(" at new "," at ");return n.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",n.displayName)),tt}while(1<=u&&0<=m);break}}}finally{va=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ti(l):""}function nf(n,a){switch(n.tag){case 26:case 27:case 5:return ti(n.type);case 16:return ti("Lazy");case 13:return n.child!==a&&a!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return dr(n.type,!1);case 11:return dr(n.type.render,!1);case 1:return dr(n.type,!0);case 31:return ti("Activity");default:return""}}function Ec(n){try{var a="",l=null;do a+=nf(n,l),l=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var gr=Object.prototype.hasOwnProperty,ba=i.unstable_scheduleCallback,mr=i.unstable_cancelCallback,sf=i.unstable_shouldYield,No=i.unstable_requestPaint,qe=i.unstable_now,Sc=i.unstable_getCurrentPriorityLevel,Ie=i.unstable_ImmediatePriority,ke=i.unstable_UserBlockingPriority,Vi=i.unstable_NormalPriority,xc=i.unstable_LowPriority,Vo=i.unstable_IdlePriority,af=i.log,Ta=i.unstable_setDisableYieldValue,gs=null,en=null;function Bn(n){if(typeof af=="function"&&Ta(n),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(gs,n)}catch{}}var fn=Math.clz32?Math.clz32:Ac,rf=Math.log,ko=Math.LN2;function Ac(n){return n>>>=0,n===0?32:31-(rf(n)/ko|0)|0}var Ea=256,hi=262144,ms=4194304;function ei(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jn(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var m=0,p=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?m=ei(u):(b&=A,b!==0?m=ei(b):l||(l=A&~n,l!==0&&(m=ei(l))))):(A=u&~p,A!==0?m=ei(A):b!==0?m=ei(b):l||(l=u&~n,l!==0&&(m=ei(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function ps(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function pr(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var n=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),n}function ki(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function _s(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ge(n,a,l,u,m,p){var b=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var A=n.entanglements,k=n.expirationTimes,Y=n.hiddenUpdates;for(l=b&~l;0<l;){var tt=31-fn(l),nt=1<<tt;A[tt]=0,k[tt]=-1;var Q=Y[tt];if(Q!==null)for(Y[tt]=null,tt=0;tt<Q.length;tt++){var X=Q[tt];X!==null&&(X.lane&=-536870913)}l&=~nt}u!==0&&Lo(n,u,0),p!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~a))}function Lo(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-fn(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function ys(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-fn(l),m=1<<u;m&a|n[u]&a&&(n[u]|=a),l&=~m}}function vs(n,a){var l=a&-a;return l=(l&42)!==0?1:Po(l),(l&(n.suspendedLanes|a))!==0?0:l}function Po(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Bo(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zi(){var n=rt.p;return n!==0?n:(n=window.event,n===void 0?32:Av(n.type))}function wc(n,a){var l=rt.p;try{return rt.p=n,a()}finally{rt.p=l}}var fi=Math.random().toString(36).slice(2),fe="__reactFiber$"+fi,Ye="__reactProps$"+fi,di="__reactContainer$"+fi,bs="__reactEvents$"+fi,gi="__reactListeners$"+fi,Rc="__reactHandles$"+fi,jo="__reactResources$"+fi,Li="__reactMarker$"+fi;function Sa(n){delete n[fe],delete n[Ye],delete n[bs],delete n[gi],delete n[Rc]}function Pi(n){var a=n[fe];if(a)return a;for(var l=n.parentNode;l;){if(a=l[di]||l[fe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=cv(n);n!==null;){if(l=n[fe])return l;n=cv(n)}return a}n=l,l=n.parentNode}return null}function Bi(n){if(n=n[fe]||n[di]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function xa(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function ni(n){var a=n[jo];return a||(a=n[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function _e(n){n[Li]=!0}var _r=new Set,Ts={};function dn(n,a){mi(n,a),mi(n+"Capture",a)}function mi(n,a){for(Ts[n]=a,n=0;n<a.length;n++)_r.add(a[n])}var of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Ho={};function Cc(n){return gr.call(Ho,n)?!0:gr.call(Uo,n)?!1:of.test(n)?Ho[n]=!0:(Uo[n]=!0,!1)}function Es(n,a,l){if(Cc(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function Ss(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function Un(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Dc(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lf(n,a,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function yr(n){if(!n._valueTracker){var a=Dc(n)?"checked":"value";n._valueTracker=lf(n,a,""+n[a])}}function Fo(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=Dc(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ji=/[\n"\\]/g;function de(n){return n.replace(ji,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xs(n,a,l,u,m,p,b,A){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),a!=null?b==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+gn(a)):n.value!==""+gn(a)&&(n.value=""+gn(a)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),a!=null?br(n,b,gn(a)):l!=null?br(n,b,gn(l)):u!=null&&n.removeAttribute("value"),m==null&&p!=null&&(n.defaultChecked=!!p),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+gn(A):n.removeAttribute("name")}function Aa(n,a,l,u,m,p,b,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){yr(n);return}l=l!=null?""+gn(l):"",a=a!=null?""+gn(a):l,A||a===n.value||(n.value=a),n.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),yr(n)}function br(n,a,l){a==="number"&&vr(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ft(n,a,l,u){if(n=n.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=a.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&u&&(n[l].defaultSelected=!0)}else{for(l=""+gn(l),a=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}a!==null||n[m].disabled||(a=n[m])}a!==null&&(a.selected=!0)}}function wa(n,a,l){if(a!=null&&(a=""+gn(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+gn(l):""}function As(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(s(92));if(wt(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=gn(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),yr(n)}function Hn(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||cf.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function Mc(n,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&qo(n,m,u)}else for(var p in a)a.hasOwnProperty(p)&&qo(n,p,a[p])}function Go(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(n){return hf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ze(){}var Tr=null;function Er(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ui=null,Cn=null;function Oc(n){var a=Bi(n);if(a&&(n=a.stateNode)){var l=n[Ye]||null;t:switch(n=a.stateNode,a.type){case"input":if(xs(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+de(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var m=u[Ye]||null;if(!m)throw Error(s(90));xs(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&Fo(u)}break t;case"textarea":wa(n,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Ft(n,!!l.multiple,a,!1)}}}var Yo=!1;function Ic(n,a,l){if(Yo)return n(a,l);Yo=!0;try{var u=n(a);return u}finally{if(Yo=!1,(Ui!==null||Cn!==null)&&(Cu(),Ui&&(a=Ui,n=Cn,Cn=Ui=null,Oc(a),n)))for(a=0;a<n.length;a++)Oc(n[a])}}function vn(n,a){var l=n.stateNode;if(l===null)return null;var u=l[Ye]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(ii)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Qo=!1}var Dn=null,Sr=null,yi=null;function ws(){if(yi)return yi;var n,a=Sr,l=a.length,u,m="value"in Dn?Dn.value:Dn.textContent,p=m.length;for(n=0;n<l&&a[n]===m[n];n++);var b=l-n;for(u=1;u<=b&&a[l-u]===m[p-u];u++);return yi=m.slice(n,1<u?1-u:void 0)}function Ra(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Rs(){return!0}function ae(){return!1}function nn(n){function a(l,u,m,p,b){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(l=n[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Rs:ae,this.isPropagationStopped=ae,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),a}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=nn(Hi),Cs=v({},Hi,{view:0,detail:0}),Nc=nn(Cs),Ds,xr,mn,Da=v({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mn&&(mn&&n.type==="mousemove"?(Ds=n.screenX-mn.screenX,xr=n.screenY-mn.screenY):xr=Ds=0,mn=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:xr}}),Vc=nn(Da),Ma=v({},Da,{dataTransfer:0}),kc=nn(Ma),Ko=v({},Cs,{relatedTarget:0}),Ms=nn(Ko),zc=v({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=nn(zc),ff=v({},Hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Lc=nn(ff),Oa=v({},Hi,{data:0}),Xo=nn(Oa),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bc(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Wo[n])?!!a[n]:!1}function Os(){return Bc}var jc=v({},Cs,{key:function(n){if(n.key){var a=Pc[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ra(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$o[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(n){return n.type==="keypress"?Ra(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ra(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Uc=nn(jc),Fi=v({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=nn(Fi),Hc=v({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Fc=nn(Hc),qc=v({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wr=nn(qc),pn=v({},Da,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gc=nn(pn),Yc=v({},Hi,{newState:0,oldState:0}),Is=nn(Yc),d=[9,13,27,32],y=ii&&"CompositionEvent"in window,T=null;ii&&"documentMode"in document&&(T=document.documentMode);var R=ii&&"TextEvent"in window&&!T,q=ii&&(!y||T&&8<T&&11>=T),W=" ",lt=!1;function Wt(n,a){switch(n){case"keyup":return d.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Rt=!1;function Le(n,a){switch(n){case"compositionend":return Se(a);case"keypress":return a.which!==32?null:(lt=!0,W);case"textInput":return n=a.data,n===W&&lt?null:n;default:return null}}function Pe(n,a){if(Rt)return n==="compositionend"||!y&&Wt(n,a)?(n=ws(),yi=Sr=Dn=null,Rt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return q&&a.locale!=="ko"?null:a.data;default:return null}}var Ns={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bn(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Ns[n.type]:a==="textarea"}function Ia(n,a,l,u){Ui?Cn?Cn.push(u):Cn=[u]:Ui=u,a=ku(a,"onChange"),0<a.length&&(l=new Ca("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var qi=null,Jo=null;function VE(n){Xy(n,0)}function Qc(n){var a=xa(n);if(Fo(a))return n}function gp(n,a){if(n==="change")return a}var mp=!1;if(ii){var df;if(ii){var gf="oninput"in document;if(!gf){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),gf=typeof pp.oninput=="function"}df=gf}else df=!1;mp=df&&(!document.documentMode||9<document.documentMode)}function _p(){qi&&(qi.detachEvent("onpropertychange",yp),Jo=qi=null)}function yp(n){if(n.propertyName==="value"&&Qc(Jo)){var a=[];Ia(a,Jo,n,Er(n)),Ic(VE,a)}}function kE(n,a,l){n==="focusin"?(_p(),qi=a,Jo=l,qi.attachEvent("onpropertychange",yp)):n==="focusout"&&_p()}function zE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qc(Jo)}function LE(n,a){if(n==="click")return Qc(a)}function PE(n,a){if(n==="input"||n==="change")return Qc(a)}function BE(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Mn=typeof Object.is=="function"?Object.is:BE;function tl(n,a){if(Mn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!gr.call(a,m)||!Mn(n[m],a[m]))return!1}return!0}function vp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bp(n,a){var l=vp(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=vp(l)}}function Tp(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Tp(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Ep(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=vr(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=vr(n.document)}return a}function mf(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var jE=ii&&"documentMode"in document&&11>=document.documentMode,Rr=null,pf=null,el=null,_f=!1;function Sp(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_f||Rr==null||Rr!==vr(u)||(u=Rr,"selectionStart"in u&&mf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),el&&tl(el,u)||(el=u,u=ku(pf,"onSelect"),0<u.length&&(a=new Ca("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=Rr)))}function Na(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Cr={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},yf={},xp={};ii&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Va(n){if(yf[n])return yf[n];if(!Cr[n])return n;var a=Cr[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in xp)return yf[n]=a[l];return n}var Ap=Va("animationend"),wp=Va("animationiteration"),Rp=Va("animationstart"),UE=Va("transitionrun"),HE=Va("transitionstart"),FE=Va("transitioncancel"),Cp=Va("transitionend"),Dp=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function si(n,a){Dp.set(n,a),dn(a,[n])}var Kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Fn=[],Dr=0,bf=0;function Xc(){for(var n=Dr,a=bf=Dr=0;a<n;){var l=Fn[a];Fn[a++]=null;var u=Fn[a];Fn[a++]=null;var m=Fn[a];Fn[a++]=null;var p=Fn[a];if(Fn[a++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}p!==0&&Mp(l,m,p)}}function $c(n,a,l,u){Fn[Dr++]=n,Fn[Dr++]=a,Fn[Dr++]=l,Fn[Dr++]=u,bf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Tf(n,a,l,u){return $c(n,a,l,u),Wc(n)}function ka(n,a){return $c(n,null,null,a),Wc(n)}function Mp(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=n.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(m=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,m&&a!==null&&(m=31-fn(l),n=p.hiddenUpdates,u=n[m],u===null?n[m]=[a]:u.push(a),a.lane=l|536870912),p):null}function Wc(n){if(50<Sl)throw Sl=0,Md=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Mr={};function qE(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,a,l,u){return new qE(n,a,l,u)}function Ef(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gi(n,a){var l=n.alternate;return l===null?(l=On(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Op(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Zc(n,a,l,u,m,p){var b=0;if(u=n,typeof n=="function")Ef(n)&&(b=1);else if(typeof n=="string")b=XS(n,l,ct.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case O:return n=On(31,l,a,m),n.elementType=O,n.lanes=p,n;case x:return za(l.children,m,p,a);case M:b=8,m|=24;break;case U:return n=On(12,l,a,m|2),n.elementType=U,n.lanes=p,n;case $:return n=On(13,l,a,m),n.elementType=$,n.lanes=p,n;case it:return n=On(19,l,a,m),n.elementType=it,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:b=10;break t;case L:b=9;break t;case F:b=11;break t;case D:b=14;break t;case C:b=16,u=null;break t}b=29,l=Error(s(130,n===null?"null":typeof n,"")),u=null}return a=On(b,l,a,m),a.elementType=n,a.type=u,a.lanes=p,a}function za(n,a,l,u){return n=On(7,n,u,a),n.lanes=l,n}function Sf(n,a,l){return n=On(6,n,null,a),n.lanes=l,n}function Ip(n){var a=On(18,null,null,0);return a.stateNode=n,a}function xf(n,a,l){return a=On(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Np=new WeakMap;function qn(n,a){if(typeof n=="object"&&n!==null){var l=Np.get(n);return l!==void 0?l:(a={value:n,source:a,stack:Ec(a)},Np.set(n,a),a)}return{value:n,source:a,stack:Ec(a)}}var Or=[],Ir=0,Jc=null,nl=0,Gn=[],Yn=0,Vs=null,vi=1,bi="";function Yi(n,a){Or[Ir++]=nl,Or[Ir++]=Jc,Jc=n,nl=a}function Vp(n,a,l){Gn[Yn++]=vi,Gn[Yn++]=bi,Gn[Yn++]=Vs,Vs=n;var u=vi;n=bi;var m=32-fn(u)-1;u&=~(1<<m),l+=1;var p=32-fn(a)+m;if(30<p){var b=m-m%5;p=(u&(1<<b)-1).toString(32),u>>=b,m-=b,vi=1<<32-fn(a)+m|l<<m|u,bi=p+n}else vi=1<<p|l<<m|u,bi=n}function Af(n){n.return!==null&&(Yi(n,1),Vp(n,1,0))}function wf(n){for(;n===Jc;)Jc=Or[--Ir],Or[Ir]=null,nl=Or[--Ir],Or[Ir]=null;for(;n===Vs;)Vs=Gn[--Yn],Gn[Yn]=null,bi=Gn[--Yn],Gn[Yn]=null,vi=Gn[--Yn],Gn[Yn]=null}function kp(n,a){Gn[Yn++]=vi,Gn[Yn++]=bi,Gn[Yn++]=Vs,vi=a.id,bi=a.overflow,Vs=n}var Qe=null,re=null,Lt=!1,ks=null,Qn=!1,Rf=Error(s(519));function zs(n){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(qn(a,n)),Rf}function zp(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[fe]=n,a[Ye]=u,l){case"dialog":It("cancel",a),It("close",a);break;case"iframe":case"object":case"embed":It("load",a);break;case"video":case"audio":for(l=0;l<Al.length;l++)It(Al[l],a);break;case"source":It("error",a);break;case"img":case"image":case"link":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"input":It("invalid",a),Aa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":It("invalid",a);break;case"textarea":It("invalid",a),As(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Jy(a.textContent,l)?(u.popover!=null&&(It("beforetoggle",a),It("toggle",a)),u.onScroll!=null&&It("scroll",a),u.onScrollEnd!=null&&It("scrollend",a),u.onClick!=null&&(a.onclick=ze),a=!0):a=!1,a||zs(n,!0)}function Lp(n){for(Qe=n.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Qe=Qe.return}}function Nr(n){if(n!==Qe)return!1;if(!Lt)return Lp(n),Lt=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Gd(n.type,n.memoizedProps)),l=!l),l&&re&&zs(n),Lp(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));re=lv(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));re=lv(n)}else a===27?(a=re,$s(n.type)?(n=$d,$d=null,re=n):re=a):re=Qe?Xn(n.stateNode.nextSibling):null;return!0}function La(){re=Qe=null,Lt=!1}function Cf(){var n=ks;return n!==null&&(xn===null?xn=n:xn.push.apply(xn,n),ks=null),n}function il(n){ks===null?ks=[n]:ks.push(n)}var Df=j(null),Pa=null,Qi=null;function Ls(n,a,l){at(Df,a._currentValue),a._currentValue=l}function Ki(n){n._currentValue=Df.current,J(Df)}function Mf(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function Of(n,a,l,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=m;for(var k=0;k<a.length;k++)if(A.context===a[k]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),Mf(p.return,l,n),u||(b=null);break t}p=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Mf(b,l,n),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===n){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Vr(n,a,l,u){n=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=m.type;Mn(m.pendingProps.value,b.value)||(n!==null?n.push(A):n=[A])}}else if(m===zt.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}m=m.return}n!==null&&Of(a,n,l,u),a.flags|=262144}function tu(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ba(n){Pa=n,Qi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ke(n){return Pp(Pa,n)}function eu(n,a){return Pa===null&&Ba(n),Pp(n,a)}function Pp(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Qi===null){if(n===null)throw Error(s(308));Qi=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Qi=Qi.next=a;return l}var GE=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},YE=i.unstable_scheduleCallback,QE=i.unstable_NormalPriority,xe={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new GE,data:new Map,refCount:0}}function sl(n){n.refCount--,n.refCount===0&&YE(QE,function(){n.controller.abort()})}var al=null,Nf=0,kr=0,zr=null;function KE(n,a){if(al===null){var l=al=[];Nf=0,kr=zd(),zr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Nf++,a.then(Bp,Bp),a}function Bp(){if(--Nf===0&&al!==null){zr!==null&&(zr.status="fulfilled");var n=al;al=null,kr=0,zr=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function XE(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var jp=K.S;K.S=function(n,a){Sy=qe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&KE(n,a),jp!==null&&jp(n,a)};var ja=j(null);function Vf(){var n=ja.current;return n!==null?n:se.pooledCache}function nu(n,a){a===null?at(ja,ja.current):at(ja,a.pool)}function Up(){var n=Vf();return n===null?null:{parent:xe._currentValue,pool:n}}var Lr=Error(s(460)),kf=Error(s(474)),iu=Error(s(542)),su={then:function(){}};function Hp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Fp(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(ze,ze),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Gp(n),n;default:if(typeof a.status=="string")a.then(ze,ze);else{if(n=se,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Gp(n),n}throw Ha=a,Lr}}function Ua(n){try{var a=n._init;return a(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ha=l,Lr):l}}var Ha=null;function qp(){if(Ha===null)throw Error(s(459));var n=Ha;return Ha=null,n}function Gp(n){if(n===Lr||n===iu)throw Error(s(483))}var Pr=null,rl=0;function au(n){var a=rl;return rl+=1,Pr===null&&(Pr=[]),Fp(Pr,n,a)}function ol(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function ru(n,a){throw a.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Yp(n){function a(H,B){if(n){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function l(H,B){if(!n)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function m(H,B){return H=Gi(H,B),H.index=0,H.sibling=null,H}function p(H,B,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function b(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function A(H,B,G,et){return B===null||B.tag!==6?(B=Sf(G,H.mode,et),B.return=H,B):(B=m(B,G),B.return=H,B)}function k(H,B,G,et){var mt=G.type;return mt===x?tt(H,B,G.props.children,et,G.key):B!==null&&(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===C&&Ua(mt)===B.type)?(B=m(B,G.props),ol(B,G),B.return=H,B):(B=Zc(G.type,G.key,G.props,null,H.mode,et),ol(B,G),B.return=H,B)}function Y(H,B,G,et){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=xf(G,H.mode,et),B.return=H,B):(B=m(B,G.children||[]),B.return=H,B)}function tt(H,B,G,et,mt){return B===null||B.tag!==7?(B=za(G,H.mode,et,mt),B.return=H,B):(B=m(B,G),B.return=H,B)}function nt(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Sf(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return G=Zc(B.type,B.key,B.props,null,H.mode,G),ol(G,B),G.return=H,G;case w:return B=xf(B,H.mode,G),B.return=H,B;case C:return B=Ua(B),nt(H,B,G)}if(wt(B)||P(B))return B=za(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return nt(H,au(B),G);if(B.$$typeof===Z)return nt(H,eu(H,B),G);ru(H,B)}return null}function Q(H,B,G,et){var mt=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return mt!==null?null:A(H,B,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===mt?k(H,B,G,et):null;case w:return G.key===mt?Y(H,B,G,et):null;case C:return G=Ua(G),Q(H,B,G,et)}if(wt(G)||P(G))return mt!==null?null:tt(H,B,G,et,null);if(typeof G.then=="function")return Q(H,B,au(G),et);if(G.$$typeof===Z)return Q(H,B,eu(H,G),et);ru(H,G)}return null}function X(H,B,G,et,mt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return H=H.get(G)||null,A(B,H,""+et,mt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return H=H.get(et.key===null?G:et.key)||null,k(B,H,et,mt);case w:return H=H.get(et.key===null?G:et.key)||null,Y(B,H,et,mt);case C:return et=Ua(et),X(H,B,G,et,mt)}if(wt(et)||P(et))return H=H.get(G)||null,tt(B,H,et,mt,null);if(typeof et.then=="function")return X(H,B,G,au(et),mt);if(et.$$typeof===Z)return X(H,B,G,eu(B,et),mt);ru(B,et)}return null}function ut(H,B,G,et){for(var mt=null,qt=null,ft=B,At=B=0,kt=null;ft!==null&&At<G.length;At++){ft.index>At?(kt=ft,ft=null):kt=ft.sibling;var Gt=Q(H,ft,G[At],et);if(Gt===null){ft===null&&(ft=kt);break}n&&ft&&Gt.alternate===null&&a(H,ft),B=p(Gt,B,At),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt,ft=kt}if(At===G.length)return l(H,ft),Lt&&Yi(H,At),mt;if(ft===null){for(;At<G.length;At++)ft=nt(H,G[At],et),ft!==null&&(B=p(ft,B,At),qt===null?mt=ft:qt.sibling=ft,qt=ft);return Lt&&Yi(H,At),mt}for(ft=u(ft);At<G.length;At++)kt=X(ft,H,At,G[At],et),kt!==null&&(n&&kt.alternate!==null&&ft.delete(kt.key===null?At:kt.key),B=p(kt,B,At),qt===null?mt=kt:qt.sibling=kt,qt=kt);return n&&ft.forEach(function(ea){return a(H,ea)}),Lt&&Yi(H,At),mt}function yt(H,B,G,et){if(G==null)throw Error(s(151));for(var mt=null,qt=null,ft=B,At=B=0,kt=null,Gt=G.next();ft!==null&&!Gt.done;At++,Gt=G.next()){ft.index>At?(kt=ft,ft=null):kt=ft.sibling;var ea=Q(H,ft,Gt.value,et);if(ea===null){ft===null&&(ft=kt);break}n&&ft&&ea.alternate===null&&a(H,ft),B=p(ea,B,At),qt===null?mt=ea:qt.sibling=ea,qt=ea,ft=kt}if(Gt.done)return l(H,ft),Lt&&Yi(H,At),mt;if(ft===null){for(;!Gt.done;At++,Gt=G.next())Gt=nt(H,Gt.value,et),Gt!==null&&(B=p(Gt,B,At),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt);return Lt&&Yi(H,At),mt}for(ft=u(ft);!Gt.done;At++,Gt=G.next())Gt=X(ft,H,At,Gt.value,et),Gt!==null&&(n&&Gt.alternate!==null&&ft.delete(Gt.key===null?At:Gt.key),B=p(Gt,B,At),qt===null?mt=Gt:qt.sibling=Gt,qt=Gt);return n&&ft.forEach(function(rx){return a(H,rx)}),Lt&&Yi(H,At),mt}function ie(H,B,G,et){if(typeof G=="object"&&G!==null&&G.type===x&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var mt=G.key;B!==null;){if(B.key===mt){if(mt=G.type,mt===x){if(B.tag===7){l(H,B.sibling),et=m(B,G.props.children),et.return=H,H=et;break t}}else if(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===C&&Ua(mt)===B.type){l(H,B.sibling),et=m(B,G.props),ol(et,G),et.return=H,H=et;break t}l(H,B);break}else a(H,B);B=B.sibling}G.type===x?(et=za(G.props.children,H.mode,et,G.key),et.return=H,H=et):(et=Zc(G.type,G.key,G.props,null,H.mode,et),ol(et,G),et.return=H,H=et)}return b(H);case w:t:{for(mt=G.key;B!==null;){if(B.key===mt)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(H,B.sibling),et=m(B,G.children||[]),et.return=H,H=et;break t}else{l(H,B);break}else a(H,B);B=B.sibling}et=xf(G,H.mode,et),et.return=H,H=et}return b(H);case C:return G=Ua(G),ie(H,B,G,et)}if(wt(G))return ut(H,B,G,et);if(P(G)){if(mt=P(G),typeof mt!="function")throw Error(s(150));return G=mt.call(G),yt(H,B,G,et)}if(typeof G.then=="function")return ie(H,B,au(G),et);if(G.$$typeof===Z)return ie(H,B,eu(H,G),et);ru(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(l(H,B.sibling),et=m(B,G),et.return=H,H=et):(l(H,B),et=Sf(G,H.mode,et),et.return=H,H=et),b(H)):l(H,B)}return function(H,B,G,et){try{rl=0;var mt=ie(H,B,G,et);return Pr=null,mt}catch(ft){if(ft===Lr||ft===iu)throw ft;var qt=On(29,ft,null,H.mode);return qt.lanes=et,qt.return=H,qt}}}var Fa=Yp(!0),Qp=Yp(!1),Ps=!1;function zf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Bs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function js(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Wc(n),Mp(n,null,l),a}return $c(n,u,a,l),Wc(n)}function ll(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,ys(n,l)}}function Pf(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var Bf=!1;function cl(){if(Bf){var n=zr;if(n!==null)throw n}}function ul(n,a,l,u){Bf=!1;var m=n.updateQueue;Ps=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var k=A,Y=k.next;k.next=null,b===null?p=Y:b.next=Y,b=k;var tt=n.alternate;tt!==null&&(tt=tt.updateQueue,A=tt.lastBaseUpdate,A!==b&&(A===null?tt.firstBaseUpdate=Y:A.next=Y,tt.lastBaseUpdate=k))}if(p!==null){var nt=m.baseState;b=0,tt=Y=k=null,A=p;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(Vt&Q)===Q:(u&Q)===Q){Q!==0&&Q===kr&&(Bf=!0),tt!==null&&(tt=tt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ut=n,yt=A;Q=a;var ie=l;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){nt=ut.call(ie,nt,Q);break t}nt=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,Q=typeof ut=="function"?ut.call(ie,nt,Q):ut,Q==null)break t;nt=v({},nt,Q);break t;case 2:Ps=!0}}Q=A.callback,Q!==null&&(n.flags|=64,X&&(n.flags|=8192),X=m.callbacks,X===null?m.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},tt===null?(Y=tt=X,k=nt):tt=tt.next=X,b|=Q;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;X=A,A=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);tt===null&&(k=nt),m.baseState=k,m.firstBaseUpdate=Y,m.lastBaseUpdate=tt,p===null&&(m.shared.lanes=0),Gs|=b,n.lanes=b,n.memoizedState=nt}}function Kp(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function Xp(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Kp(l[n],a)}var Br=j(null),ou=j(0);function $p(n,a){n=is,at(ou,n),at(Br,a),is=n|a.baseLanes}function jf(){at(ou,is),at(Br,Br.current)}function Uf(){is=ou.current,J(Br),J(ou)}var In=j(null),Kn=null;function Us(n){var a=n.alternate;at(ye,ye.current&1),at(In,n),Kn===null&&(a===null||Br.current!==null||a.memoizedState!==null)&&(Kn=n)}function Hf(n){at(ye,ye.current),at(In,n),Kn===null&&(Kn=n)}function Wp(n){n.tag===22?(at(ye,ye.current),at(In,n),Kn===null&&(Kn=n)):Hs()}function Hs(){at(ye,ye.current),at(In,In.current)}function Nn(n){J(In),Kn===n&&(Kn=null),J(ye)}var ye=j(0);function lu(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Kd(l)||Xd(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xi=0,St=null,ee=null,Ae=null,cu=!1,jr=!1,qa=!1,uu=0,hl=0,Ur=null,$E=0;function ge(){throw Error(s(321))}function Ff(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Mn(n[l],a[l]))return!1;return!0}function qf(n,a,l,u,m,p){return Xi=p,St=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=n===null||n.memoizedState===null?V_:ad,qa=!1,p=l(u,m),qa=!1,jr&&(p=Jp(a,l,u,m)),Zp(n),p}function Zp(n){K.H=gl;var a=ee!==null&&ee.next!==null;if(Xi=0,Ae=ee=St=null,cu=!1,hl=0,Ur=null,a)throw Error(s(300));n===null||we||(n=n.dependencies,n!==null&&tu(n)&&(we=!0))}function Jp(n,a,l,u){St=n;var m=0;do{if(jr&&(Ur=null),hl=0,jr=!1,25<=m)throw Error(s(301));if(m+=1,Ae=ee=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=k_,p=a(l,u)}while(jr);return p}function WE(){var n=K.H,a=n.useState()[0];return a=typeof a.then=="function"?fl(a):a,n=n.useState()[0],(ee!==null?ee.memoizedState:null)!==n&&(St.flags|=1024),a}function Gf(){var n=uu!==0;return uu=0,n}function Yf(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Qf(n){if(cu){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}cu=!1}Xi=0,Ae=ee=St=null,jr=!1,hl=uu=0,Ur=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=n:Ae=Ae.next=n,Ae}function ve(){if(ee===null){var n=St.alternate;n=n!==null?n.memoizedState:null}else n=ee.next;var a=Ae===null?St.memoizedState:Ae.next;if(a!==null)Ae=a,ee=n;else{if(n===null)throw St.alternate===null?Error(s(467)):Error(s(310));ee=n,n={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ae===null?St.memoizedState=Ae=n:Ae=Ae.next=n}return Ae}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(n){var a=hl;return hl+=1,Ur===null&&(Ur=[]),n=Fp(Ur,n,a),a=St,(Ae===null?a.memoizedState:Ae.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?V_:ad),n}function fu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return fl(n);if(n.$$typeof===Z)return Ke(n)}throw Error(s(438,String(n)))}function Kf(n){var a=null,l=St.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=St.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=hu(),St.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=V;return a.index++,l}function $i(n,a){return typeof a=="function"?a(n):a}function du(n){var a=ve();return Xf(a,ee,n)}function Xf(n,a,l){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var m=n.baseQueue,p=u.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}a.baseQueue=m=p,u.pending=null}if(p=n.baseState,m===null)n.memoizedState=p;else{a=m.next;var A=b=null,k=null,Y=a,tt=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Vt&nt)===nt:(Xi&nt)===nt){var Q=Y.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===kr&&(tt=!0);else if((Xi&Q)===Q){Y=Y.next,Q===kr&&(tt=!0);continue}else nt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(A=k=nt,b=p):k=k.next=nt,St.lanes|=Q,Gs|=Q;nt=Y.action,qa&&l(p,nt),p=Y.hasEagerState?Y.eagerState:l(p,nt)}else Q={lane:nt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(A=k=Q,b=p):k=k.next=Q,St.lanes|=nt,Gs|=nt;Y=Y.next}while(Y!==null&&Y!==a);if(k===null?b=p:k.next=A,!Mn(p,n.memoizedState)&&(we=!0,tt&&(l=zr,l!==null)))throw l;n.memoizedState=p,n.baseState=b,n.baseQueue=k,u.lastRenderedState=p}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function $f(n){var a=ve(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var u=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=n(p,b.action),b=b.next;while(b!==m);Mn(p,a.memoizedState)||(we=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function t_(n,a,l){var u=St,m=ve(),p=Lt;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=a();var b=!Mn((ee||m).memoizedState,l);if(b&&(m.memoizedState=l,we=!0),m=m.queue,Jf(i_.bind(null,u,m,n),[n]),m.getSnapshot!==a||b||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,Hr(9,{destroy:void 0},n_.bind(null,u,m,l,a),null),se===null)throw Error(s(349));p||(Xi&127)!==0||e_(u,a,l)}return l}function e_(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=St.updateQueue,a===null?(a=hu(),St.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function n_(n,a,l,u){a.value=l,a.getSnapshot=u,s_(a)&&a_(n)}function i_(n,a,l){return l(function(){s_(a)&&a_(n)})}function s_(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Mn(n,l)}catch{return!0}}function a_(n){var a=ka(n,2);a!==null&&An(a,n,2)}function Wf(n){var a=_n();if(typeof n=="function"){var l=n;if(n=l(),qa){Bn(!0);try{l()}finally{Bn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:n},a}function r_(n,a,l,u){return n.baseState=l,Xf(n,ee,typeof u=="function"?u:$i)}function ZE(n,a,l,u,m){if(pu(n))throw Error(s(485));if(n=a.action,n!==null){var p={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};K.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,o_(a,p)):(p.next=l.next,a.pending=l.next=p)}}function o_(n,a){var l=a.action,u=a.payload,m=n.state;if(a.isTransition){var p=K.T,b={};K.T=b;try{var A=l(m,u),k=K.S;k!==null&&k(b,A),l_(n,a,A)}catch(Y){Zf(n,a,Y)}finally{p!==null&&b.types!==null&&(p.types=b.types),K.T=p}}else try{p=l(m,u),l_(n,a,p)}catch(Y){Zf(n,a,Y)}}function l_(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){c_(n,a,u)},function(u){return Zf(n,a,u)}):c_(n,a,l)}function c_(n,a,l){a.status="fulfilled",a.value=l,u_(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,o_(n,l)))}function Zf(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,u_(a),a=a.next;while(a!==u)}n.action=null}function u_(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function h_(n,a){return a}function f_(n,a){if(Lt){var l=se.formState;if(l!==null){t:{var u=St;if(Lt){if(re){e:{for(var m=re,p=Qn;m.nodeType!==8;){if(!p){m=null;break e}if(m=Xn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){re=Xn(m.nextSibling),u=m.data==="F!";break t}}zs(u)}u=!1}u&&(a=l[0])}}return l=_n(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:a},l.queue=u,l=O_.bind(null,St,u),u.dispatch=l,u=Wf(!1),p=sd.bind(null,St,!1,u.queue),u=_n(),m={state:a,dispatch:null,action:n,pending:null},u.queue=m,l=ZE.bind(null,St,m,p,l),m.dispatch=l,u.memoizedState=n,[a,l,!1]}function d_(n){var a=ve();return g_(a,ee,n)}function g_(n,a,l){if(a=Xf(n,a,h_)[0],n=du($i)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=fl(a)}catch(b){throw b===Lr?iu:b}else u=a;a=ve();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(St.flags|=2048,Hr(9,{destroy:void 0},JE.bind(null,m,l),null)),[u,p,n]}function JE(n,a){n.action=a}function m_(n){var a=ve(),l=ee;if(l!==null)return g_(a,l,n);ve(),a=a.memoizedState,l=ve();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function Hr(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=St.updateQueue,a===null&&(a=hu(),St.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function p_(){return ve().memoizedState}function gu(n,a,l,u){var m=_n();St.flags|=n,m.memoizedState=Hr(1|a,{destroy:void 0},l,u===void 0?null:u)}function mu(n,a,l,u){var m=ve();u=u===void 0?null:u;var p=m.memoizedState.inst;ee!==null&&u!==null&&Ff(u,ee.memoizedState.deps)?m.memoizedState=Hr(a,p,l,u):(St.flags|=n,m.memoizedState=Hr(1|a,p,l,u))}function __(n,a){gu(8390656,8,n,a)}function Jf(n,a){mu(2048,8,n,a)}function tS(n){St.flags|=4;var a=St.updateQueue;if(a===null)a=hu(),St.updateQueue=a,a.events=[n];else{var l=a.events;l===null?a.events=[n]:l.push(n)}}function y_(n){var a=ve().memoizedState;return tS({ref:a,nextImpl:n}),function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function v_(n,a){return mu(4,2,n,a)}function b_(n,a){return mu(4,4,n,a)}function T_(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function E_(n,a,l){l=l!=null?l.concat([n]):null,mu(4,4,T_.bind(null,a,n),l)}function td(){}function S_(n,a){var l=ve();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Ff(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function x_(n,a){var l=ve();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Ff(a,u[1]))return u[0];if(u=n(),qa){Bn(!0);try{n()}finally{Bn(!1)}}return l.memoizedState=[u,a],u}function ed(n,a,l){return l===void 0||(Xi&1073741824)!==0&&(Vt&261930)===0?n.memoizedState=a:(n.memoizedState=l,n=Ay(),St.lanes|=n,Gs|=n,l)}function A_(n,a,l,u){return Mn(l,a)?l:Br.current!==null?(n=ed(n,l,u),Mn(n,a)||(we=!0),n):(Xi&42)===0||(Xi&1073741824)!==0&&(Vt&261930)===0?(we=!0,n.memoizedState=l):(n=Ay(),St.lanes|=n,Gs|=n,a)}function w_(n,a,l,u,m){var p=rt.p;rt.p=p!==0&&8>p?p:8;var b=K.T,A={};K.T=A,sd(n,!1,a,l);try{var k=m(),Y=K.S;if(Y!==null&&Y(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var tt=XE(k,u);dl(n,a,tt,zn(n))}else dl(n,a,u,zn(n))}catch(nt){dl(n,a,{then:function(){},status:"rejected",reason:nt},zn())}finally{rt.p=p,b!==null&&A.types!==null&&(b.types=A.types),K.T=b}}function eS(){}function nd(n,a,l,u){if(n.tag!==5)throw Error(s(476));var m=R_(n).queue;w_(n,m,a,gt,l===null?eS:function(){return C_(n),l(u)})}function R_(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:gt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function C_(n){var a=R_(n);a.next===null&&(a=n.alternate.memoizedState),dl(n,a.next.queue,{},zn())}function id(){return Ke(Ml)}function D_(){return ve().memoizedState}function M_(){return ve().memoizedState}function nS(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=zn();n=Bs(l);var u=js(a,n,l);u!==null&&(An(u,a,l),ll(u,a,l)),a={cache:If()},n.payload=a;return}a=a.return}}function iS(n,a,l){var u=zn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pu(n)?I_(a,l):(l=Tf(n,a,l,u),l!==null&&(An(l,n,u),N_(l,a,u)))}function O_(n,a,l){var u=zn();dl(n,a,l,u)}function dl(n,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(pu(n))I_(a,m);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,A=p(b,l);if(m.hasEagerState=!0,m.eagerState=A,Mn(A,b))return $c(n,a,m,0),se===null&&Xc(),!1}catch{}if(l=Tf(n,a,m,u),l!==null)return An(l,n,u),N_(l,a,u),!0}return!1}function sd(n,a,l,u){if(u={lane:2,revertLane:zd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pu(n)){if(a)throw Error(s(479))}else a=Tf(n,l,u,2),a!==null&&An(a,n,2)}function pu(n){var a=n.alternate;return n===St||a!==null&&a===St}function I_(n,a){jr=cu=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function N_(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,ys(n,l)}}var gl={readContext:Ke,use:fu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};gl.useEffectEvent=ge;var V_={readContext:Ke,use:fu,useCallback:function(n,a){return _n().memoizedState=[n,a===void 0?null:a],n},useContext:Ke,useEffect:__,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,gu(4194308,4,T_.bind(null,a,n),l)},useLayoutEffect:function(n,a){return gu(4194308,4,n,a)},useInsertionEffect:function(n,a){gu(4,2,n,a)},useMemo:function(n,a){var l=_n();a=a===void 0?null:a;var u=n();if(qa){Bn(!0);try{n()}finally{Bn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=_n();if(l!==void 0){var m=l(a);if(qa){Bn(!0);try{l(a)}finally{Bn(!1)}}}else m=a;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=iS.bind(null,St,n),[u.memoizedState,n]},useRef:function(n){var a=_n();return n={current:n},a.memoizedState=n},useState:function(n){n=Wf(n);var a=n.queue,l=O_.bind(null,St,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:td,useDeferredValue:function(n,a){var l=_n();return ed(l,n,a)},useTransition:function(){var n=Wf(!1);return n=w_.bind(null,St,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=St,m=_n();if(Lt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),se===null)throw Error(s(349));(Vt&127)!==0||e_(u,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,__(i_.bind(null,u,p,n),[n]),u.flags|=2048,Hr(9,{destroy:void 0},n_.bind(null,u,p,l,a),null),l},useId:function(){var n=_n(),a=se.identifierPrefix;if(Lt){var l=bi,u=vi;l=(u&~(1<<32-fn(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=uu++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=$E++,a="_"+a+"r_"+l.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:id,useFormState:f_,useActionState:f_,useOptimistic:function(n){var a=_n();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sd.bind(null,St,!0,l),l.dispatch=a,[n,a]},useMemoCache:Kf,useCacheRefresh:function(){return _n().memoizedState=nS.bind(null,St)},useEffectEvent:function(n){var a=_n(),l={impl:n};return a.memoizedState=l,function(){if((Yt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},ad={readContext:Ke,use:fu,useCallback:S_,useContext:Ke,useEffect:Jf,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:x_,useReducer:du,useRef:p_,useState:function(){return du($i)},useDebugValue:td,useDeferredValue:function(n,a){var l=ve();return A_(l,ee.memoizedState,n,a)},useTransition:function(){var n=du($i)[0],a=ve().memoizedState;return[typeof n=="boolean"?n:fl(n),a]},useSyncExternalStore:t_,useId:D_,useHostTransitionStatus:id,useFormState:d_,useActionState:d_,useOptimistic:function(n,a){var l=ve();return r_(l,ee,n,a)},useMemoCache:Kf,useCacheRefresh:M_};ad.useEffectEvent=y_;var k_={readContext:Ke,use:fu,useCallback:S_,useContext:Ke,useEffect:Jf,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:x_,useReducer:$f,useRef:p_,useState:function(){return $f($i)},useDebugValue:td,useDeferredValue:function(n,a){var l=ve();return ee===null?ed(l,n,a):A_(l,ee.memoizedState,n,a)},useTransition:function(){var n=$f($i)[0],a=ve().memoizedState;return[typeof n=="boolean"?n:fl(n),a]},useSyncExternalStore:t_,useId:D_,useHostTransitionStatus:id,useFormState:m_,useActionState:m_,useOptimistic:function(n,a){var l=ve();return ee!==null?r_(l,ee,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:M_};k_.useEffectEvent=y_;function rd(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:v({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var od={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=zn(),m=Bs(u);m.payload=a,l!=null&&(m.callback=l),a=js(n,m,u),a!==null&&(An(a,n,u),ll(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=zn(),m=Bs(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=js(n,m,u),a!==null&&(An(a,n,u),ll(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=zn(),u=Bs(l);u.tag=2,a!=null&&(u.callback=a),a=js(n,u,l),a!==null&&(An(a,n,l),ll(a,n,l))}};function z_(n,a,l,u,m,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!tl(l,u)||!tl(m,p):!0}function L_(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&od.enqueueReplaceState(a,a.state,null)}function Ga(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=v({},l));for(var m in n)l[m]===void 0&&(l[m]=n[m])}return l}function P_(n){Kc(n)}function B_(n){console.error(n)}function j_(n){Kc(n)}function _u(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function U_(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ld(n,a,l){return l=Bs(l),l.tag=3,l.payload={element:null},l.callback=function(){_u(n,a)},l}function H_(n){return n=Bs(n),n.tag=3,n}function F_(n,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;n.payload=function(){return m(p)},n.callback=function(){U_(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){U_(a,l,u),typeof m!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function sS(n,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Vr(a,l,m,!0),l=In.current,l!==null){switch(l.tag){case 31:case 13:return Kn===null?Du():l.alternate===null&&me===0&&(me=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===su?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Nd(n,u,m)),!1;case 22:return l.flags|=65536,u===su?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Nd(n,u,m)),!1}throw Error(s(435,l.tag))}return Nd(n,u,m),Du(),!1}if(Lt)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Rf&&(n=Error(s(422),{cause:u}),il(qn(n,l)))):(u!==Rf&&(a=Error(s(423),{cause:u}),il(qn(a,l))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=qn(u,l),m=ld(n.stateNode,u,m),Pf(n,m),me!==4&&(me=2)),!1;var p=Error(s(520),{cause:u});if(p=qn(p,l),El===null?El=[p]:El.push(p),me!==4&&(me=2),a===null)return!0;u=qn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=m&-m,l.lanes|=n,n=ld(l.stateNode,u,n),Pf(l,n),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ys===null||!Ys.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=H_(m),F_(m,n,l,u),Pf(l,m),!1}l=l.return}while(l!==null);return!1}var cd=Error(s(461)),we=!1;function Xe(n,a,l,u){a.child=n===null?Qp(a,null,l,u):Fa(a,n.child,l,u)}function q_(n,a,l,u,m){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return Ba(a),u=qf(n,a,l,b,p,m),A=Gf(),n!==null&&!we?(Yf(n,a,m),Wi(n,a,m)):(Lt&&A&&Af(a),a.flags|=1,Xe(n,a,u,m),a.child)}function G_(n,a,l,u,m){if(n===null){var p=l.type;return typeof p=="function"&&!Ef(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Y_(n,a,p,u,m)):(n=Zc(l.type,null,u,a,a.mode,m),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!_d(n,m)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:tl,l(b,u)&&n.ref===a.ref)return Wi(n,a,m)}return a.flags|=1,n=Gi(p,u),n.ref=a.ref,n.return=a,a.child=n}function Y_(n,a,l,u,m){if(n!==null){var p=n.memoizedProps;if(tl(p,u)&&n.ref===a.ref)if(we=!1,a.pendingProps=u=p,_d(n,m))(n.flags&131072)!==0&&(we=!0);else return a.lanes=n.lanes,Wi(n,a,m)}return ud(n,a,l,u,m)}function Q_(n,a,l,u){var m=u.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,n!==null){for(u=a.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,a.child=null;return K_(n,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&nu(a,p!==null?p.cachePool:null),p!==null?$p(a,p):jf(),Wp(a);else return u=a.lanes=536870912,K_(n,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(nu(a,p.cachePool),$p(a,p),Hs(),a.memoizedState=null):(n!==null&&nu(a,null),jf(),Hs());return Xe(n,a,m,l),a.child}function ml(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function K_(n,a,l,u,m){var p=Vf();return p=p===null?null:{parent:xe._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},n!==null&&nu(a,null),jf(),Wp(a),n!==null&&Vr(n,a,u,!0),a.childLanes=m,null}function yu(n,a){return a=bu({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function X_(n,a,l){return Fa(a,n.child,null,l),n=yu(a,a.pendingProps),n.flags|=2,Nn(a),a.memoizedState=null,n}function aS(n,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Lt){if(u.mode==="hidden")return n=yu(a,u),a.lanes=536870912,ml(null,n);if(Hf(a),(n=re)?(n=ov(n,Qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Vs!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},l=Ip(n),l.return=a,a.child=l,Qe=a,re=null)):n=null,n===null)throw zs(a);return a.lanes=536870912,null}return yu(a,u)}var p=n.memoizedState;if(p!==null){var b=p.dehydrated;if(Hf(a),m)if(a.flags&256)a.flags&=-257,a=X_(n,a,l);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(s(558));else if(we||Vr(n,a,l,!1),m=(l&n.childLanes)!==0,we||m){if(u=se,u!==null&&(b=vs(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ka(n,b),An(u,n,b),cd;Du(),a=X_(n,a,l)}else n=p.treeContext,re=Xn(b.nextSibling),Qe=a,Lt=!0,ks=null,Qn=!1,n!==null&&kp(a,n),a=yu(a,u),a.flags|=4096;return a}return n=Gi(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function vu(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function ud(n,a,l,u,m){return Ba(a),l=qf(n,a,l,u,void 0,m),u=Gf(),n!==null&&!we?(Yf(n,a,m),Wi(n,a,m)):(Lt&&u&&Af(a),a.flags|=1,Xe(n,a,l,m),a.child)}function $_(n,a,l,u,m,p){return Ba(a),a.updateQueue=null,l=Jp(a,u,l,m),Zp(n),u=Gf(),n!==null&&!we?(Yf(n,a,p),Wi(n,a,p)):(Lt&&u&&Af(a),a.flags|=1,Xe(n,a,l,p),a.child)}function W_(n,a,l,u,m){if(Ba(a),a.stateNode===null){var p=Mr,b=l.contextType;typeof b=="object"&&b!==null&&(p=Ke(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=od,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},zf(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?Ke(b):Mr,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(rd(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&od.enqueueReplaceState(p,p.state,null),ul(a,u,p,m),cl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){p=a.stateNode;var A=a.memoizedProps,k=Ga(l,A);p.props=k;var Y=p.context,tt=l.contextType;b=Mr,typeof tt=="object"&&tt!==null&&(b=Ke(tt));var nt=l.getDerivedStateFromProps;tt=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,tt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||Y!==b)&&L_(a,p,u,b),Ps=!1;var Q=a.memoizedState;p.state=Q,ul(a,u,p,m),cl(),Y=a.memoizedState,A||Q!==Y||Ps?(typeof nt=="function"&&(rd(a,l,nt,u),Y=a.memoizedState),(k=Ps||z_(a,l,k,u,Q,Y,b))?(tt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=b,u=k):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Lf(n,a),b=a.memoizedProps,tt=Ga(l,b),p.props=tt,nt=a.pendingProps,Q=p.context,Y=l.contextType,k=Mr,typeof Y=="object"&&Y!==null&&(k=Ke(Y)),A=l.getDerivedStateFromProps,(Y=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||Q!==k)&&L_(a,p,u,k),Ps=!1,Q=a.memoizedState,p.state=Q,ul(a,u,p,m),cl();var X=a.memoizedState;b!==nt||Q!==X||Ps||n!==null&&n.dependencies!==null&&tu(n.dependencies)?(typeof A=="function"&&(rd(a,l,A,u),X=a.memoizedState),(tt=Ps||z_(a,l,tt,u,Q,X,k)||n!==null&&n.dependencies!==null&&tu(n.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,k)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&Q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Q===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),p.props=u,p.state=X,p.context=k,u=tt):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&Q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Q===n.memoizedState||(a.flags|=1024),u=!1)}return p=u,vu(n,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&u?(a.child=Fa(a,n.child,null,m),a.child=Fa(a,null,l,m)):Xe(n,a,l,m),a.memoizedState=p.state,n=a.child):n=Wi(n,a,m),n}function Z_(n,a,l,u){return La(),a.flags|=256,Xe(n,a,l,u),a.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(n){return{baseLanes:n,cachePool:Up()}}function dd(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=kn),n}function J_(n,a,l){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(ye.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,n===null){if(Lt){if(m?Us(a):Hs(),(n=re)?(n=ov(n,Qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Vs!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},l=Ip(n),l.return=a,a.child=l,Qe=a,re=null)):n=null,n===null)throw zs(a);return Xd(n)?a.lanes=32:a.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(Hs(),m=a.mode,A=bu({mode:"hidden",children:A},m),u=za(u,m,l,null),A.return=a,u.return=a,A.sibling=u,a.child=A,u=a.child,u.memoizedState=fd(l),u.childLanes=dd(n,b,l),a.memoizedState=hd,ml(null,u)):(Us(a),gd(a,A))}var k=n.memoizedState;if(k!==null&&(A=k.dehydrated,A!==null)){if(p)a.flags&256?(Us(a),a.flags&=-257,a=md(n,a,l)):a.memoizedState!==null?(Hs(),a.child=n.child,a.flags|=128,a=null):(Hs(),A=u.fallback,m=a.mode,u=bu({mode:"visible",children:u.children},m),A=za(A,m,l,null),A.flags|=2,u.return=a,A.return=a,u.sibling=A,a.child=u,Fa(a,n.child,null,l),u=a.child,u.memoizedState=fd(l),u.childLanes=dd(n,b,l),a.memoizedState=hd,a=ml(null,u));else if(Us(a),Xd(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(s(419)),u.stack="",u.digest=b,il({value:u,source:null,stack:null}),a=md(n,a,l)}else if(we||Vr(n,a,l,!1),b=(l&n.childLanes)!==0,we||b){if(b=se,b!==null&&(u=vs(b,l),u!==0&&u!==k.retryLane))throw k.retryLane=u,ka(n,u),An(b,n,u),cd;Kd(A)||Du(),a=md(n,a,l)}else Kd(A)?(a.flags|=192,a.child=n.child,a=null):(n=k.treeContext,re=Xn(A.nextSibling),Qe=a,Lt=!0,ks=null,Qn=!1,n!==null&&kp(a,n),a=gd(a,u.children),a.flags|=4096);return a}return m?(Hs(),A=u.fallback,m=a.mode,k=n.child,Y=k.sibling,u=Gi(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,Y!==null?A=Gi(Y,A):(A=za(A,m,l,null),A.flags|=2),A.return=a,u.return=a,u.sibling=A,a.child=u,ml(null,u),u=a.child,A=n.child.memoizedState,A===null?A=fd(l):(m=A.cachePool,m!==null?(k=xe._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=Up(),A={baseLanes:A.baseLanes|l,cachePool:m}),u.memoizedState=A,u.childLanes=dd(n,b,l),a.memoizedState=hd,ml(n.child,u)):(Us(a),l=n.child,n=l.sibling,l=Gi(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(b=a.deletions,b===null?(a.deletions=[n],a.flags|=16):b.push(n)),a.child=l,a.memoizedState=null,l)}function gd(n,a){return a=bu({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function bu(n,a){return n=On(22,n,null,a),n.lanes=0,n}function md(n,a,l){return Fa(a,n.child,null,l),n=gd(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function ty(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Mf(n.return,a,l)}function pd(n,a,l,u,m,p){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=m,b.treeForkCount=p)}function ey(n,a,l){var u=a.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var b=ye.current,A=(b&2)!==0;if(A?(b=b&1|2,a.flags|=128):b&=1,at(ye,b),Xe(n,a,u,l),u=Lt?nl:0,!A&&n!==null&&(n.flags&128)!==0)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ty(n,l,a);else if(n.tag===19)ty(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)n=l.alternate,n!==null&&lu(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),pd(a,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(n=m.alternate,n!==null&&lu(n)===null){a.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}pd(a,!0,l,null,p,u);break;case"together":pd(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Wi(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Gs|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Vr(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,l=Gi(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Gi(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function _d(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&tu(n)))}function rS(n,a,l){switch(a.tag){case 3:Fe(a,a.stateNode.containerInfo),Ls(a,xe,n.memoizedState.cache),La();break;case 27:case 5:ui(a);break;case 4:Fe(a,a.stateNode.containerInfo);break;case 10:Ls(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Hf(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Us(a),a.flags|=128,null):(l&a.child.childLanes)!==0?J_(n,a,l):(Us(a),n=Wi(n,a,l),n!==null?n.sibling:null);Us(a);break;case 19:var m=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Vr(n,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return ey(n,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(ye,ye.current),u)break;return null;case 22:return a.lanes=0,Q_(n,a,l,a.pendingProps);case 24:Ls(a,xe,n.memoizedState.cache)}return Wi(n,a,l)}function ny(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)we=!0;else{if(!_d(n,l)&&(a.flags&128)===0)return we=!1,rS(n,a,l);we=(n.flags&131072)!==0}else we=!1,Lt&&(a.flags&1048576)!==0&&Vp(a,nl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(n=Ua(a.elementType),a.type=n,typeof n=="function")Ef(n)?(u=Ga(n,u),a.tag=1,a=W_(null,a,n,u,l)):(a.tag=0,a=ud(null,a,n,u,l));else{if(n!=null){var m=n.$$typeof;if(m===F){a.tag=11,a=q_(null,a,n,u,l);break t}else if(m===D){a.tag=14,a=G_(null,a,n,u,l);break t}}throw a=$t(n)||n,Error(s(306,a,""))}}return a;case 0:return ud(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=Ga(u,a.pendingProps),W_(n,a,u,m,l);case 3:t:{if(Fe(a,a.stateNode.containerInfo),n===null)throw Error(s(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,Lf(n,a),ul(a,u,null,l);var b=a.memoizedState;if(u=b.cache,Ls(a,xe,u),u!==p.cache&&Of(a,[xe],l,!0),cl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Z_(n,a,u,l);break t}else if(u!==m){m=qn(Error(s(424)),a),il(m),a=Z_(n,a,u,l);break t}else for(n=a.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,re=Xn(n.firstChild),Qe=a,Lt=!0,ks=null,Qn=!0,l=Qp(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(La(),u===m){a=Wi(n,a,l);break t}Xe(n,a,u,l)}a=a.child}return a;case 26:return vu(n,a),n===null?(l=dv(a.type,null,a.pendingProps,null))?a.memoizedState=l:Lt||(l=a.type,n=a.pendingProps,u=zu(bt.current).createElement(l),u[fe]=a,u[Ye]=n,$e(u,l,n),_e(u),a.stateNode=u):a.memoizedState=dv(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return ui(a),n===null&&Lt&&(u=a.stateNode=uv(a.type,a.pendingProps,bt.current),Qe=a,Qn=!0,m=re,$s(a.type)?($d=m,re=Xn(u.firstChild)):re=m),Xe(n,a,a.pendingProps.children,l),vu(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Lt&&((m=u=re)&&(u=zS(u,a.type,a.pendingProps,Qn),u!==null?(a.stateNode=u,Qe=a,re=Xn(u.firstChild),Qn=!1,m=!0):m=!1),m||zs(a)),ui(a),m=a.type,p=a.pendingProps,b=n!==null?n.memoizedProps:null,u=p.children,Gd(m,p)?u=null:b!==null&&Gd(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=qf(n,a,WE,null,null,l),Ml._currentValue=m),vu(n,a),Xe(n,a,u,l),a.child;case 6:return n===null&&Lt&&((n=l=re)&&(l=LS(l,a.pendingProps,Qn),l!==null?(a.stateNode=l,Qe=a,re=null,n=!0):n=!1),n||zs(a)),null;case 13:return J_(n,a,l);case 4:return Fe(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=Fa(a,null,u,l):Xe(n,a,u,l),a.child;case 11:return q_(n,a,a.type,a.pendingProps,l);case 7:return Xe(n,a,a.pendingProps,l),a.child;case 8:return Xe(n,a,a.pendingProps.children,l),a.child;case 12:return Xe(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ls(a,a.type,u.value),Xe(n,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,Ba(a),m=Ke(m),u=u(m),a.flags|=1,Xe(n,a,u,l),a.child;case 14:return G_(n,a,a.type,a.pendingProps,l);case 15:return Y_(n,a,a.type,a.pendingProps,l);case 19:return ey(n,a,l);case 31:return aS(n,a,l);case 22:return Q_(n,a,l,a.pendingProps);case 24:return Ba(a),u=Ke(xe),n===null?(m=Vf(),m===null&&(m=se,p=If(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:u,cache:m},zf(a),Ls(a,xe,m)):((n.lanes&l)!==0&&(Lf(n,a),ul(a,null,null,l),cl()),m=n.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ls(a,xe,u)):(u=p.cache,Ls(a,xe,u),u!==m.cache&&Of(a,[xe],l,!0))),Xe(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Zi(n){n.flags|=4}function yd(n,a,l,u,m){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Dy())n.flags|=8192;else throw Ha=su,kf}else n.flags&=-16777217}function iy(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!yv(a))if(Dy())n.flags|=8192;else throw Ha=su,kf}function Tu(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?zo():536870912,n.lanes|=a,Yr|=a)}function pl(n,a){if(!Lt)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function oe(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function oS(n,a,l){var u=a.pendingProps;switch(wf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(a),null;case 1:return oe(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ki(xe),he(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Nr(a)?Zi(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cf())),oe(a),null;case 26:var m=a.type,p=a.memoizedState;return n===null?(Zi(a),p!==null?(oe(a),iy(a,p)):(oe(a),yd(a,m,null,u,l))):p?p!==n.memoizedState?(Zi(a),oe(a),iy(a,p)):(oe(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Zi(a),oe(a),yd(a,m,n,u,l)),null;case 27:if(Ni(a),l=bt.current,m=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Zi(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return oe(a),null}n=ct.current,Nr(a)?zp(a):(n=uv(m,u,l),a.stateNode=n,Zi(a))}return oe(a),null;case 5:if(Ni(a),m=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Zi(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return oe(a),null}if(p=ct.current,Nr(a))zp(a);else{var b=zu(bt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(m,{is:u.is}):b.createElement(m)}}p[fe]=a,p[Ye]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch($e(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Zi(a)}}return oe(a),yd(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,l),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Zi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(n=bt.current,Nr(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,m=Qe,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[fe]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Jy(n.nodeValue,l)),n||zs(a,!0)}else n=zu(n).createTextNode(u),n[fe]=a,a.stateNode=n}return oe(a),null;case 31:if(l=a.memoizedState,n===null||n.memoizedState!==null){if(u=Nr(a),l!==null){if(n===null){if(!u)throw Error(s(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[fe]=a}else La(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;oe(a),n=!1}else l=Cf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return oe(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Nr(a),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[fe]=a}else La(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;oe(a),m=!1}else m=Cf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==n&&l&&(a.child.flags|=8192),Tu(a,a.updateQueue),oe(a),null);case 4:return he(),n===null&&jd(a.stateNode.containerInfo),oe(a),null;case 10:return Ki(a.type),oe(a),null;case 19:if(J(ye),u=a.memoizedState,u===null)return oe(a),null;if(m=(a.flags&128)!==0,p=u.rendering,p===null)if(m)pl(u,!1);else{if(me!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=lu(n),p!==null){for(a.flags|=128,pl(u,!1),n=p.updateQueue,a.updateQueue=n,Tu(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)Op(l,n),l=l.sibling;return at(ye,ye.current&1|2),Lt&&Yi(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&qe()>wu&&(a.flags|=128,m=!0,pl(u,!1),a.lanes=4194304)}else{if(!m)if(n=lu(p),n!==null){if(a.flags|=128,m=!0,n=n.updateQueue,a.updateQueue=n,Tu(a,n),pl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Lt)return oe(a),null}else 2*qe()-u.renderingStartTime>wu&&l!==536870912&&(a.flags|=128,m=!0,pl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(n=u.last,n!==null?n.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=qe(),n.sibling=null,l=ye.current,at(ye,m?l&1|2:l&1),Lt&&Yi(a,u.treeForkCount),n):(oe(a),null);case 22:case 23:return Nn(a),Uf(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(oe(a),a.subtreeFlags&6&&(a.flags|=8192)):oe(a),l=a.updateQueue,l!==null&&Tu(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&J(ja),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ki(xe),oe(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function lS(n,a){switch(wf(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Ki(xe),he(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Ni(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(s(340));La()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Nn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));La()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return J(ye),null;case 4:return he(),null;case 10:return Ki(a.type),null;case 22:case 23:return Nn(a),Uf(),n!==null&&J(ja),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Ki(xe),null;case 25:return null;default:return null}}function sy(n,a){switch(wf(a),a.tag){case 3:Ki(xe),he();break;case 26:case 27:case 5:Ni(a);break;case 4:he();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:J(ye);break;case 10:Ki(a.type);break;case 22:case 23:Nn(a),Uf(),n!==null&&J(ja);break;case 24:Ki(xe)}}function _l(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&n)===n){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==m)}}catch(A){Jt(a,a.return,A)}}function Fs(n,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&n)===n){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=a;var k=l,Y=A;try{Y()}catch(tt){Jt(m,k,tt)}}}u=u.next}while(u!==p)}}catch(tt){Jt(a,a.return,tt)}}function ay(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{Xp(a,l)}catch(u){Jt(n,n.return,u)}}}function ry(n,a,l){l.props=Ga(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(n,a,u)}}function yl(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(m){Jt(n,a,m)}}function Ti(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Jt(n,a,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Jt(n,a,m)}else l.current=null}function oy(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Jt(n,n.return,m)}}function vd(n,a,l){try{var u=n.stateNode;MS(u,n.type,l,a),u[Ye]=a}catch(m){Jt(n,n.return,m)}}function ly(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&$s(n.type)||n.tag===4}function bd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||ly(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&$s(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Td(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ze));else if(u!==4&&(u===27&&$s(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(Td(n,a,l),n=n.sibling;n!==null;)Td(n,a,l),n=n.sibling}function Eu(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&$s(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Eu(n,a,l),n=n.sibling;n!==null;)Eu(n,a,l),n=n.sibling}function cy(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);$e(a,u,l),a[fe]=n,a[Ye]=l}catch(p){Jt(n,n.return,p)}}var Ji=!1,Re=!1,Ed=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Be=null;function cS(n,a){if(n=n.containerInfo,Fd=Fu,n=Ep(n),mf(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,A=-1,k=-1,Y=0,tt=0,nt=n,Q=null;e:for(;;){for(var X;nt!==l||m!==0&&nt.nodeType!==3||(A=b+m),nt!==p||u!==0&&nt.nodeType!==3||(k=b+u),nt.nodeType===3&&(b+=nt.nodeValue.length),(X=nt.firstChild)!==null;)Q=nt,nt=X;for(;;){if(nt===n)break e;if(Q===l&&++Y===m&&(A=b),Q===p&&++tt===u&&(k=b),(X=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=X}l=A===-1||k===-1?null:{start:A,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(qd={focusedElem:n,selectionRange:l},Fu=!1,Be=a;Be!==null;)if(a=Be,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Be=n;else for(;Be!==null;){switch(a=Be,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)m=n[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ut=Ga(l.type,m);n=u.getSnapshotBeforeUpdate(ut,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(yt){Jt(l,l.return,yt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Qd(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Qd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,Be=n;break}Be=a.return}}function hy(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:es(n,l),u&4&&_l(5,l);break;case 1:if(es(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var m=Ga(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(m,a,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&ay(l),u&512&&yl(l,l.return);break;case 3:if(es(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Xp(n,a)}catch(b){Jt(l,l.return,b)}}break;case 27:a===null&&u&4&&cy(l);case 26:case 5:es(n,l),a===null&&u&4&&oy(l),u&512&&yl(l,l.return);break;case 12:es(n,l);break;case 31:es(n,l),u&4&&gy(n,l);break;case 13:es(n,l),u&4&&my(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=yS.bind(null,l),PS(n,l))));break;case 22:if(u=l.memoizedState!==null||Ji,!u){a=a!==null&&a.memoizedState!==null||Re,m=Ji;var p=Re;Ji=u,(Re=a)&&!p?ns(n,l,(l.subtreeFlags&8772)!==0):es(n,l),Ji=m,Re=p}break;case 30:break;default:es(n,l)}}function fy(n){var a=n.alternate;a!==null&&(n.alternate=null,fy(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Sa(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ue=null,Tn=!1;function ts(n,a,l){for(l=l.child;l!==null;)dy(n,a,l),l=l.sibling}function dy(n,a,l){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(gs,l)}catch{}switch(l.tag){case 26:Re||Ti(l,a),ts(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Re||Ti(l,a);var u=ue,m=Tn;$s(l.type)&&(ue=l.stateNode,Tn=!1),ts(n,a,l),Rl(l.stateNode),ue=u,Tn=m;break;case 5:Re||Ti(l,a);case 6:if(u=ue,m=Tn,ue=null,ts(n,a,l),ue=u,Tn=m,ue!==null)if(Tn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{ue.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:ue!==null&&(Tn?(n=ue,av(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),to(n)):av(ue,l.stateNode));break;case 4:u=ue,m=Tn,ue=l.stateNode.containerInfo,Tn=!0,ts(n,a,l),ue=u,Tn=m;break;case 0:case 11:case 14:case 15:Fs(2,l,a),Re||Fs(4,l,a),ts(n,a,l);break;case 1:Re||(Ti(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&ry(l,a,u)),ts(n,a,l);break;case 21:ts(n,a,l);break;case 22:Re=(u=Re)||l.memoizedState!==null,ts(n,a,l),Re=u;break;default:ts(n,a,l)}}function gy(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{to(n)}catch(l){Jt(a,a.return,l)}}}function my(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{to(n)}catch(l){Jt(a,a.return,l)}}function uS(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new uy),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new uy),a;default:throw Error(s(435,n.tag))}}function Su(n,a){var l=uS(n);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=vS.bind(null,n,u);u.then(m,m)}})}function En(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=n,b=a,A=b;t:for(;A!==null;){switch(A.tag){case 27:if($s(A.type)){ue=A.stateNode,Tn=!1;break t}break;case 5:ue=A.stateNode,Tn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,Tn=!0;break t}A=A.return}if(ue===null)throw Error(s(160));dy(p,b,m),ue=null,Tn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)py(a,n),a=a.sibling}var ai=null;function py(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(a,n),Sn(n),u&4&&(Fs(3,n,n.return),_l(3,n),Fs(5,n,n.return));break;case 1:En(a,n),Sn(n),u&512&&(Re||l===null||Ti(l,l.return)),u&64&&Ji&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=ai;if(En(a,n),Sn(n),u&512&&(Re||l===null||Ti(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){t:{u=n.type,l=n.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Li]||p[fe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),$e(p,u,l),p[fe]=n,_e(p),u=p;break t;case"link":var b=pv("link","href",m).get(u+(l.href||""));if(b){for(var A=0;A<b.length;A++)if(p=b[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(A,1);break e}}p=m.createElement(u),$e(p,u,l),m.head.appendChild(p);break;case"meta":if(b=pv("meta","content",m).get(u+(l.content||""))){for(A=0;A<b.length;A++)if(p=b[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(A,1);break e}}p=m.createElement(u),$e(p,u,l),m.head.appendChild(p);break;default:throw Error(s(468,u))}p[fe]=n,_e(p),u=p}n.stateNode=u}else _v(m,n.type,n.stateNode);else n.stateNode=mv(m,u,n.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?_v(m,n.type,n.stateNode):mv(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&vd(n,n.memoizedProps,l.memoizedProps)}break;case 27:En(a,n),Sn(n),u&512&&(Re||l===null||Ti(l,l.return)),l!==null&&u&4&&vd(n,n.memoizedProps,l.memoizedProps);break;case 5:if(En(a,n),Sn(n),u&512&&(Re||l===null||Ti(l,l.return)),n.flags&32){m=n.stateNode;try{Hn(m,"")}catch(ut){Jt(n,n.return,ut)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,vd(n,m,l!==null?l.memoizedProps:m)),u&1024&&(Ed=!0);break;case 6:if(En(a,n),Sn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(ut){Jt(n,n.return,ut)}}break;case 3:if(Bu=null,m=ai,ai=Lu(a.containerInfo),En(a,n),ai=m,Sn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{to(a.containerInfo)}catch(ut){Jt(n,n.return,ut)}Ed&&(Ed=!1,_y(n));break;case 4:u=ai,ai=Lu(n.stateNode.containerInfo),En(a,n),Sn(n),ai=u;break;case 12:En(a,n),Sn(n);break;case 31:En(a,n),Sn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Su(n,u)));break;case 13:En(a,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Au=qe()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Su(n,u)));break;case 22:m=n.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=Ji,tt=Re;if(Ji=Y||m,Re=tt||k,En(a,n),Re=tt,Ji=Y,Sn(n),u&8192)t:for(a=n.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||k||Ji||Re||Ya(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){k=l=a;try{if(p=k.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=k.stateNode;var nt=k.memoizedProps.style,Q=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ut){Jt(k,k.return,ut)}}}else if(a.tag===6){if(l===null){k=a;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(ut){Jt(k,k.return,ut)}}}else if(a.tag===18){if(l===null){k=a;try{var X=k.stateNode;m?rv(X,!0):rv(k.stateNode,!1)}catch(ut){Jt(k,k.return,ut)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Su(n,l))));break;case 19:En(a,n),Sn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Su(n,u)));break;case 30:break;case 21:break;default:En(a,n),Sn(n)}}function Sn(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(ly(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,p=bd(n);Eu(n,p,m);break;case 5:var b=l.stateNode;l.flags&32&&(Hn(b,""),l.flags&=-33);var A=bd(n);Eu(n,A,b);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=bd(n);Td(n,Y,k);break;default:throw Error(s(161))}}catch(tt){Jt(n,n.return,tt)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function _y(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;_y(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function es(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)hy(n,a.alternate,a),a=a.sibling}function Ya(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Fs(4,a,a.return),Ya(a);break;case 1:Ti(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&ry(a,a.return,l),Ya(a);break;case 27:Rl(a.stateNode);case 26:case 5:Ti(a,a.return),Ya(a);break;case 22:a.memoizedState===null&&Ya(a);break;case 30:Ya(a);break;default:Ya(a)}n=n.sibling}}function ns(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=n,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:ns(m,p,l),_l(4,p);break;case 1:if(ns(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=p,m=u.updateQueue,m!==null){var A=u.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)Kp(k[m],A)}catch(Y){Jt(u,u.return,Y)}}l&&b&64&&ay(p),yl(p,p.return);break;case 27:cy(p);case 26:case 5:ns(m,p,l),l&&u===null&&b&4&&oy(p),yl(p,p.return);break;case 12:ns(m,p,l);break;case 31:ns(m,p,l),l&&b&4&&gy(m,p);break;case 13:ns(m,p,l),l&&b&4&&my(m,p);break;case 22:p.memoizedState===null&&ns(m,p,l),yl(p,p.return);break;case 30:break;default:ns(m,p,l)}a=a.sibling}}function Sd(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&sl(l))}function xd(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&sl(n))}function ri(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yy(n,a,l,u),a=a.sibling}function yy(n,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ri(n,a,l,u),m&2048&&_l(9,a);break;case 1:ri(n,a,l,u);break;case 3:ri(n,a,l,u),m&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&sl(n)));break;case 12:if(m&2048){ri(n,a,l,u),n=a.stateNode;try{var p=a.memoizedProps,b=p.id,A=p.onPostCommit;typeof A=="function"&&A(b,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){Jt(a,a.return,k)}}else ri(n,a,l,u);break;case 31:ri(n,a,l,u);break;case 13:ri(n,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?ri(n,a,l,u):vl(n,a):p._visibility&2?ri(n,a,l,u):(p._visibility|=2,Fr(n,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Sd(b,a);break;case 24:ri(n,a,l,u),m&2048&&xd(a.alternate,a);break;default:ri(n,a,l,u)}}function Fr(n,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,b=a,A=l,k=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Fr(p,b,A,k,m),_l(8,b);break;case 23:break;case 22:var tt=b.stateNode;b.memoizedState!==null?tt._visibility&2?Fr(p,b,A,k,m):vl(p,b):(tt._visibility|=2,Fr(p,b,A,k,m)),m&&Y&2048&&Sd(b.alternate,b);break;case 24:Fr(p,b,A,k,m),m&&Y&2048&&xd(b.alternate,b);break;default:Fr(p,b,A,k,m)}a=a.sibling}}function vl(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,m=u.flags;switch(u.tag){case 22:vl(l,u),m&2048&&Sd(u.alternate,u);break;case 24:vl(l,u),m&2048&&xd(u.alternate,u);break;default:vl(l,u)}a=a.sibling}}var bl=8192;function qr(n,a,l){if(n.subtreeFlags&bl)for(n=n.child;n!==null;)vy(n,a,l),n=n.sibling}function vy(n,a,l){switch(n.tag){case 26:qr(n,a,l),n.flags&bl&&n.memoizedState!==null&&$S(l,ai,n.memoizedState,n.memoizedProps);break;case 5:qr(n,a,l);break;case 3:case 4:var u=ai;ai=Lu(n.stateNode.containerInfo),qr(n,a,l),ai=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=bl,bl=16777216,qr(n,a,l),bl=u):qr(n,a,l));break;default:qr(n,a,l)}}function by(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Tl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,Ey(u,n)}by(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(n),n=n.sibling}function Ty(n){switch(n.tag){case 0:case 11:case 15:Tl(n),n.flags&2048&&Fs(9,n,n.return);break;case 3:Tl(n);break;case 12:Tl(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,xu(n)):Tl(n);break;default:Tl(n)}}function xu(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,Ey(u,n)}by(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Fs(8,a,a.return),xu(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,xu(a));break;default:xu(a)}n=n.sibling}}function Ey(n,a){for(;Be!==null;){var l=Be;switch(l.tag){case 0:case 11:case 15:Fs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:sl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Be=u;else t:for(l=n;Be!==null;){u=Be;var m=u.sibling,p=u.return;if(fy(u),u===l){Be=null;break t}if(m!==null){m.return=p,Be=m;break t}Be=p}}}var hS={getCacheForType:function(n){var a=Ke(xe),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l},cacheSignal:function(){return Ke(xe).controller.signal}},fS=typeof WeakMap=="function"?WeakMap:Map,Yt=0,se=null,Ot=null,Vt=0,Zt=0,Vn=null,qs=!1,Gr=!1,Ad=!1,is=0,me=0,Gs=0,Qa=0,wd=0,kn=0,Yr=0,El=null,xn=null,Rd=!1,Au=0,Sy=0,wu=1/0,Ru=null,Ys=null,Ne=0,Qs=null,Qr=null,ss=0,Cd=0,Dd=null,xy=null,Sl=0,Md=null;function zn(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:K.T!==null?zd():zi()}function Ay(){if(kn===0)if((Vt&536870912)===0||Lt){var n=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),kn=n}else kn=536870912;return n=In.current,n!==null&&(n.flags|=32),kn}function An(n,a,l){(n===se&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)&&(Kr(n,0),Ks(n,Vt,kn,!1)),_s(n,l),((Yt&2)===0||n!==se)&&(n===se&&((Yt&2)===0&&(Qa|=l),me===4&&Ks(n,Vt,kn,!1)),Ei(n))}function wy(n,a,l){if((Yt&6)!==0)throw Error(s(327));var u=!l&&(a&127)===0&&(a&n.expiredLanes)===0||ps(n,a),m=u?mS(n,a):Id(n,a,!0),p=u;do{if(m===0){Gr&&!u&&Ks(n,a,0,!1);break}else{if(l=n.current.alternate,p&&!dS(l)){m=Id(n,a,!1),p=!1;continue}if(m===2){if(p=a,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var A=n;m=El;var k=A.current.memoizedState.isDehydrated;if(k&&(Kr(A,b).flags|=256),b=Id(A,b,!1),b!==2){if(Ad&&!k){A.errorRecoveryDisabledLanes|=p,Qa|=p,m=4;break t}p=xn,xn=m,p!==null&&(xn===null?xn=p:xn.push.apply(xn,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){Kr(n,0),Ks(n,a,0,!0);break}t:{switch(u=n,p=m,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Ks(u,a,kn,!qs);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(m=Au+300-qe(),10<m)){if(Ks(u,a,kn,!qs),jn(u,0,!0)!==0)break t;ss=a,u.timeoutHandle=iv(Ry.bind(null,u,l,xn,Ru,Rd,a,kn,Qa,Yr,qs,p,"Throttled",-0,0),m);break t}Ry(u,l,xn,Ru,Rd,a,kn,Qa,Yr,qs,p,null,-0,0)}}break}while(!0);Ei(n)}function Ry(n,a,l,u,m,p,b,A,k,Y,tt,nt,Q,X){if(n.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ze},vy(a,p,nt);var ut=(p&62914560)===p?Au-qe():(p&4194048)===p?Sy-qe():0;if(ut=WS(nt,ut),ut!==null){ss=p,n.cancelPendingCommit=ut(ky.bind(null,n,a,p,l,u,m,b,A,k,tt,nt,null,Q,X)),Ks(n,p,b,!Y);return}}ky(n,a,p,l,u,m,b,A,k)}function dS(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!Mn(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ks(n,a,l,u){a&=~wd,a&=~Qa,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var m=a;0<m;){var p=31-fn(m),b=1<<p;u[p]=-1,m&=~b}l!==0&&Lo(n,l,a)}function Cu(){return(Yt&6)===0?(xl(0),!1):!0}function Od(){if(Ot!==null){if(Zt===0)var n=Ot.return;else n=Ot,Qi=Pa=null,Qf(n),Pr=null,rl=0,n=Ot;for(;n!==null;)sy(n.alternate,n),n=n.return;Ot=null}}function Kr(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,NS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ss=0,Od(),se=n,Ot=l=Gi(n.current,null),Vt=a,Zt=0,Vn=null,qs=!1,Gr=ps(n,a),Ad=!1,Yr=kn=wd=Qa=Gs=me=0,xn=El=null,Rd=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var m=31-fn(u),p=1<<m;a|=n[m],u&=~p}return is=a,Xc(),l}function Cy(n,a){St=null,K.H=gl,a===Lr||a===iu?(a=qp(),Zt=3):a===kf?(a=qp(),Zt=4):Zt=a===cd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vn=a,Ot===null&&(me=1,_u(n,qn(a,n.current)))}function Dy(){var n=In.current;return n===null?!0:(Vt&4194048)===Vt?Kn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?n===Kn:!1}function My(){var n=K.H;return K.H=gl,n===null?gl:n}function Oy(){var n=K.A;return K.A=hS,n}function Du(){me=4,qs||(Vt&4194048)!==Vt&&In.current!==null||(Gr=!0),(Gs&134217727)===0&&(Qa&134217727)===0||se===null||Ks(se,Vt,kn,!1)}function Id(n,a,l){var u=Yt;Yt|=2;var m=My(),p=Oy();(se!==n||Vt!==a)&&(Ru=null,Kr(n,a)),a=!1;var b=me;t:do try{if(Zt!==0&&Ot!==null){var A=Ot,k=Vn;switch(Zt){case 8:Od(),b=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var Y=Zt;if(Zt=0,Vn=null,Xr(n,A,k,Y),l&&Gr){b=0;break t}break;default:Y=Zt,Zt=0,Vn=null,Xr(n,A,k,Y)}}gS(),b=me;break}catch(tt){Cy(n,tt)}while(!0);return a&&n.shellSuspendCounter++,Qi=Pa=null,Yt=u,K.H=m,K.A=p,Ot===null&&(se=null,Vt=0,Xc()),b}function gS(){for(;Ot!==null;)Iy(Ot)}function mS(n,a){var l=Yt;Yt|=2;var u=My(),m=Oy();se!==n||Vt!==a?(Ru=null,wu=qe()+500,Kr(n,a)):Gr=ps(n,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var p=Vn;e:switch(Zt){case 1:Zt=0,Vn=null,Xr(n,a,p,1);break;case 2:case 9:if(Hp(p)){Zt=0,Vn=null,Ny(a);break}a=function(){Zt!==2&&Zt!==9||se!==n||(Zt=7),Ei(n)},p.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Hp(p)?(Zt=0,Vn=null,Ny(a)):(Zt=0,Vn=null,Xr(n,a,p,7));break;case 5:var b=null;switch(Ot.tag){case 26:b=Ot.memoizedState;case 5:case 27:var A=Ot;if(b?yv(b):A.stateNode.complete){Zt=0,Vn=null;var k=A.sibling;if(k!==null)Ot=k;else{var Y=A.return;Y!==null?(Ot=Y,Mu(Y)):Ot=null}break e}}Zt=0,Vn=null,Xr(n,a,p,5);break;case 6:Zt=0,Vn=null,Xr(n,a,p,6);break;case 8:Od(),me=6;break t;default:throw Error(s(462))}}pS();break}catch(tt){Cy(n,tt)}while(!0);return Qi=Pa=null,K.H=u,K.A=m,Yt=l,Ot!==null?0:(se=null,Vt=0,Xc(),me)}function pS(){for(;Ot!==null&&!sf();)Iy(Ot)}function Iy(n){var a=ny(n.alternate,n,is);n.memoizedProps=n.pendingProps,a===null?Mu(n):Ot=a}function Ny(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=$_(l,a,a.pendingProps,a.type,void 0,Vt);break;case 11:a=$_(l,a,a.pendingProps,a.type.render,a.ref,Vt);break;case 5:Qf(a);default:sy(l,a),a=Ot=Op(a,is),a=ny(l,a,is)}n.memoizedProps=n.pendingProps,a===null?Mu(n):Ot=a}function Xr(n,a,l,u){Qi=Pa=null,Qf(a),Pr=null,rl=0;var m=a.return;try{if(sS(n,m,a,l,Vt)){me=1,_u(n,qn(l,n.current)),Ot=null;return}}catch(p){if(m!==null)throw Ot=m,p;me=1,_u(n,qn(l,n.current)),Ot=null;return}a.flags&32768?(Lt||u===1?n=!0:Gr||(Vt&536870912)!==0?n=!1:(qs=n=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),Vy(a,n)):Mu(a)}function Mu(n){var a=n;do{if((a.flags&32768)!==0){Vy(a,qs);return}n=a.return;var l=oS(a.alternate,a,is);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=n}while(a!==null);me===0&&(me=5)}function Vy(n,a){do{var l=lS(n.alternate,n);if(l!==null){l.flags&=32767,Ot=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Ot=n;return}Ot=n=l}while(n!==null);me=6,Ot=null}function ky(n,a,l,u,m,p,b,A,k){n.cancelPendingCommit=null;do Ou();while(Ne!==0);if((Yt&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=bf,Ge(n,l,p,b,A,k),n===se&&(Ot=se=null,Vt=0),Qr=a,Qs=n,ss=l,Cd=p,Dd=m,xy=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,bS(Vi,function(){return jy(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,m=rt.p,rt.p=2,b=Yt,Yt|=4;try{cS(n,a,l)}finally{Yt=b,rt.p=m,K.T=u}}Ne=1,zy(),Ly(),Py()}}function zy(){if(Ne===1){Ne=0;var n=Qs,a=Qr,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=rt.p;rt.p=2;var m=Yt;Yt|=4;try{py(a,n);var p=qd,b=Ep(n.containerInfo),A=p.focusedElem,k=p.selectionRange;if(b!==A&&A&&A.ownerDocument&&Tp(A.ownerDocument.documentElement,A)){if(k!==null&&mf(A)){var Y=k.start,tt=k.end;if(tt===void 0&&(tt=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(tt,A.value.length);else{var nt=A.ownerDocument||document,Q=nt&&nt.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),ut=A.textContent.length,yt=Math.min(k.start,ut),ie=k.end===void 0?yt:Math.min(k.end,ut);!X.extend&&yt>ie&&(b=ie,ie=yt,yt=b);var H=bp(A,yt),B=bp(A,ie);if(H&&B&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var G=nt.createRange();G.setStart(H.node,H.offset),X.removeAllRanges(),yt>ie?(X.addRange(G),X.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),X.addRange(G))}}}}for(nt=[],X=A;X=X.parentNode;)X.nodeType===1&&nt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var et=nt[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Fu=!!Fd,qd=Fd=null}finally{Yt=m,rt.p=u,K.T=l}}n.current=a,Ne=2}}function Ly(){if(Ne===2){Ne=0;var n=Qs,a=Qr,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=rt.p;rt.p=2;var m=Yt;Yt|=4;try{hy(n,a.alternate,a)}finally{Yt=m,rt.p=u,K.T=l}}Ne=3}}function Py(){if(Ne===4||Ne===3){Ne=0,No();var n=Qs,a=Qr,l=ss,u=xy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ne=5:(Ne=0,Qr=Qs=null,By(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Ys=null),Bo(l),a=a.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(gs,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,m=rt.p,rt.p=2,K.T=null;try{for(var p=n.onRecoverableError,b=0;b<u.length;b++){var A=u[b];p(A.value,{componentStack:A.stack})}}finally{K.T=a,rt.p=m}}(ss&3)!==0&&Ou(),Ei(n),m=n.pendingLanes,(l&261930)!==0&&(m&42)!==0?n===Md?Sl++:(Sl=0,Md=n):Sl=0,xl(0)}}function By(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,sl(a)))}function Ou(){return zy(),Ly(),Py(),jy()}function jy(){if(Ne!==5)return!1;var n=Qs,a=Cd;Cd=0;var l=Bo(ss),u=K.T,m=rt.p;try{rt.p=32>l?32:l,K.T=null,l=Dd,Dd=null;var p=Qs,b=ss;if(Ne=0,Qr=Qs=null,ss=0,(Yt&6)!==0)throw Error(s(331));var A=Yt;if(Yt|=4,Ty(p.current),yy(p,p.current,b,l),Yt=A,xl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(gs,p)}catch{}return!0}finally{rt.p=m,K.T=u,By(n,a)}}function Uy(n,a,l){a=qn(l,a),a=ld(n.stateNode,a,2),n=js(n,a,2),n!==null&&(_s(n,2),Ei(n))}function Jt(n,a,l){if(n.tag===3)Uy(n,n,l);else for(;a!==null;){if(a.tag===3){Uy(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ys===null||!Ys.has(u))){n=qn(l,n),l=H_(2),u=js(a,l,2),u!==null&&(F_(l,u,a,n),_s(u,2),Ei(u));break}}a=a.return}}function Nd(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new fS;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Ad=!0,m.add(l),n=_S.bind(null,n,a,l),a.then(n,n))}function _S(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,se===n&&(Vt&l)===l&&(me===4||me===3&&(Vt&62914560)===Vt&&300>qe()-Au?(Yt&2)===0&&Kr(n,0):wd|=l,Yr===Vt&&(Yr=0)),Ei(n)}function Hy(n,a){a===0&&(a=zo()),n=ka(n,a),n!==null&&(_s(n,a),Ei(n))}function yS(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),Hy(n,l)}function vS(n,a){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),Hy(n,l)}function bS(n,a){return ba(n,a)}var Iu=null,$r=null,Vd=!1,Nu=!1,kd=!1,Xs=0;function Ei(n){n!==$r&&n.next===null&&($r===null?Iu=$r=n:$r=$r.next=n),Nu=!0,Vd||(Vd=!0,ES())}function xl(n,a){if(!kd&&Nu){kd=!0;do for(var l=!1,u=Iu;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var b=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-fn(42|n)+1)-1,p&=m&~(b&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Yy(u,p))}else p=Vt,p=jn(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ps(u,p)||(l=!0,Yy(u,p));u=u.next}while(l);kd=!1}}function TS(){Fy()}function Fy(){Nu=Vd=!1;var n=0;Xs!==0&&IS()&&(n=Xs);for(var a=qe(),l=null,u=Iu;u!==null;){var m=u.next,p=qy(u,a);p===0?(u.next=null,l===null?Iu=m:l.next=m,m===null&&($r=l)):(l=u,(n!==0||(p&3)!==0)&&(Nu=!0)),u=m}Ne!==0&&Ne!==5||xl(n),Xs!==0&&(Xs=0)}function qy(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-fn(p),A=1<<b,k=m[b];k===-1?((A&l)===0||(A&u)!==0)&&(m[b]=pr(A,a)):k<=a&&(n.expiredLanes|=A),p&=~A}if(a=se,l=Vt,l=jn(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&mr(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||ps(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&mr(u),Bo(l)){case 2:case 8:l=ke;break;case 32:l=Vi;break;case 268435456:l=Vo;break;default:l=Vi}return u=Gy.bind(null,n),l=ba(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&mr(u),n.callbackPriority=2,n.callbackNode=null,2}function Gy(n,a){if(Ne!==0&&Ne!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Ou()&&n.callbackNode!==l)return null;var u=Vt;return u=jn(n,n===se?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(wy(n,u,a),qy(n,qe()),n.callbackNode!=null&&n.callbackNode===l?Gy.bind(null,n):null)}function Yy(n,a){if(Ou())return null;wy(n,a,!0)}function ES(){VS(function(){(Yt&6)!==0?ba(Ie,TS):Fy()})}function zd(){if(Xs===0){var n=kr;n===0&&(n=Ea,Ea<<=1,(Ea&261888)===0&&(Ea=256)),Xs=n}return Xs}function Qy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pi(""+n)}function Ky(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function SS(n,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var p=Qy((m[Ye]||null).action),b=u.submitter;b&&(a=(a=b[Ye]||null)?Qy(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var A=new Ca("action","action",null,u,m);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xs!==0){var k=b?Ky(m,b):new FormData(m);nd(l,{pending:!0,data:k,method:m.method,action:p},null,k)}}else typeof p=="function"&&(A.preventDefault(),k=b?Ky(m,b):new FormData(m),nd(l,{pending:!0,data:k,method:m.method,action:p},p,k))},currentTarget:m}]})}}for(var Ld=0;Ld<vf.length;Ld++){var Pd=vf[Ld],xS=Pd.toLowerCase(),AS=Pd[0].toUpperCase()+Pd.slice(1);si(xS,"on"+AS)}si(Ap,"onAnimationEnd"),si(wp,"onAnimationIteration"),si(Rp,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(UE,"onTransitionRun"),si(HE,"onTransitionStart"),si(FE,"onTransitionCancel"),si(Cp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Xy(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],m=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var A=u[b],k=A.instance,Y=A.currentTarget;if(A=A.listener,k!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=Y;try{p(m)}catch(tt){Kc(tt)}m.currentTarget=null,p=k}else for(b=0;b<u.length;b++){if(A=u[b],k=A.instance,Y=A.currentTarget,A=A.listener,k!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=Y;try{p(m)}catch(tt){Kc(tt)}m.currentTarget=null,p=k}}}}function It(n,a){var l=a[bs];l===void 0&&(l=a[bs]=new Set);var u=n+"__bubble";l.has(u)||($y(a,n,2,!1),l.add(u))}function Bd(n,a,l){var u=0;a&&(u|=4),$y(l,n,u,a)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function jd(n){if(!n[Vu]){n[Vu]=!0,_r.forEach(function(l){l!=="selectionchange"&&(wS.has(l)||Bd(l,!1,n),Bd(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Vu]||(a[Vu]=!0,Bd("selectionchange",!1,a))}}function $y(n,a,l,u){switch(Av(a)){case 2:var m=tx;break;case 8:m=ex;break;default:m=eg}l=m.bind(null,a,l,n),m=void 0,!Qo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(a,l,{capture:!0,passive:m}):n.addEventListener(a,l,!0):m!==void 0?n.addEventListener(a,l,{passive:m}):n.addEventListener(a,l,!1)}function Ud(n,a,l,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=Pi(A),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=p=b;continue t}A=A.parentNode}}u=u.return}Ic(function(){var Y=p,tt=Er(l),nt=[];t:{var Q=Dp.get(n);if(Q!==void 0){var X=Ca,ut=n;switch(n){case"keypress":if(Ra(l)===0)break t;case"keydown":case"keyup":X=Uc;break;case"focusin":ut="focus",X=Ms;break;case"focusout":ut="blur",X=Ms;break;case"beforeblur":case"afterblur":X=Ms;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Fc;break;case Ap:case wp:case Rp:X=Ar;break;case Cp:X=wr;break;case"scroll":case"scrollend":X=Nc;break;case"wheel":X=Gc;break;case"copy":case"cut":case"paste":X=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zo;break;case"toggle":case"beforetoggle":X=Is}var yt=(a&4)!==0,ie=!yt&&(n==="scroll"||n==="scrollend"),H=yt?Q!==null?Q+"Capture":null:Q;yt=[];for(var B=Y,G;B!==null;){var et=B;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||H===null||(et=vn(B,H),et!=null&&yt.push(wl(B,et,G))),ie)break;B=B.return}0<yt.length&&(Q=new X(Q,ut,null,l,tt),nt.push({event:Q,listeners:yt}))}}if((a&7)===0){t:{if(Q=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Q&&l!==Tr&&(ut=l.relatedTarget||l.fromElement)&&(Pi(ut)||ut[di]))break t;if((X||Q)&&(Q=tt.window===tt?tt:(Q=tt.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(ut=l.relatedTarget||l.toElement,X=Y,ut=ut?Pi(ut):null,ut!==null&&(ie=o(ut),yt=ut.tag,ut!==ie||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(X=null,ut=Y),X!==ut)){if(yt=Vc,et="onMouseLeave",H="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(yt=Zo,et="onPointerLeave",H="onPointerEnter",B="pointer"),ie=X==null?Q:xa(X),G=ut==null?Q:xa(ut),Q=new yt(et,B+"leave",X,l,tt),Q.target=ie,Q.relatedTarget=G,et=null,Pi(tt)===Y&&(yt=new yt(H,B+"enter",ut,l,tt),yt.target=G,yt.relatedTarget=ie,et=yt),ie=et,X&&ut)e:{for(yt=RS,H=X,B=ut,G=0,et=H;et;et=yt(et))G++;et=0;for(var mt=B;mt;mt=yt(mt))et++;for(;0<G-et;)H=yt(H),G--;for(;0<et-G;)B=yt(B),et--;for(;G--;){if(H===B||B!==null&&H===B.alternate){yt=H;break e}H=yt(H),B=yt(B)}yt=null}else yt=null;X!==null&&Wy(nt,Q,X,yt,!1),ut!==null&&ie!==null&&Wy(nt,ie,ut,yt,!0)}}t:{if(Q=Y?xa(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var qt=gp;else if(bn(Q))if(mp)qt=PE;else{qt=zE;var ft=kE}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Go(Y.elementType)&&(qt=gp):qt=LE;if(qt&&(qt=qt(n,Y))){Ia(nt,qt,l,tt);break t}ft&&ft(n,Q,Y),n==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&br(Q,"number",Q.value)}switch(ft=Y?xa(Y):window,n){case"focusin":(bn(ft)||ft.contentEditable==="true")&&(Rr=ft,pf=Y,el=null);break;case"focusout":el=pf=Rr=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Sp(nt,l,tt);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":Sp(nt,l,tt)}var At;if(y)t:{switch(n){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Rt?Wt(n,l)&&(kt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(kt="onCompositionStart");kt&&(q&&l.locale!=="ko"&&(Rt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Rt&&(At=ws()):(Dn=tt,Sr="value"in Dn?Dn.value:Dn.textContent,Rt=!0)),ft=ku(Y,kt),0<ft.length&&(kt=new Xo(kt,n,null,l,tt),nt.push({event:kt,listeners:ft}),At?kt.data=At:(At=Se(l),At!==null&&(kt.data=At)))),(At=R?Le(n,l):Pe(n,l))&&(kt=ku(Y,"onBeforeInput"),0<kt.length&&(ft=new Xo("onBeforeInput","beforeinput",null,l,tt),nt.push({event:ft,listeners:kt}),ft.data=At)),SS(nt,n,Y,l,tt)}Xy(nt,a)})}function wl(n,a,l){return{instance:n,listener:a,currentTarget:l}}function ku(n,a){for(var l=a+"Capture",u=[];n!==null;){var m=n,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=vn(n,l),m!=null&&u.unshift(wl(n,m,p)),m=vn(n,a),m!=null&&u.push(wl(n,m,p))),n.tag===3)return u;n=n.return}return[]}function RS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Wy(n,a,l,u,m){for(var p=a._reactName,b=[];l!==null&&l!==u;){var A=l,k=A.alternate,Y=A.stateNode;if(A=A.tag,k!==null&&k===u)break;A!==5&&A!==26&&A!==27||Y===null||(k=Y,m?(Y=vn(l,p),Y!=null&&b.unshift(wl(l,Y,k))):m||(Y=vn(l,p),Y!=null&&b.push(wl(l,Y,k)))),l=l.return}b.length!==0&&n.push({event:a,listeners:b})}var CS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function Zy(n){return(typeof n=="string"?n:""+n).replace(CS,`
`).replace(DS,"")}function Jy(n,a){return a=Zy(a),Zy(n)===a}function ne(n,a,l,u,m,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Hn(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Hn(n,""+u);break;case"className":Ss(n,"class",u);break;case"tabIndex":Ss(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(n,l,u);break;case"style":Mc(n,u,p);break;case"data":if(a!=="object"){Ss(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=pi(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ne(n,a,"name",m.name,m,null),ne(n,a,"formEncType",m.formEncType,m,null),ne(n,a,"formMethod",m.formMethod,m,null),ne(n,a,"formTarget",m.formTarget,m,null)):(ne(n,a,"encType",m.encType,m,null),ne(n,a,"method",m.method,m,null),ne(n,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=pi(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=ze);break;case"onScroll":u!=null&&It("scroll",n);break;case"onScrollEnd":u!=null&&It("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=pi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":It("beforetoggle",n),It("toggle",n),Es(n,"popover",u);break;case"xlinkActuate":Un(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Un(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Un(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Un(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Un(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Un(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Un(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Un(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Un(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Es(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=uf.get(l)||l,Es(n,l,u))}}function Hd(n,a,l,u,m,p){switch(l){case"style":Mc(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Hn(n,u):(typeof u=="number"||typeof u=="bigint")&&Hn(n,""+u);break;case"onScroll":u!=null&&It("scroll",n);break;case"onScrollEnd":u!=null&&It("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ze);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ts.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=n[Ye]||null,p=p!=null?p[l]:null,typeof p=="function"&&n.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,m);break t}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Es(n,l,u)}}}function $e(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",n),It("load",n);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ne(n,a,p,b,l,null)}}m&&ne(n,a,"srcSet",l.srcSet,l,null),u&&ne(n,a,"src",l.src,l,null);return;case"input":It("invalid",n);var A=p=b=m=null,k=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var tt=l[u];if(tt!=null)switch(u){case"name":m=tt;break;case"type":b=tt;break;case"checked":k=tt;break;case"defaultChecked":Y=tt;break;case"value":p=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,a));break;default:ne(n,a,u,tt,l,null)}}Aa(n,p,A,k,Y,b,m,!1);return;case"select":It("invalid",n),u=b=p=null;for(m in l)if(l.hasOwnProperty(m)&&(A=l[m],A!=null))switch(m){case"value":p=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:ne(n,a,m,A,l,null)}a=p,l=b,n.multiple=!!u,a!=null?Ft(n,!!u,a,!1):l!=null&&Ft(n,!!u,l,!0);return;case"textarea":It("invalid",n),p=m=u=null;for(b in l)if(l.hasOwnProperty(b)&&(A=l[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":m=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ne(n,a,b,A,l,null)}As(n,u,m,p);return;case"option":for(k in l)l.hasOwnProperty(k)&&(u=l[k],u!=null)&&(k==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":ne(n,a,k,u,l,null));return;case"dialog":It("beforetoggle",n),It("toggle",n),It("cancel",n),It("close",n);break;case"iframe":case"object":It("load",n);break;case"video":case"audio":for(u=0;u<Al.length;u++)It(Al[u],n);break;case"image":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"embed":case"source":case"link":It("error",n),It("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ne(n,a,Y,u,l,null)}return;default:if(Go(a)){for(tt in l)l.hasOwnProperty(tt)&&(u=l[tt],u!==void 0&&Hd(n,a,tt,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&ne(n,a,A,u,l,null))}function MS(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,A=null,k=null,Y=null,tt=null;for(X in l){var nt=l[X];if(l.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=nt;default:u.hasOwnProperty(X)||ne(n,a,X,null,u,nt)}}for(var Q in u){var X=u[Q];if(nt=l[Q],u.hasOwnProperty(Q)&&(X!=null||nt!=null))switch(Q){case"type":p=X;break;case"name":m=X;break;case"checked":Y=X;break;case"defaultChecked":tt=X;break;case"value":b=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,a));break;default:X!==nt&&ne(n,a,Q,X,u,nt)}}xs(n,b,A,k,Y,tt,p,m);return;case"select":X=b=A=Q=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":X=k;default:u.hasOwnProperty(p)||ne(n,a,p,null,u,k)}for(m in u)if(p=u[m],k=l[m],u.hasOwnProperty(m)&&(p!=null||k!=null))switch(m){case"value":Q=p;break;case"defaultValue":A=p;break;case"multiple":b=p;default:p!==k&&ne(n,a,m,p,u,k)}a=A,l=b,u=X,Q!=null?Ft(n,!!l,Q,!1):!!u!=!!l&&(a!=null?Ft(n,!!l,a,!0):Ft(n,!!l,l?[]:"",!1));return;case"textarea":X=Q=null;for(A in l)if(m=l[A],l.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ne(n,a,A,null,u,m)}for(b in u)if(m=u[b],p=l[b],u.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":Q=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==p&&ne(n,a,b,m,u,p)}wa(n,Q,X);return;case"option":for(var ut in l)Q=l[ut],l.hasOwnProperty(ut)&&Q!=null&&!u.hasOwnProperty(ut)&&(ut==="selected"?n.selected=!1:ne(n,a,ut,null,u,Q));for(k in u)Q=u[k],X=l[k],u.hasOwnProperty(k)&&Q!==X&&(Q!=null||X!=null)&&(k==="selected"?n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ne(n,a,k,Q,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)Q=l[yt],l.hasOwnProperty(yt)&&Q!=null&&!u.hasOwnProperty(yt)&&ne(n,a,yt,null,u,Q);for(Y in u)if(Q=u[Y],X=l[Y],u.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,a));break;default:ne(n,a,Y,Q,u,X)}return;default:if(Go(a)){for(var ie in l)Q=l[ie],l.hasOwnProperty(ie)&&Q!==void 0&&!u.hasOwnProperty(ie)&&Hd(n,a,ie,void 0,u,Q);for(tt in u)Q=u[tt],X=l[tt],!u.hasOwnProperty(tt)||Q===X||Q===void 0&&X===void 0||Hd(n,a,tt,Q,u,X);return}}for(var H in l)Q=l[H],l.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&ne(n,a,H,null,u,Q);for(nt in u)Q=u[nt],X=l[nt],!u.hasOwnProperty(nt)||Q===X||Q==null&&X==null||ne(n,a,nt,Q,u,X)}function tv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,b=m.initiatorType,A=m.duration;if(p&&A&&tv(b)){for(b=0,A=m.responseEnd,u+=1;u<l.length;u++){var k=l[u],Y=k.startTime;if(Y>A)break;var tt=k.transferSize,nt=k.initiatorType;tt&&tv(nt)&&(k=k.responseEnd,b+=tt*(k<A?1:(A-Y)/(k-Y)))}if(--u,a+=8*(p+b)/(m.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Fd=null,qd=null;function zu(n){return n.nodeType===9?n:n.ownerDocument}function ev(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Gd(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yd=null;function IS(){var n=window.event;return n&&n.type==="popstate"?n===Yd?!1:(Yd=n,!0):(Yd=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(n){return sv.resolve(null).then(n).catch(kS)}:iv;function kS(n){setTimeout(function(){throw n})}function $s(n){return n==="head"}function av(n,a){var l=a,u=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(m),to(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Rl(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Rl(l);for(var p=l.firstChild;p;){var b=p.nextSibling,A=p.nodeName;p[Li]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&Rl(n.ownerDocument.body);l=m}while(l);to(a)}function rv(n,a){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Qd(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qd(l),Sa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function zS(n,a,l,u){for(;n.nodeType===1;){var m=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Li])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Xn(n.nextSibling),n===null)break}return null}function LS(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Xn(n.nextSibling),n===null))return null;return n}function ov(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Xn(n.nextSibling),n===null))return null;return n}function Kd(n){return n.data==="$?"||n.data==="$~"}function Xd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function PS(n,a){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Xn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var $d=null;function lv(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(a===0)return Xn(n.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}n=n.nextSibling}return null}function cv(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return n;a--}else l!=="/$"&&l!=="/&"||a++}n=n.previousSibling}return null}function uv(n,a,l){switch(a=zu(l),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Rl(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Sa(n)}var $n=new Map,hv=new Set;function Lu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var as=rt.d;rt.d={f:BS,r:jS,D:US,C:HS,L:FS,m:qS,X:YS,S:GS,M:QS};function BS(){var n=as.f(),a=Cu();return n||a}function jS(n){var a=Bi(n);a!==null&&a.tag===5&&a.type==="form"?C_(a):as.r(n)}var Wr=typeof document>"u"?null:document;function fv(n,a,l){var u=Wr;if(u&&typeof a=="string"&&a){var m=de(a);m='link[rel="'+n+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),hv.has(m)||(hv.add(m),n={rel:n,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),$e(a,"link",n),_e(a),u.head.appendChild(a)))}}function US(n){as.D(n),fv("dns-prefetch",n,null)}function HS(n,a){as.C(n,a),fv("preconnect",n,a)}function FS(n,a,l){as.L(n,a,l);var u=Wr;if(u&&n&&a){var m='link[rel="preload"][as="'+de(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+de(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+de(l.imageSizes)+'"]')):m+='[href="'+de(n)+'"]';var p=m;switch(a){case"style":p=Zr(n);break;case"script":p=Jr(n)}$n.has(p)||(n=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),$n.set(p,n),u.querySelector(m)!==null||a==="style"&&u.querySelector(Cl(p))||a==="script"&&u.querySelector(Dl(p))||(a=u.createElement("link"),$e(a,"link",n),_e(a),u.head.appendChild(a)))}}function qS(n,a){as.m(n,a);var l=Wr;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+de(u)+'"][href="'+de(n)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Jr(n)}if(!$n.has(p)&&(n=v({rel:"modulepreload",href:n},a),$n.set(p,n),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Dl(p)))return}u=l.createElement("link"),$e(u,"link",n),_e(u),l.head.appendChild(u)}}}function GS(n,a,l){as.S(n,a,l);var u=Wr;if(u&&n){var m=ni(u).hoistableStyles,p=Zr(n);a=a||"default";var b=m.get(p);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(Cl(p)))A.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":a},l),(l=$n.get(p))&&Wd(n,l);var k=b=u.createElement("link");_e(k),$e(k,"link",n),k._p=new Promise(function(Y,tt){k.onload=Y,k.onerror=tt}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Pu(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(p,b)}}}function YS(n,a){as.X(n,a);var l=Wr;if(l&&n){var u=ni(l).hoistableScripts,m=Jr(n),p=u.get(m);p||(p=l.querySelector(Dl(m)),p||(n=v({src:n,async:!0},a),(a=$n.get(m))&&Zd(n,a),p=l.createElement("script"),_e(p),$e(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function QS(n,a){as.M(n,a);var l=Wr;if(l&&n){var u=ni(l).hoistableScripts,m=Jr(n),p=u.get(m);p||(p=l.querySelector(Dl(m)),p||(n=v({src:n,async:!0,type:"module"},a),(a=$n.get(m))&&Zd(n,a),p=l.createElement("script"),_e(p),$e(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function dv(n,a,l,u){var m=(m=bt.current)?Lu(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Zr(l.href),l=ni(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Zr(l.href);var p=ni(m).hoistableStyles,b=p.get(n);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=m.querySelector(Cl(n)))&&!p._p&&(b.instance=p,b.state.loading=5),$n.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$n.set(n,l),p||KS(m,n,l,b.state))),a&&u===null)throw Error(s(528,""));return b}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jr(l),l=ni(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Zr(n){return'href="'+de(n)+'"'}function Cl(n){return'link[rel="stylesheet"]['+n+"]"}function gv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function KS(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),$e(a,"link",l),_e(a),n.head.appendChild(a))}function Jr(n){return'[src="'+de(n)+'"]'}function Dl(n){return"script[async]"+n}function mv(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+de(l.href)+'"]');if(u)return a.instance=u,_e(u),u;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),_e(u),$e(u,"style",m),Pu(u,l.precedence,n),a.instance=u;case"stylesheet":m=Zr(l.href);var p=n.querySelector(Cl(m));if(p)return a.state.loading|=4,a.instance=p,_e(p),p;u=gv(l),(m=$n.get(m))&&Wd(u,m),p=(n.ownerDocument||n).createElement("link"),_e(p);var b=p;return b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),$e(p,"link",u),a.state.loading|=4,Pu(p,l.precedence,n),a.instance=p;case"script":return p=Jr(l.src),(m=n.querySelector(Dl(p)))?(a.instance=m,_e(m),m):(u=l,(m=$n.get(p))&&(u=v({},l),Zd(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),_e(m),$e(m,"link",u),n.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Pu(u,l.precedence,n));return a.instance}function Pu(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===a)p=A;else if(p!==m)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function Wd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Zd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Bu=null;function pv(n,a,l){if(Bu===null){var u=new Map,m=Bu=new Map;m.set(l,u)}else m=Bu,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),m=0;m<l.length;m++){var p=l[m];if(!(p[Li]||p[fe]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=n+b;var A=u.get(b);A?A.push(p):u.set(b,[p])}}return u}function _v(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function XS(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(n=a.disabled,typeof a.precedence=="string"&&n==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function yv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $S(n,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Zr(u.href),p=a.querySelector(Cl(m));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=ju.bind(n),a.then(n,n)),l.state.loading|=4,l.instance=p,_e(p);return}p=a.ownerDocument||a,u=gv(u),(m=$n.get(m))&&Wd(u,m),p=p.createElement("link"),_e(p);var b=p;b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),$e(p,"link",u),l.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=ju.bind(n),a.addEventListener("load",l),a.addEventListener("error",l))}}var Jd=0;function WS(n,a){return n.stylesheets&&n.count===0&&Hu(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Hu(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Jd===0&&(Jd=62500*OS());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Hu(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Jd?50:800)+a);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Uu=null;function Hu(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Uu=new Map,a.forEach(ZS,n),Uu=null,ju.call(n))}function ZS(n,a){if(!(a.state.loading&4)){var l=Uu.get(n);if(l)var u=l.get(null);else{l=new Map,Uu.set(n,l);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}m=a.instance,b=m.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,m),l.set(b,m),this.count++,u=ju.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),a.state.loading|=4}}var Ml={$$typeof:Z,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function JS(n,a,l,u,m,p,b,A,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function vv(n,a,l,u,m,p,b,A,k,Y,tt,nt){return n=new JS(n,a,l,b,k,Y,tt,nt,A),a=1,p===!0&&(a|=24),p=On(3,null,null,a),n.current=p,p.stateNode=n,a=If(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},zf(p),n}function bv(n){return n?(n=Mr,n):Mr}function Tv(n,a,l,u,m,p){m=bv(m),u.context===null?u.context=m:u.pendingContext=m,u=Bs(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=js(n,u,a),l!==null&&(An(l,n,a),ll(l,n,a))}function Ev(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function tg(n,a){Ev(n,a),(n=n.alternate)&&Ev(n,a)}function Sv(n){if(n.tag===13||n.tag===31){var a=ka(n,67108864);a!==null&&An(a,n,67108864),tg(n,67108864)}}function xv(n){if(n.tag===13||n.tag===31){var a=zn();a=Po(a);var l=ka(n,a);l!==null&&An(l,n,a),tg(n,a)}}var Fu=!0;function tx(n,a,l,u){var m=K.T;K.T=null;var p=rt.p;try{rt.p=2,eg(n,a,l,u)}finally{rt.p=p,K.T=m}}function ex(n,a,l,u){var m=K.T;K.T=null;var p=rt.p;try{rt.p=8,eg(n,a,l,u)}finally{rt.p=p,K.T=m}}function eg(n,a,l,u){if(Fu){var m=ng(u);if(m===null)Ud(n,a,u,qu,l),wv(n,u);else if(ix(m,n,a,l,u))u.stopPropagation();else if(wv(n,u),a&4&&-1<nx.indexOf(n)){for(;m!==null;){var p=Bi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=ei(p.pendingLanes);if(b!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var k=1<<31-fn(b);A.entanglements[1]|=k,b&=~k}Ei(p),(Yt&6)===0&&(wu=qe()+500,xl(0))}}break;case 31:case 13:A=ka(p,2),A!==null&&An(A,p,2),Cu(),tg(p,2)}if(p=ng(u),p===null&&Ud(n,a,u,qu,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else Ud(n,a,u,null,l)}}function ng(n){return n=Er(n),ig(n)}var qu=null;function ig(n){if(qu=null,n=Pi(n),n!==null){var a=o(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=c(a),n!==null)return n;n=null}else if(l===31){if(n=h(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return qu=n,null}function Av(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sc()){case Ie:return 2;case ke:return 8;case Vi:case xc:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var sg=!1,Ws=null,Zs=null,Js=null,Ol=new Map,Il=new Map,ta=[],nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(n,a){switch(n){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ol.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(a.pointerId)}}function Nl(n,a,l,u,m,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Bi(a),a!==null&&Sv(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),n)}function ix(n,a,l,u,m){switch(a){case"focusin":return Ws=Nl(Ws,n,a,l,u,m),!0;case"dragenter":return Zs=Nl(Zs,n,a,l,u,m),!0;case"mouseover":return Js=Nl(Js,n,a,l,u,m),!0;case"pointerover":var p=m.pointerId;return Ol.set(p,Nl(Ol.get(p)||null,n,a,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Il.set(p,Nl(Il.get(p)||null,n,a,l,u,m)),!0}return!1}function Rv(n){var a=Pi(n.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){n.blockedOn=a,wc(n.priority,function(){xv(l)});return}}else if(a===31){if(a=h(l),a!==null){n.blockedOn=a,wc(n.priority,function(){xv(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gu(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=ng(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Tr=u,l.target.dispatchEvent(u),Tr=null}else return a=Bi(l),a!==null&&Sv(a),n.blockedOn=l,!1;a.shift()}return!0}function Cv(n,a,l){Gu(n)&&l.delete(a)}function sx(){sg=!1,Ws!==null&&Gu(Ws)&&(Ws=null),Zs!==null&&Gu(Zs)&&(Zs=null),Js!==null&&Gu(Js)&&(Js=null),Ol.forEach(Cv),Il.forEach(Cv)}function Yu(n,a){n.blockedOn===a&&(n.blockedOn=null,sg||(sg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sx)))}var Qu=null;function Dv(n){Qu!==n&&(Qu=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qu===n&&(Qu=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],m=n[a+2];if(typeof u!="function"){if(ig(u||l)===null)continue;break}var p=Bi(l);p!==null&&(n.splice(a,3),a-=3,nd(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function to(n){function a(k){return Yu(k,n)}Ws!==null&&Yu(Ws,n),Zs!==null&&Yu(Zs,n),Js!==null&&Yu(Js,n),Ol.forEach(a),Il.forEach(a);for(var l=0;l<ta.length;l++){var u=ta[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ta.length&&(l=ta[0],l.blockedOn===null);)Rv(l),l.blockedOn===null&&ta.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],b=m[Ye]||null;if(typeof p=="function")b||Dv(l);else if(b){var A=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[Ye]||null)A=b.formAction;else if(ig(m)!==null)continue}else A=b.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),Dv(l)}}}function Mv(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function ag(n){this._internalRoot=n}Ku.prototype.render=ag.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,u=zn();Tv(l,u,n,a,null,null)},Ku.prototype.unmount=ag.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Tv(n.current,2,null,n,null,null),Cu(),a[di]=null}};function Ku(n){this._internalRoot=n}Ku.prototype.unstable_scheduleHydration=function(n){if(n){var a=zi();n={blockedOn:null,target:n,priority:a};for(var l=0;l<ta.length&&a!==0&&a<ta[l].priority;l++);ta.splice(l,0,n),l===0&&Rv(n)}};var Ov=t.version;if(Ov!=="19.2.3")throw Error(s(527,Ov,"19.2.3"));rt.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(a),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var ax={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{gs=Xu.inject(ax),en=Xu}catch{}}return kl.createRoot=function(n,a){if(!r(n))throw Error(s(299));var l=!1,u="",m=P_,p=B_,b=j_;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=vv(n,1,!1,null,null,l,u,null,m,p,b,Mv),n[di]=a.current,jd(n),new ag(a)},kl.hydrateRoot=function(n,a,l){if(!r(n))throw Error(s(299));var u=!1,m="",p=P_,b=B_,A=j_,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),a=vv(n,1,!0,a,l??null,u,m,k,p,b,A,Mv),a.context=bv(null),l=a.current,u=zn(),u=Po(u),m=Bs(u),m.callback=null,js(l,m,u),l=u,a.current.lanes=l,_s(a,l),Ei(a),n[di]=a.current,jd(n),new Ku(a)},kl.version="19.2.3",kl}var Uv;function mx(){if(Uv)return lg.exports;Uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),lg.exports=gx(),lg.exports}var px=mx(),Hv={};const dT=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let r=i.charCodeAt(s);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},_x=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const r=i[e++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=i[e++];t[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=i[e++],c=i[e++],h=i[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(f>>10)),t[s++]=String.fromCharCode(56320+(f&1023))}else{const o=i[e++],c=i[e++];t[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<i.length;r+=3){const o=i[r],c=r+1<i.length,h=c?i[r+1]:0,f=r+2<i.length,g=f?i[r+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,S=g&63;f||(S=64,c||(E=64)),s.push(e[_],e[v],e[E],e[S])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(dT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):_x(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<i.length;){const o=e[i.charAt(r++)],h=r<i.length?e[i.charAt(r)]:0;++r;const g=r<i.length?e[i.charAt(r)]:64;++r;const v=r<i.length?e[i.charAt(r)]:64;if(++r,o==null||h==null||g==null||v==null)throw new yx;const E=o<<2|h>>4;if(s.push(E),g!==64){const S=h<<4&240|g>>2;if(s.push(S),v!==64){const w=g<<6&192|v;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vx=function(i){const t=dT(i);return gT.encodeByteArray(t,!0)},Eh=function(i){return vx(i).replace(/\./g,"")},bx=function(i){try{return gT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ex=()=>Tx().__FIREBASE_DEFAULTS__,Sx=()=>{if(typeof process>"u"||typeof Hv>"u")return;const i=Hv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&bx(i[1]);return t&&JSON.parse(t)},mm=()=>{try{return Ex()||Sx()||xx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Ax=i=>{var t,e;return(e=(t=mm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},wx=i=>{const t=Ax(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},mT=()=>{var i;return(i=mm())===null||i===void 0?void 0:i.config};class Rx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Cx(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",r=i.iat||0,o=i.sub||i.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Eh(JSON.stringify(e)),Eh(JSON.stringify(c)),""].join(".")}function Dx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mx(){var i;const t=(i=mm())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ox(){return!Mx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ix(){try{return typeof indexedDB=="object"}catch{return!1}}function Nx(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}const Vx="FirebaseError";class Ao extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=Vx,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pT.prototype.create)}}class pT{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?kx(o,s):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Ao(r,h,s)}}function kx(i,t){return i.replace(zx,(e,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const zx=/\{\$([^}]+)}/g;function kg(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const r of e){if(!s.includes(r))return!1;const o=i[r],c=t[r];if(Fv(o)&&Fv(c)){if(!kg(o,c))return!1}else if(o!==c)return!1}for(const r of s)if(!e.includes(r))return!1;return!0}function Fv(i){return i!==null&&typeof i=="object"}function fo(i){return i&&i._delegate?i._delegate:i}class ic{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Za="[DEFAULT]";class Lx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new Rx;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Bx(t))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(t=Za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Za){return this.instances.has(t)}getOptions(t=Za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&c.resolve(r)}return r}onInit(t,e){var s;const r=this.normalizeInstanceIdentifier(e),o=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const r of s)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Px(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Za){return this.component?this.component.multipleInstances?t:Za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Px(i){return i===Za?void 0:i}function Bx(i){return i.instantiationMode==="EAGER"}class jx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Lx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ut||(Ut={}));const Ux={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},Hx=Ut.INFO,Fx={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},qx=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),r=Fx[t];if(r)console[r](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _T{constructor(t){this.name=t,this._logLevel=Hx,this._logHandler=qx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ux[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const Gx=(i,t)=>t.some(e=>i instanceof e);let qv,Gv;function Yx(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qx(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,zg=new WeakMap,vT=new WeakMap,fg=new WeakMap,pm=new WeakMap;function Kx(i){const t=new Promise((e,s)=>{const r=()=>{i.removeEventListener("success",o),i.removeEventListener("error",c)},o=()=>{e(la(i.result)),r()},c=()=>{s(i.error),r()};i.addEventListener("success",o),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&yT.set(e,i)}).catch(()=>{}),pm.set(t,i),t}function Xx(i){if(zg.has(i))return;const t=new Promise((e,s)=>{const r=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",c),i.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",o),i.addEventListener("error",c),i.addEventListener("abort",c)});zg.set(i,t)}let Lg={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return zg.get(i);if(t==="objectStoreNames")return i.objectStoreNames||vT.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return la(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function $x(i){Lg=i(Lg)}function Wx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(dg(this),t,...e);return vT.set(s,t.sort?t.sort():[t]),la(s)}:Qx().includes(i)?function(...t){return i.apply(dg(this),t),la(yT.get(this))}:function(...t){return la(i.apply(dg(this),t))}}function Zx(i){return typeof i=="function"?Wx(i):(i instanceof IDBTransaction&&Xx(i),Gx(i,Yx())?new Proxy(i,Lg):i)}function la(i){if(i instanceof IDBRequest)return Kx(i);if(fg.has(i))return fg.get(i);const t=Zx(i);return t!==i&&(fg.set(i,t),pm.set(t,i)),t}const dg=i=>pm.get(i);function Jx(i,t,{blocked:e,upgrade:s,blocking:r,terminated:o}={}){const c=indexedDB.open(i,t),h=la(c);return s&&c.addEventListener("upgradeneeded",f=>{s(la(c.result),f.oldVersion,f.newVersion,la(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const tA=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],gg=new Map;function Yv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(gg.get(t))return gg.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,r=eA.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(r||tA.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let g=f.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return gg.set(t,o),o}$x(i=>({...i,get:(t,e,s)=>Yv(t,e)||i.get(t,e,s),has:(t,e)=>!!Yv(t,e)||i.has(t,e)}));class nA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(iA(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function iA(i){const t=i.getComponent();return t?.type==="VERSION"}const Pg="@firebase/app",Qv="0.10.13";const fs=new _T("@firebase/app"),sA="@firebase/app-compat",aA="@firebase/analytics-compat",rA="@firebase/analytics",oA="@firebase/app-check-compat",lA="@firebase/app-check",cA="@firebase/auth",uA="@firebase/auth-compat",hA="@firebase/database",fA="@firebase/data-connect",dA="@firebase/database-compat",gA="@firebase/functions",mA="@firebase/functions-compat",pA="@firebase/installations",_A="@firebase/installations-compat",yA="@firebase/messaging",vA="@firebase/messaging-compat",bA="@firebase/performance",TA="@firebase/performance-compat",EA="@firebase/remote-config",SA="@firebase/remote-config-compat",xA="@firebase/storage",AA="@firebase/storage-compat",wA="@firebase/firestore",RA="@firebase/vertexai-preview",CA="@firebase/firestore-compat",DA="firebase",MA="10.14.1";const Bg="[DEFAULT]",OA={[Pg]:"fire-core",[sA]:"fire-core-compat",[rA]:"fire-analytics",[aA]:"fire-analytics-compat",[lA]:"fire-app-check",[oA]:"fire-app-check-compat",[cA]:"fire-auth",[uA]:"fire-auth-compat",[hA]:"fire-rtdb",[fA]:"fire-data-connect",[dA]:"fire-rtdb-compat",[gA]:"fire-fn",[mA]:"fire-fn-compat",[pA]:"fire-iid",[_A]:"fire-iid-compat",[yA]:"fire-fcm",[vA]:"fire-fcm-compat",[bA]:"fire-perf",[TA]:"fire-perf-compat",[EA]:"fire-rc",[SA]:"fire-rc-compat",[xA]:"fire-gcs",[AA]:"fire-gcs-compat",[wA]:"fire-fst",[CA]:"fire-fst-compat",[RA]:"fire-vertex","fire-js":"fire-js",[DA]:"fire-js-all"};const Sh=new Map,IA=new Map,jg=new Map;function Kv(i,t){try{i.container.addComponent(t)}catch(e){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function xh(i){const t=i.name;if(jg.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;jg.set(t,i);for(const e of Sh.values())Kv(e,i);for(const e of IA.values())Kv(e,i);return!0}function NA(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new pT("app","Firebase",VA);class kA{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ic("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const zA=MA;function bT(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Bg,automaticDataCollectionEnabled:!1},t),r=s.name;if(typeof r!="string"||!r)throw ca.create("bad-app-name",{appName:String(r)});if(e||(e=mT()),!e)throw ca.create("no-options");const o=Sh.get(r);if(o){if(kg(e,o.options)&&kg(s,o.config))return o;throw ca.create("duplicate-app",{appName:r})}const c=new jx(r);for(const f of jg.values())c.addComponent(f);const h=new kA(e,s,c);return Sh.set(r,h),h}function LA(i=Bg){const t=Sh.get(i);if(!t&&i===Bg&&mT())return bT();if(!t)throw ca.create("no-app",{appName:i});return t}function ro(i,t,e){var s;let r=(s=OA[i])!==null&&s!==void 0?s:i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(h.join(" "));return}xh(new ic(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const PA="firebase-heartbeat-database",BA=1,sc="firebase-heartbeat-store";let mg=null;function TT(){return mg||(mg=Jx(PA,BA,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(sc)}catch(e){console.warn(e)}}}}).catch(i=>{throw ca.create("idb-open",{originalErrorMessage:i.message})})),mg}async function jA(i){try{const e=(await TT()).transaction(sc),s=await e.objectStore(sc).get(ET(i));return await e.done,s}catch(t){if(t instanceof Ao)fs.warn(t.message);else{const e=ca.create("idb-get",{originalErrorMessage:t?.message});fs.warn(e.message)}}}async function Xv(i,t){try{const s=(await TT()).transaction(sc,"readwrite");await s.objectStore(sc).put(t,ET(i)),await s.done}catch(e){if(e instanceof Ao)fs.warn(e.message);else{const s=ca.create("idb-set",{originalErrorMessage:e?.message});fs.warn(s.message)}}}function ET(i){return`${i.name}!${i.options.appId}`}const UA=1024,HA=720*60*60*1e3;class FA{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new GA(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$v();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=HA}),this._storage.overwrite(this._heartbeatsCache))}catch(s){fs.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$v(),{heartbeatsToSend:s,unsentEntries:r}=qA(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fs.warn(e),""}}}function $v(){return new Date().toISOString().substring(0,10)}function qA(i,t=UA){const e=[];let s=i.slice();for(const r of i){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Wv(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Wv(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class GA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ix()?Nx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await jA(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Wv(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function YA(i){xh(new ic("platform-logger",t=>new nA(t),"PRIVATE")),xh(new ic("heartbeat",t=>new FA(t),"PRIVATE")),ro(Pg,Qv,i),ro(Pg,Qv,"esm2017"),ro("fire-js","")}YA("");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,ST;(function(){var i;function t(D,C){function O(){}O.prototype=C.prototype,D.D=C.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(V,I,P){for(var N=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)N[$t-2]=arguments[$t];return C.prototype[I].apply(V,N)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,C,O){O||(O=0);var V=Array(16);if(typeof C=="string")for(var I=0;16>I;++I)V[I]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(I=0;16>I;++I)V[I]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=D.g[0],O=D.g[1],I=D.g[2];var P=D.g[3],N=C+(P^O&(I^P))+V[0]+3614090360&4294967295;C=O+(N<<7&4294967295|N>>>25),N=P+(I^C&(O^I))+V[1]+3905402710&4294967295,P=C+(N<<12&4294967295|N>>>20),N=I+(O^P&(C^O))+V[2]+606105819&4294967295,I=P+(N<<17&4294967295|N>>>15),N=O+(C^I&(P^C))+V[3]+3250441966&4294967295,O=I+(N<<22&4294967295|N>>>10),N=C+(P^O&(I^P))+V[4]+4118548399&4294967295,C=O+(N<<7&4294967295|N>>>25),N=P+(I^C&(O^I))+V[5]+1200080426&4294967295,P=C+(N<<12&4294967295|N>>>20),N=I+(O^P&(C^O))+V[6]+2821735955&4294967295,I=P+(N<<17&4294967295|N>>>15),N=O+(C^I&(P^C))+V[7]+4249261313&4294967295,O=I+(N<<22&4294967295|N>>>10),N=C+(P^O&(I^P))+V[8]+1770035416&4294967295,C=O+(N<<7&4294967295|N>>>25),N=P+(I^C&(O^I))+V[9]+2336552879&4294967295,P=C+(N<<12&4294967295|N>>>20),N=I+(O^P&(C^O))+V[10]+4294925233&4294967295,I=P+(N<<17&4294967295|N>>>15),N=O+(C^I&(P^C))+V[11]+2304563134&4294967295,O=I+(N<<22&4294967295|N>>>10),N=C+(P^O&(I^P))+V[12]+1804603682&4294967295,C=O+(N<<7&4294967295|N>>>25),N=P+(I^C&(O^I))+V[13]+4254626195&4294967295,P=C+(N<<12&4294967295|N>>>20),N=I+(O^P&(C^O))+V[14]+2792965006&4294967295,I=P+(N<<17&4294967295|N>>>15),N=O+(C^I&(P^C))+V[15]+1236535329&4294967295,O=I+(N<<22&4294967295|N>>>10),N=C+(I^P&(O^I))+V[1]+4129170786&4294967295,C=O+(N<<5&4294967295|N>>>27),N=P+(O^I&(C^O))+V[6]+3225465664&4294967295,P=C+(N<<9&4294967295|N>>>23),N=I+(C^O&(P^C))+V[11]+643717713&4294967295,I=P+(N<<14&4294967295|N>>>18),N=O+(P^C&(I^P))+V[0]+3921069994&4294967295,O=I+(N<<20&4294967295|N>>>12),N=C+(I^P&(O^I))+V[5]+3593408605&4294967295,C=O+(N<<5&4294967295|N>>>27),N=P+(O^I&(C^O))+V[10]+38016083&4294967295,P=C+(N<<9&4294967295|N>>>23),N=I+(C^O&(P^C))+V[15]+3634488961&4294967295,I=P+(N<<14&4294967295|N>>>18),N=O+(P^C&(I^P))+V[4]+3889429448&4294967295,O=I+(N<<20&4294967295|N>>>12),N=C+(I^P&(O^I))+V[9]+568446438&4294967295,C=O+(N<<5&4294967295|N>>>27),N=P+(O^I&(C^O))+V[14]+3275163606&4294967295,P=C+(N<<9&4294967295|N>>>23),N=I+(C^O&(P^C))+V[3]+4107603335&4294967295,I=P+(N<<14&4294967295|N>>>18),N=O+(P^C&(I^P))+V[8]+1163531501&4294967295,O=I+(N<<20&4294967295|N>>>12),N=C+(I^P&(O^I))+V[13]+2850285829&4294967295,C=O+(N<<5&4294967295|N>>>27),N=P+(O^I&(C^O))+V[2]+4243563512&4294967295,P=C+(N<<9&4294967295|N>>>23),N=I+(C^O&(P^C))+V[7]+1735328473&4294967295,I=P+(N<<14&4294967295|N>>>18),N=O+(P^C&(I^P))+V[12]+2368359562&4294967295,O=I+(N<<20&4294967295|N>>>12),N=C+(O^I^P)+V[5]+4294588738&4294967295,C=O+(N<<4&4294967295|N>>>28),N=P+(C^O^I)+V[8]+2272392833&4294967295,P=C+(N<<11&4294967295|N>>>21),N=I+(P^C^O)+V[11]+1839030562&4294967295,I=P+(N<<16&4294967295|N>>>16),N=O+(I^P^C)+V[14]+4259657740&4294967295,O=I+(N<<23&4294967295|N>>>9),N=C+(O^I^P)+V[1]+2763975236&4294967295,C=O+(N<<4&4294967295|N>>>28),N=P+(C^O^I)+V[4]+1272893353&4294967295,P=C+(N<<11&4294967295|N>>>21),N=I+(P^C^O)+V[7]+4139469664&4294967295,I=P+(N<<16&4294967295|N>>>16),N=O+(I^P^C)+V[10]+3200236656&4294967295,O=I+(N<<23&4294967295|N>>>9),N=C+(O^I^P)+V[13]+681279174&4294967295,C=O+(N<<4&4294967295|N>>>28),N=P+(C^O^I)+V[0]+3936430074&4294967295,P=C+(N<<11&4294967295|N>>>21),N=I+(P^C^O)+V[3]+3572445317&4294967295,I=P+(N<<16&4294967295|N>>>16),N=O+(I^P^C)+V[6]+76029189&4294967295,O=I+(N<<23&4294967295|N>>>9),N=C+(O^I^P)+V[9]+3654602809&4294967295,C=O+(N<<4&4294967295|N>>>28),N=P+(C^O^I)+V[12]+3873151461&4294967295,P=C+(N<<11&4294967295|N>>>21),N=I+(P^C^O)+V[15]+530742520&4294967295,I=P+(N<<16&4294967295|N>>>16),N=O+(I^P^C)+V[2]+3299628645&4294967295,O=I+(N<<23&4294967295|N>>>9),N=C+(I^(O|~P))+V[0]+4096336452&4294967295,C=O+(N<<6&4294967295|N>>>26),N=P+(O^(C|~I))+V[7]+1126891415&4294967295,P=C+(N<<10&4294967295|N>>>22),N=I+(C^(P|~O))+V[14]+2878612391&4294967295,I=P+(N<<15&4294967295|N>>>17),N=O+(P^(I|~C))+V[5]+4237533241&4294967295,O=I+(N<<21&4294967295|N>>>11),N=C+(I^(O|~P))+V[12]+1700485571&4294967295,C=O+(N<<6&4294967295|N>>>26),N=P+(O^(C|~I))+V[3]+2399980690&4294967295,P=C+(N<<10&4294967295|N>>>22),N=I+(C^(P|~O))+V[10]+4293915773&4294967295,I=P+(N<<15&4294967295|N>>>17),N=O+(P^(I|~C))+V[1]+2240044497&4294967295,O=I+(N<<21&4294967295|N>>>11),N=C+(I^(O|~P))+V[8]+1873313359&4294967295,C=O+(N<<6&4294967295|N>>>26),N=P+(O^(C|~I))+V[15]+4264355552&4294967295,P=C+(N<<10&4294967295|N>>>22),N=I+(C^(P|~O))+V[6]+2734768916&4294967295,I=P+(N<<15&4294967295|N>>>17),N=O+(P^(I|~C))+V[13]+1309151649&4294967295,O=I+(N<<21&4294967295|N>>>11),N=C+(I^(O|~P))+V[4]+4149444226&4294967295,C=O+(N<<6&4294967295|N>>>26),N=P+(O^(C|~I))+V[11]+3174756917&4294967295,P=C+(N<<10&4294967295|N>>>22),N=I+(C^(P|~O))+V[2]+718787259&4294967295,I=P+(N<<15&4294967295|N>>>17),N=O+(P^(I|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var O=C-this.blockSize,V=this.B,I=this.h,P=0;P<C;){if(I==0)for(;P<=O;)r(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<C;)if(V[I++]=D.charCodeAt(P++),I==this.blockSize){r(this,V),I=0;break}}else for(;P<C;)if(V[I++]=D[P++],I==this.blockSize){r(this,V),I=0;break}}this.h=I,this.o+=C},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var O=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=O&255,O/=256;for(this.u(D),D=Array(16),C=O=0;4>C;++C)for(var V=0;32>V;V+=8)D[O++]=this.g[C]>>>V&255;return D};function o(D,C){var O=h;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=C(D)}function c(D,C){this.h=C;for(var O=[],V=!0,I=D.length-1;0<=I;I--){var P=D[I]|0;V&&P==C||(O[I]=P,V=!1)}this.g=O}var h={};function f(D){return-128<=D&&128>D?o(D,function(C){return new c([C|0],0>C?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return M(g(-D));for(var C=[],O=1,V=0;D>=O;V++)C[V]=D/O|0,O*=4294967296;return new c(C,0)}function _(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return M(_(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(C,8)),V=v,I=0;I<D.length;I+=8){var P=Math.min(8,D.length-I),N=parseInt(D.substring(I,I+P),C);8>P?(P=g(Math.pow(C,P)),V=V.j(P).add(g(N))):(V=V.j(O),V=V.add(g(N)))}return V}var v=f(0),E=f(1),S=f(16777216);i=c.prototype,i.m=function(){if(x(this))return-M(this).m();for(var D=0,C=1,O=0;O<this.g.length;O++){var V=this.i(O);D+=(0<=V?V:4294967296+V)*C,C*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(x(this))return"-"+M(this).toString(D);for(var C=g(Math.pow(D,6)),O=this,V="";;){var I=F(O,C).g;O=U(O,I.j(C));var P=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=I,w(O))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function x(D){return D.h==-1}i.l=function(D){return D=U(this,D),x(D)?-1:w(D)?0:1};function M(D){for(var C=D.g.length,O=[],V=0;V<C;V++)O[V]=~D.g[V];return new c(O,~D.h).add(E)}i.abs=function(){return x(this)?M(this):this},i.add=function(D){for(var C=Math.max(this.g.length,D.g.length),O=[],V=0,I=0;I<=C;I++){var P=V+(this.i(I)&65535)+(D.i(I)&65535),N=(P>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);V=N>>>16,P&=65535,N&=65535,O[I]=N<<16|P}return new c(O,O[O.length-1]&-2147483648?-1:0)};function U(D,C){return D.add(M(C))}i.j=function(D){if(w(this)||w(D))return v;if(x(this))return x(D)?M(this).j(M(D)):M(M(this).j(D));if(x(D))return M(this.j(M(D)));if(0>this.l(S)&&0>D.l(S))return g(this.m()*D.m());for(var C=this.g.length+D.g.length,O=[],V=0;V<2*C;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<D.g.length;I++){var P=this.i(V)>>>16,N=this.i(V)&65535,$t=D.i(I)>>>16,wt=D.i(I)&65535;O[2*V+2*I]+=N*wt,L(O,2*V+2*I),O[2*V+2*I+1]+=P*wt,L(O,2*V+2*I+1),O[2*V+2*I+1]+=N*$t,L(O,2*V+2*I+1),O[2*V+2*I+2]+=P*$t,L(O,2*V+2*I+2)}for(V=0;V<C;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=C;V<2*C;V++)O[V]=0;return new c(O,0)};function L(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function Z(D,C){this.g=D,this.h=C}function F(D,C){if(w(C))throw Error("division by zero");if(w(D))return new Z(v,v);if(x(D))return C=F(M(D),C),new Z(M(C.g),M(C.h));if(x(C))return C=F(D,M(C)),new Z(M(C.g),C.h);if(30<D.g.length){if(x(D)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var O=E,V=C;0>=V.l(D);)O=$(O),V=$(V);var I=it(O,1),P=it(V,1);for(V=it(V,2),O=it(O,2);!w(V);){var N=P.add(V);0>=N.l(D)&&(I=I.add(O),P=N),V=it(V,1),O=it(O,1)}return C=U(D,I.j(C)),new Z(I,C)}for(I=v;0<=D.l(C);){for(O=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=g(O),N=P.j(C);x(N)||0<N.l(D);)O-=V,P=g(O),N=P.j(C);w(P)&&(P=E),I=I.add(P),D=U(D,N)}return new Z(I,D)}i.A=function(D){return F(this,D).h},i.and=function(D){for(var C=Math.max(this.g.length,D.g.length),O=[],V=0;V<C;V++)O[V]=this.i(V)&D.i(V);return new c(O,this.h&D.h)},i.or=function(D){for(var C=Math.max(this.g.length,D.g.length),O=[],V=0;V<C;V++)O[V]=this.i(V)|D.i(V);return new c(O,this.h|D.h)},i.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),O=[],V=0;V<C;V++)O[V]=this.i(V)^D.i(V);return new c(O,this.h^D.h)};function $(D){for(var C=D.g.length+1,O=[],V=0;V<C;V++)O[V]=D.i(V)<<1|D.i(V-1)>>>31;return new c(O,D.h)}function it(D,C){var O=C>>5;C%=32;for(var V=D.g.length-O,I=[],P=0;P<V;P++)I[P]=0<C?D.i(P+O)>>>C|D.i(P+O+1)<<32-C:D.i(P+O);return new c(I,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ST=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,sr=c}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xT,Hl,AT,mh,Ug,wT,RT,CT;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=e(this);function r(d,y){if(y)t:{var T=s;d=d.split(".");for(var R=0;R<d.length-1;R++){var q=d[R];if(!(q in T))break t;T=T[q]}d=d[d.length-1],R=T[d],y=y(R),y!=R&&y!=null&&t(T,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var T=0,R=!1,q={next:function(){if(!R&&T<d.length){var W=T++;return{value:y(W,d[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(d){return d||function(){return o(this,function(y,T){return T})}});var c=c||{},h=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function g(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function _(d,y,T){return d.call.apply(d.bind,arguments)}function v(d,y,T){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),d.apply(y,q)}}return function(){return d.apply(y,arguments)}}function E(d,y,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,E.apply(null,arguments)}function S(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function w(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(R,q,W){for(var lt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)lt[Wt-2]=arguments[Wt];return y.prototype[q].apply(R,lt)}}function x(d){const y=d.length;if(0<y){const T=Array(y);for(let R=0;R<y;R++)T[R]=d[R];return T}return[]}function M(d,y){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(f(R)){const q=d.length||0,W=R.length||0;d.length=q+W;for(let lt=0;lt<W;lt++)d[q+lt]=R[lt]}else d.push(R)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(d){return/^[\s\xa0]*$/.test(d)}function Z(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var $=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function it(d,y,T){for(const R in d)y.call(T,d[R],R,d)}function D(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function C(d){const y={};for(const T in d)y[T]=d[T];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,y){let T,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(T in R)d[T]=R[T];for(let W=0;W<O.length;W++)T=O[W],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function I(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function P(d){h.setTimeout(()=>{throw d},0)}function N(){var d=Dt;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class $t{constructor(){this.h=this.g=null}add(y,T){const R=wt.get();R.set(y,T),this.h?this.h.next=R:this.g=R,this.h=R}}var wt=new U(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,gt=!1,Dt=new $t,Mt=()=>{const d=h.Promise.resolve(void 0);rt=()=>{d.then(j)}};var j=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(T){P(T)}var y=wt;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}gt=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,y),h.removeEventListener("test",T,y)}catch{}return d})();function pt(d,y){if(at.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if($){t:{try{F(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:bt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&pt.aa.h.call(this)}}w(pt,at);var bt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function he(d,y,T,R,q){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!R,this.ha=q,this.key=++Fe,this.da=this.fa=!1}function ui(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ni(d){this.src=d,this.g={},this.h=0}Ni.prototype.add=function(d,y,T,R,q){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var lt=fr(d,y,R,q);return-1<lt?(y=d[lt],T||(y.fa=!1)):(y=new he(y,this.src,W,!!R,q),y.fa=T,d.push(y)),y};function ya(d,y){var T=y.type;if(T in d.g){var R=d.g[T],q=Array.prototype.indexOf.call(R,y,void 0),W;(W=0<=q)&&Array.prototype.splice.call(R,q,1),W&&(ui(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function fr(d,y,T,R){for(var q=0;q<d.length;++q){var W=d[q];if(!W.da&&W.listener==y&&W.capture==!!T&&W.ha==R)return q}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),va={};function dr(d,y,T,R,q){if(Array.isArray(y)){for(var W=0;W<y.length;W++)dr(d,y[W],T,R,q);return null}return T=Sc(T),d&&d[zt]?d.K(y,T,g(R)?!!R.capture:!1,q):nf(d,y,T,!1,R,q)}function nf(d,y,T,R,q,W){if(!y)throw Error("Invalid event type");var lt=g(q)?!!q.capture:!!q,Wt=No(d);if(Wt||(d[ti]=Wt=new Ni(d)),T=Wt.add(y,T,R,lt,W),T.proxy)return T;if(R=Ec(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)ct||(q=lt),q===void 0&&(q=!1),d.addEventListener(y.toString(),R,q);else if(d.attachEvent)d.attachEvent(mr(y.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ec(){function d(T){return y.call(d.src,d.listener,T)}const y=sf;return d}function gr(d,y,T,R,q){if(Array.isArray(y))for(var W=0;W<y.length;W++)gr(d,y[W],T,R,q);else R=g(R)?!!R.capture:!!R,T=Sc(T),d&&d[zt]?(d=d.i,y=String(y).toString(),y in d.g&&(W=d.g[y],T=fr(W,T,R,q),-1<T&&(ui(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete d.g[y],d.h--)))):d&&(d=No(d))&&(y=d.g[y.toString()],d=-1,y&&(d=fr(y,T,R,q)),(T=-1<d?y[d]:null)&&ba(T))}function ba(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[zt])ya(y.i,d);else{var T=d.type,R=d.proxy;y.removeEventListener?y.removeEventListener(T,R,d.capture):y.detachEvent?y.detachEvent(mr(T),R):y.addListener&&y.removeListener&&y.removeListener(R),(T=No(y))?(ya(T,d),T.h==0&&(T.src=null,y[ti]=null)):ui(d)}}}function mr(d){return d in va?va[d]:va[d]="on"+d}function sf(d,y){if(d.da)d=!0;else{y=new pt(y,this);var T=d.listener,R=d.ha||d.src;d.fa&&ba(d),d=T.call(R,y)}return d}function No(d){return d=d[ti],d instanceof Ni?d:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sc(d){return typeof d=="function"?d:(d[qe]||(d[qe]=function(y){return d.handleEvent(y)}),d[qe])}function Ie(){J.call(this),this.i=new Ni(this),this.M=this,this.F=null}w(Ie,J),Ie.prototype[zt]=!0,Ie.prototype.removeEventListener=function(d,y,T,R){gr(this,d,y,T,R)};function ke(d,y){var T,R=d.F;if(R)for(T=[];R;R=R.F)T.push(R);if(d=d.M,R=y.type||y,typeof y=="string")y=new at(y,d);else if(y instanceof at)y.target=y.target||d;else{var q=y;y=new at(R,d),V(y,q)}if(q=!0,T)for(var W=T.length-1;0<=W;W--){var lt=y.g=T[W];q=Vi(lt,R,!0,y)&&q}if(lt=y.g=d,q=Vi(lt,R,!0,y)&&q,q=Vi(lt,R,!1,y)&&q,T)for(W=0;W<T.length;W++)lt=y.g=T[W],q=Vi(lt,R,!1,y)&&q}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],R=0;R<T.length;R++)ui(T[R]);delete d.g[y],d.h--}}this.F=null},Ie.prototype.K=function(d,y,T,R){return this.i.add(String(d),y,!1,T,R)},Ie.prototype.L=function(d,y,T,R){return this.i.add(String(d),y,!0,T,R)};function Vi(d,y,T,R){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,W=0;W<y.length;++W){var lt=y[W];if(lt&&!lt.da&&lt.capture==T){var Wt=lt.listener,Se=lt.ha||lt.src;lt.fa&&ya(d.i,lt),q=Wt.call(Se,R)!==!1&&q}}return q&&!R.defaultPrevented}function xc(d,y,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(d,y||0)}function Vo(d){d.g=xc(()=>{d.g=null,d.i&&(d.i=!1,Vo(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class af extends J{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(d){J.call(this),this.h=d,this.g={}}w(Ta,J);var gs=[];function en(d){it(d.g,function(y,T){this.g.hasOwnProperty(T)&&ba(y)},d),d.g={}}Ta.prototype.N=function(){Ta.aa.N.call(this),en(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=h.JSON.stringify,fn=h.JSON.parse,rf=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function ko(){}ko.prototype.h=null;function Ac(d){return d.h||(d.h=d.i())}function Ea(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ms(){at.call(this,"d")}w(ms,at);function ei(){at.call(this,"c")}w(ei,at);var jn={},ps=null;function pr(){return ps=ps||new Ie}jn.La="serverreachability";function zo(d){at.call(this,jn.La,d)}w(zo,at);function ki(d){const y=pr();ke(y,new zo(y))}jn.STAT_EVENT="statevent";function _s(d,y){at.call(this,jn.STAT_EVENT,d),this.stat=y}w(_s,at);function Ge(d){const y=pr();ke(y,new _s(y,d))}jn.Ma="timingevent";function Lo(d,y){at.call(this,jn.Ma,d),this.size=y}w(Lo,at);function ys(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},y)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function Po(d,y,T,R,q,W){d.info(function(){if(d.g)if(W)for(var lt="",Wt=W.split("&"),Se=0;Se<Wt.length;Se++){var Rt=Wt[Se].split("=");if(1<Rt.length){var Le=Rt[0];Rt=Rt[1];var Pe=Le.split("_");lt=2<=Pe.length&&Pe[1]=="type"?lt+(Le+"="+Rt+"&"):lt+(Le+"=redacted&")}}else lt=null;else lt=W;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+y+`
`+T+`
`+lt})}function Bo(d,y,T,R,q,W,lt){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+y+`
`+T+`
`+W+" "+lt})}function zi(d,y,T,R){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+fi(d,T)+(R?" "+R:"")})}function wc(d,y){d.info(function(){return"TIMEOUT: "+y})}vs.prototype.info=function(){};function fi(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var R=T[d];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return Bn(T)}catch{return y}}var fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function bs(){}w(bs,ko),bs.prototype.g=function(){return new XMLHttpRequest},bs.prototype.i=function(){return{}},di=new bs;function gi(d,y,T,R){this.j=d,this.i=y,this.l=T,this.R=R||1,this.U=new Ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rc}function Rc(){this.i=null,this.g="",this.h=!1}var jo={},Li={};function Sa(d,y,T){d.L=1,d.v=wa(de(y)),d.m=T,d.P=!0,Pi(d,null)}function Pi(d,y){d.F=Date.now(),ni(d),d.A=de(d.v);var T=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Ui(T.i,"t",R),d.C=0,T=d.j.J,d.h=new Rc,d.g=Fc(d.j,T?y:null,!d.m),0<d.O&&(d.M=new af(E(d.Y,d,d.g),d.O)),y=d.U,T=d.g,R=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(gs[0]=q.toString()),q=gs);for(var W=0;W<q.length;W++){var lt=dr(T,q[W],R||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),ki(),Po(d.i,d.u,d.A,d.l,d.R,d.m)}gi.prototype.ca=function(d){d=d.target;const y=this.M;y&&mn(d)==3?y.j():this.Y(d)},gi.prototype.Y=function(d){try{if(d==this.g)t:{const Pe=mn(this.g);var y=this.g.Ba();const Ns=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Da(this.g)))){this.J||Pe!=4||y==7||(y==8||0>=Ns?ki(3):ki(2)),_r(this);var T=this.g.Z();this.X=T;e:if(Bi(this)){var R=Da(this.g);d="";var q=R.length,W=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Ts(this);var lt="";break e}this.h.i=new h.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,d+=this.h.i.decode(R[y],{stream:!(W&&y==q-1)});R.length=0,this.h.g+=d,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=T==200,Bo(this.i,this.u,this.A,this.l,this.R,Pe,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,Se=this.g;if((Wt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Wt)){var Rt=Wt;break e}}Rt=null}if(T=Rt)zi(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mi(this,T);else{this.o=!1,this.s=3,Ge(12),dn(this),Ts(this);break t}}if(this.P){T=!0;let bn;for(;!this.J&&this.C<lt.length;)if(bn=xa(this,lt),bn==Li){Pe==4&&(this.s=4,Ge(14),T=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==jo){this.s=4,Ge(15),zi(this.i,this.l,lt,"[Invalid Chunk]"),T=!1;break}else zi(this.i,this.l,bn,null),mi(this,bn);if(Bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||lt.length!=0||this.h.h||(this.s=1,Ge(16),T=!1),this.o=this.o&&T,!T)zi(this.i,this.l,lt,"[Invalid Chunked Response]"),dn(this),Ts(this);else if(0<lt.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Wo(Le),Le.M=!0,Ge(11))}}else zi(this.i,this.l,lt,null),mi(this,lt);Pe==4&&dn(this),this.o&&!this.J&&(Pe==4?jc(this.j,this):(this.o=!1,ni(this)))}else Vc(this.g),T==400&&0<lt.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),dn(this),Ts(this)}}}catch{}};function Bi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function xa(d,y){var T=d.C,R=y.indexOf(`
`,T);return R==-1?Li:(T=Number(y.substring(T,R)),isNaN(T)?jo:(R+=1,R+T>y.length?Li:(y=y.slice(R,R+T),d.C=R+T,y)))}gi.prototype.cancel=function(){this.J=!0,dn(this)};function ni(d){d.S=Date.now()+d.I,_e(d,d.I)}function _e(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ys(E(d.ba,d),y)}function _r(d){d.B&&(h.clearTimeout(d.B),d.B=null)}gi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(wc(this.i,this.A),this.L!=2&&(ki(),Ge(17)),dn(this),this.s=2,Ts(this)):_e(this,this.S-d)};function Ts(d){d.j.G==0||d.J||jc(d.j,d)}function dn(d){_r(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,en(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function mi(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||Es(T.h,d))){if(!d.K&&Es(T.h,d)&&T.G==3){try{var R=T.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Os(T),Ms(T);else break t;$o(T),Ge(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=ys(E(T.Za,T),6e3));if(1>=Cc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Fi(T,11)}else if((d.K||T.g==d)&&Os(T),!L(y))for(q=T.Da.g.parse(y),y=0;y<q.length;y++){let Rt=q[y];if(T.T=Rt[0],Rt=Rt[1],T.G==2)if(Rt[0]=="c"){T.K=Rt[1],T.ia=Rt[2];const Le=Rt[3];Le!=null&&(T.la=Le,T.j.info("VER="+T.la));const Pe=Rt[4];Pe!=null&&(T.Aa=Pe,T.j.info("SVER="+T.Aa));const Ns=Rt[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(R=1.5*Ns,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const bn=d.g;if(bn){const Ia=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ia){var W=R.h;W.g||Ia.indexOf("spdy")==-1&&Ia.indexOf("quic")==-1&&Ia.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ss(W,W.h),W.h=null))}if(R.D){const qi=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;qi&&(R.ya=qi,Ft(R.I,R.D,qi))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var lt=d;if(R.qa=Hc(R,R.J?R.ia:null,R.W),lt.K){Un(R.h,lt);var Wt=lt,Se=R.L;Se&&(Wt.I=Se),Wt.B&&(_r(Wt),ni(Wt)),R.g=lt}else Pc(R);0<T.i.length&&Ar(T)}else Rt[0]!="stop"&&Rt[0]!="close"||Fi(T,7);else T.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Fi(T,7):Ko(T):Rt[0]!="noop"&&T.l&&T.l.ta(Rt),T.v=0)}}ki(4)}catch{}}var of=class{constructor(d,y){this.g=d,this.map=y}};function Uo(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ho(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Cc(d){return d.h?1:d.g?d.g.size:0}function Es(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ss(d,y){d.g?d.g.add(y):d.h=y}function Un(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Uo.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function gn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return x(d.i)}function Dc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],T=d.length,R=0;R<T;R++)y.push(d[R]);return y}y=[],T=0;for(R in d)y[T++]=d[R];return y}function lf(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const R in d)y[T++]=R;return y}}}function yr(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=lf(d),R=Dc(d),q=R.length,W=0;W<q;W++)y.call(void 0,R[W],T&&T[W],d)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vr(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var R=d[T].indexOf("="),q=null;if(0<=R){var W=d[T].substring(0,R);q=d[T].substring(R+1)}else W=d[T];y(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ji(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ji){this.h=d.h,xs(this,d.j),this.o=d.o,this.g=d.g,Aa(this,d.s),this.l=d.l;var y=d.i,T=new pi;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),br(this,T),this.m=d.m}else d&&(y=String(d).match(Fo))?(this.h=!1,xs(this,y[1]||"",!0),this.o=As(y[2]||""),this.g=As(y[3]||"",!0),Aa(this,y[4]),this.l=As(y[5]||"",!0),br(this,y[6]||"",!0),this.m=As(y[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}ji.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Hn(y,qo,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Hn(y,qo,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Hn(T,T.charAt(0)=="/"?Go:Mc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Hn(T,hf)),d.join("")};function de(d){return new ji(d)}function xs(d,y,T){d.j=T?As(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Aa(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function br(d,y,T){y instanceof pi?(d.i=y,Oc(d.i,d.h)):(T||(y=Hn(y,uf)),d.i=new pi(y,d.h))}function Ft(d,y,T){d.i.set(y,T)}function wa(d){return Ft(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function As(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Hn(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,cf),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function cf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qo=/[#\/\?@]/g,Mc=/[#\?:]/g,Go=/[#\?]/g,uf=/[#\?@]/g,hf=/#/g;function pi(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function ze(d){d.g||(d.g=new Map,d.h=0,d.i&&vr(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=pi.prototype,i.add=function(d,y){ze(this),this.i=null,d=Cn(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function Tr(d,y){ze(d),y=Cn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Er(d,y){return ze(d),y=Cn(d,y),d.g.has(y)}i.forEach=function(d,y){ze(this),this.g.forEach(function(T,R){T.forEach(function(q){d.call(y,q,R,this)},this)},this)},i.na=function(){ze(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let R=0;R<y.length;R++){const q=d[R];for(let W=0;W<q.length;W++)T.push(y[R])}return T},i.V=function(d){ze(this);let y=[];if(typeof d=="string")Er(this,d)&&(y=y.concat(this.g.get(Cn(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},i.set=function(d,y){return ze(this),this.i=null,d=Cn(this,d),Er(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},i.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ui(d,y,T){Tr(d,y),0<T.length&&(d.i=null,d.g.set(Cn(d,y),x(T)),d.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var R=y[T];const W=encodeURIComponent(String(R)),lt=this.V(R);for(R=0;R<lt.length;R++){var q=W;lt[R]!==""&&(q+="="+encodeURIComponent(String(lt[R]))),d.push(q)}}return this.i=d.join("&")};function Cn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Oc(d,y){y&&!d.j&&(ze(d),d.i=null,d.g.forEach(function(T,R){var q=R.toLowerCase();R!=q&&(Tr(this,R),Ui(this,q,T))},d)),d.j=y}function Yo(d,y){const T=new vs;if(h.Image){const R=new Image;R.onload=S(vn,T,"TestLoadImage: loaded",!0,y,R),R.onerror=S(vn,T,"TestLoadImage: error",!1,y,R),R.onabort=S(vn,T,"TestLoadImage: abort",!1,y,R),R.ontimeout=S(vn,T,"TestLoadImage: timeout",!1,y,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else y(!1)}function Ic(d,y){const T=new vs,R=new AbortController,q=setTimeout(()=>{R.abort(),vn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(q),W.ok?vn(T,"TestPingServer: ok",!0,y):vn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),vn(T,"TestPingServer: error",!1,y)})}function vn(d,y,T,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(T)}catch{}}function ii(){this.g=new rf}function Qo(d,y,T){const R=T||"";try{yr(d,function(q,W){let lt=q;g(q)&&(lt=Bn(q)),y.push(R+W+"="+encodeURIComponent(lt))})}catch(q){throw y.push(R+"type="+encodeURIComponent("_badmap")),q}}function _i(d){this.l=d.Ub||null,this.j=d.eb||!1}w(_i,ko),_i.prototype.g=function(){return new Dn(this.l,this.j)},_i.prototype.i=(function(d){return function(){return d}})({});function Dn(d,y){Ie.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Dn,Ie),i=Dn.prototype,i.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ws(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},i.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sr(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sr(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}i.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?yi(this):ws(this),this.readyState==3&&Sr(this)}},i.Ra=function(d){this.g&&(this.response=this.responseText=d,yi(this))},i.Qa=function(d){this.g&&(this.response=d,yi(this))},i.ga=function(){this.g&&yi(this)};function yi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ws(d)}i.setRequestHeader=function(d,y){this.u.append(d,y)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function ws(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ra(d){let y="";return it(d,function(T,R){y+=R,y+=":",y+=T,y+=`\r
`}),y}function Rs(d,y,T){t:{for(R in T){var R=!1;break t}R=!0}R||(T=Ra(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Ft(d,y,T))}function ae(d){Ie.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ae,Ie);var nn=/^https?$/i,Hi=["POST","PUT"];i=ae.prototype,i.Ha=function(d){this.J=d},i.ea=function(d,y,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?Ac(this.o):Ac(di),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(W){Ca(this,W);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)T.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())T.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Hi,y,void 0))||R||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,lt]of T)this.g.setRequestHeader(W,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xr(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){Ca(this,W)}};function Ca(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Cs(d),Ds(d)}function Cs(d){d.A||(d.A=!0,ke(d,"complete"),ke(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ke(this,"complete"),ke(this,"abort"),Ds(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),ae.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Nc(this):this.bb())},i.bb=function(){Nc(this)};function Nc(d){if(d.h&&typeof c<"u"&&(!d.v[1]||mn(d)!=4||d.Z()!=2)){if(d.u&&mn(d)==4)xc(d.Ea,0,d);else if(ke(d,"readystatechange"),mn(d)==4){d.h=!1;try{const lt=d.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var R;if(R=lt===0){var q=String(d.D).match(Fo)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),R=!nn.test(q?q.toLowerCase():"")}T=R}if(T)ke(d,"complete"),ke(d,"success");else{d.m=6;try{var W=2<mn(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",Cs(d)}}finally{Ds(d)}}}}function Ds(d,y){if(d.g){xr(d);const T=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||ke(d,"ready");try{T.onreadystatechange=R}catch{}}}function xr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}i.isActive=function(){return!!this.g};function mn(d){return d.g?d.g.readyState:0}i.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),fn(y)}};function Da(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(d){const y={};d=(d.g&&2<=mn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(L(d[R]))continue;var T=I(d[R]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=y[q]||[];y[q]=W,W.push(T)}D(y,function(R){return R.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function kc(d){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,d),this.cb=Ma("retryDelaySeedMs",1e4,d),this.Wa=Ma("forwardChannelMaxRetries",2,d),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Uo(d&&d.concurrentRequestLimit),this.Da=new ii,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=kc.prototype,i.la=8,i.G=1,i.connect=function(d,y,T,R){Ge(0),this.W=d,this.H=y||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=Hc(this,null,this.W),Ar(this)};function Ko(d){if(zc(d),d.G==3){var y=d.U++,T=de(d.I);if(Ft(T,"SID",d.K),Ft(T,"RID",y),Ft(T,"TYPE","terminate"),Oa(d,T),y=new gi(d,d.j,y),y.L=2,y.v=wa(de(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=y.v,T=!0),T||(y.g=Fc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ni(y)}Zo(d)}function Ms(d){d.g&&(Wo(d),d.g.cancel(),d.g=null)}function zc(d){Ms(d),d.u&&(h.clearTimeout(d.u),d.u=null),Os(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Ar(d){if(!Ho(d.h)&&!d.s){d.s=!0;var y=d.Ga;rt||Mt(),gt||(rt(),gt=!0),Dt.add(y,d),d.B=0}}function ff(d,y){return Cc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ys(E(d.Ga,d,y),Uc(d,d.B)),d.B++,!0)}i.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new gi(this,this.j,d);let W=this.o;if(this.S&&(W?(W=C(W),V(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Xo(this,q,y),T=de(this.I),Ft(T,"RID",d),Ft(T,"CVER",22),this.D&&Ft(T,"X-HTTP-Session-Id",this.D),Oa(this,T),W&&(this.O?y="headers="+encodeURIComponent(String(Ra(W)))+"&"+y:this.m&&Rs(T,this.m,W)),Ss(this.h,q),this.Ua&&Ft(T,"TYPE","init"),this.P?(Ft(T,"$req",y),Ft(T,"SID","null"),q.T=!0,Sa(q,T,null)):Sa(q,T,y),this.G=2}}else this.G==3&&(d?Lc(this,d):this.i.length==0||Ho(this.h)||Lc(this))};function Lc(d,y){var T;y?T=y.l:T=d.U++;const R=de(d.I);Ft(R,"SID",d.K),Ft(R,"RID",T),Ft(R,"AID",d.T),Oa(d,R),d.m&&d.o&&Rs(R,d.m,d.o),T=new gi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Xo(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ss(d.h,T),Sa(T,R,y)}function Oa(d,y){d.H&&it(d.H,function(T,R){Ft(y,R,T)}),d.l&&yr({},function(T,R){Ft(y,R,T)})}function Xo(d,y,T){T=Math.min(d.i.length,T);var R=d.l?E(d.l.Na,d.l,d):null;t:{var q=d.i;let W=-1;for(;;){const lt=["count="+T];W==-1?0<T?(W=q[0].g,lt.push("ofs="+W)):W=0:lt.push("ofs="+W);let Wt=!0;for(let Se=0;Se<T;Se++){let Rt=q[Se].g;const Le=q[Se].map;if(Rt-=W,0>Rt)W=Math.max(0,q[Se].g-100),Wt=!1;else try{Qo(Le,lt,"req"+Rt+"_")}catch{R&&R(Le)}}if(Wt){R=lt.join("&");break t}}}return d=d.i.splice(0,T),y.D=d,R}function Pc(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;rt||Mt(),gt||(rt(),gt=!0),Dt.add(y,d),d.v=0}}function $o(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ys(E(d.Fa,d),Uc(d,d.v)),d.v++,!0)}i.Fa=function(){if(this.u=null,Bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ys(E(this.ab,this),d)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Ms(this),Bc(this))};function Wo(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Bc(d){d.g=new gi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=de(d.qa);Ft(y,"RID","rpc"),Ft(y,"SID",d.K),Ft(y,"AID",d.T),Ft(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ft(y,"TO",d.ja),Ft(y,"TYPE","xmlhttp"),Oa(d,y),d.m&&d.o&&Rs(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=wa(de(y)),T.m=null,T.P=!0,Pi(T,d)}i.Za=function(){this.C!=null&&(this.C=null,Ms(this),$o(this),Ge(19))};function Os(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function jc(d,y){var T=null;if(d.g==y){Os(d),Wo(d),d.g=null;var R=2}else if(Es(d.h,y))T=y.D,Un(d.h,y),R=1;else return;if(d.G!=0){if(y.o)if(R==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var q=d.B;R=pr(),ke(R,new Lo(R,T)),Ar(d)}else Pc(d);else if(q=y.s,q==3||q==0&&0<y.X||!(R==1&&ff(d,y)||R==2&&$o(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),q){case 1:Fi(d,5);break;case 4:Fi(d,10);break;case 3:Fi(d,6);break;default:Fi(d,2)}}}function Uc(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function Fi(d,y){if(d.j.info("Error code "+y),y==2){var T=E(d.fb,d),R=d.Xa;const q=!R;R=new ji(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||xs(R,"https"),wa(R),q?Yo(R.toString(),T):Ic(R.toString(),T)}else Ge(2);d.G=0,d.l&&d.l.sa(y),Zo(d),zc(d)}i.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Zo(d){if(d.G=0,d.ka=[],d.l){const y=gn(d.h);(y.length!=0||d.i.length!=0)&&(M(d.ka,y),M(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function Hc(d,y,T){var R=T instanceof ji?de(T):new ji(T);if(R.g!="")y&&(R.g=y+"."+R.g),Aa(R,R.s);else{var q=h.location;R=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var W=new ji(null);R&&xs(W,R),y&&(W.g=y),q&&Aa(W,q),T&&(W.l=T),R=W}return T=d.D,y=d.ya,T&&y&&Ft(R,T,y),Ft(R,"VER",d.la),Oa(d,R),R}function Fc(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new ae(new _i({eb:T})):new ae(d.pa),y.Ha(d.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}i=qc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wr(){}wr.prototype.g=function(d,y){return new pn(d,y)};function pn(d,y){Ie.call(this),this.g=new kc(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!L(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Is(this)}w(pn,Ie),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ko(this.g)},pn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Bn(d),d=T);y.i.push(new of(y.Ya++,d)),y.G==3&&Ar(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,pn.aa.N.call(this)};function Gc(d){ms.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){t:{for(const T in y){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}w(Gc,ms);function Yc(){ei.call(this),this.status=1}w(Yc,ei);function Is(d){this.g=d}w(Is,qc),Is.prototype.ua=function(){ke(this.g,"a")},Is.prototype.ta=function(d){ke(this.g,new Gc(d))},Is.prototype.sa=function(d){ke(this.g,new Yc)},Is.prototype.ra=function(){ke(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,CT=function(){return new wr},RT=function(){return pr()},wT=jn,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,mh=fe,Ye.COMPLETE="complete",AT=Ye,Ea.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Hl=Ea,ae.prototype.listenOnce=ae.prototype.L,ae.prototype.getLastError=ae.prototype.Ka,ae.prototype.getLastErrorCode=ae.prototype.Ba,ae.prototype.getStatus=ae.prototype.Z,ae.prototype.getResponseJson=ae.prototype.Oa,ae.prototype.getResponseText=ae.prototype.oa,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Ha,xT=ae}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore";class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let wo="10.14.0";const or=new _T("@firebase/firestore");function zl(){return or.logLevel}function dt(i,...t){if(or.logLevel<=Ut.DEBUG){const e=t.map(_m);or.debug(`Firestore (${wo}): ${i}`,...e)}}function ds(i,...t){if(or.logLevel<=Ut.ERROR){const e=t.map(_m);or.error(`Firestore (${wo}): ${i}`,...e)}}function go(i,...t){if(or.logLevel<=Ut.WARN){const e=t.map(_m);or.warn(`Firestore (${wo}): ${i}`,...e)}}function _m(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function xt(i="Unexpected state"){const t=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+i;throw ds(t),new Error(t)}function pe(i,t){i||xt()}function jt(i,t){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Ao{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class DT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(on.UNAUTHENTICATED)))}shutdown(){}}class KA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class XA{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){pe(this.o===void 0);let s=this.i;const r=f=>this.i!==s?(s=this.i,e(f)):Promise.resolve();let o=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oo,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oo)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pe(typeof s.accessToken=="string"),new DT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pe(t===null||typeof t=="string"),new on(t)}}class $A{constructor(t,e,s){this.l=t,this.h=e,this.P=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WA{constructor(t,e,s){this.l=t,this.h=e,this.P=s}getToken(){return Promise.resolve(new $A(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JA{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){pe(this.o===void 0);const s=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>s(o)))};const r=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(pe(typeof e.token=="string"),this.R=e.token,new ZA(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function t2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}class MT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const r=t2(40);for(let o=0;o<r.length;++o)s.length<20&&r[o]<e&&(s+=t.charAt(r[o]%t.length))}return s}}function Kt(i,t){return i<t?-1:i>t?1:0}function mo(i,t,e){return i.length===t.length&&i.every(((s,r)=>e(s,t[r])))}class Ue{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ht(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ue.fromMillis(Date.now())}static fromDate(t){return Ue.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*e));return new Ue(e,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Ue(0,0))}static max(){return new Et(new Ue(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ac{constructor(t,e,s){e===void 0?e=0:e>t.length&&xt(),s===void 0?s=t.length-e:s>t.length-e&&xt(),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return ac.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ac?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let r=0;r<s;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ce extends ac{construct(t,e,s){return new ce(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((r=>r.length>0)))}return new ce(e)}static emptyPath(){return new ce([])}}const e2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends ac{construct(t,e,s){return new cn(t,e,s)}static isValidIdentifier(t){return e2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(t){const e=[];let s="",r=0;const o=()=>{if(s.length===0)throw new ht(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ht(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ht(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(s+=h,r++):(o(),r++)}if(o(),c)throw new ht(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(e)}static emptyPath(){return new cn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ce.fromString(t))}static fromName(t){return new _t(ce.fromString(t).popFirst(5))}static empty(){return new _t(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ce.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ce(t.slice()))}}function n2(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,r=Et.fromTimestamp(s===1e9?new Ue(e+1,0):new Ue(e,s));return new fa(r,_t.empty(),t)}function i2(i){return new fa(i.readTime,i.key,-1)}class fa{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new fa(Et.min(),_t.empty(),-1)}static max(){return new fa(Et.max(),_t.empty(),-1)}}function s2(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(i.documentKey,t.documentKey),e!==0?e:Kt(i.largestBatchId,t.largestBatchId))}const a2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ym(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==a2)throw i;dt("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((s,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(s,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(s,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,s)=>{e(t)}))}static reject(t){return new st(((e,s)=>{s(t)}))}static waitFor(t){return new st(((e,s)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>s(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const s of t)e=e.next((r=>r?st.resolve(r):s()));return e}static forEach(t,e){const s=[];return t.forEach(((r,o)=>{s.push(e.call(this,r,o))})),this.waitFor(s)}static mapArray(t,e){return new st(((s,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next((_=>{c[g]=_,++h,h===o&&s(c)}),(_=>r(_)))}}))}static doWhile(t,e){return new st(((s,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):s()};o()}))}}function o2(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function pc(i){return i.name==="IndexedDbTransactionError"}class vm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ie(s),this.se=s=>e.writeSequenceNumber(s))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}vm.oe=-1;function Ph(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function l2(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function t0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function _c(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function OT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Ee{constructor(t,e){this.comparator=t,this.root=e||Ze.EMPTY}insert(t,e){return new Ee(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return e+s.left.size;r<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wu(this.root,t,this.comparator,!0)}}class Wu{constructor(t,e,s,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?s(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,e,s,r,o){this.key=t,this.value=e,this.color=s??Ze.RED,this.left=r??Ze.EMPTY,this.right=o??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,r,o){return new Ze(t??this.key,e??this.value,s??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let r=this;const o=s(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,s),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Ze.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const t=this.left.check();if(t!==this.right.check())throw xt();return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(t,e,s,r,o){return this}insert(t,e,s){return new Ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Je{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(t){return new e0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Je)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=s.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Je(this.comparator);return e.data=t,e}}class e0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class na{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new na([])}unionWith(t){let e=new Je(cn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new na(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IT("Invalid base64 string: "+o):o}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const c2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(i){if(pe(!!i),typeof i=="string"){let t=0;const e=c2.exec(i);if(pe(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(i.seconds),nanos:be(i.nanos)}}function be(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function lr(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}function bm(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function Tm(i){const t=i.mapValue.fields.__previous_value__;return bm(t)?Tm(t):t}function rc(i){const t=da(i.mapValue.fields.__local_write_time__.timestampValue);return new Ue(t.seconds,t.nanos)}class u2{constructor(t,e,s,r,o,c,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}class oc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof oc&&t.projectId===this.projectId&&t.database===this.database}}const Zu={mapValue:{}};function cr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bm(i)?4:f2(i)?9007199254740991:h2(i)?10:11:xt()}function Ii(i,t){if(i===t)return!0;const e=cr(i);if(e!==cr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return rc(i).isEqual(rc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=da(r.timestampValue),h=da(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(r,o){return lr(r.bytesValue).isEqual(lr(o.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(r,o){return be(r.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(r.geoPointValue.longitude)===be(o.geoPointValue.longitude)})(i,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return be(r.integerValue)===be(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=be(r.doubleValue),h=be(o.doubleValue);return c===h?Ah(c)===Ah(h):isNaN(c)&&isNaN(h)}return!1})(i,t);case 9:return mo(i.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(t0(c)!==t0(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ii(c[f],h[f])))return!1;return!0})(i,t);default:return xt()}}function lc(i,t){return(i.values||[]).find((e=>Ii(e,t)))!==void 0}function po(i,t){if(i===t)return 0;const e=cr(i),s=cr(t);if(e!==s)return Kt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=be(o.integerValue||o.doubleValue),f=be(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(i,t);case 3:return n0(i.timestampValue,t.timestampValue);case 4:return n0(rc(i),rc(t));case 5:return Kt(i.stringValue,t.stringValue);case 6:return(function(o,c){const h=lr(o),f=lr(c);return h.compareTo(f)})(i.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=Kt(h[g],f[g]);if(_!==0)return _}return Kt(h.length,f.length)})(i.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Kt(be(o.latitude),be(c.latitude));return h!==0?h:Kt(be(o.longitude),be(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return i0(i.arrayValue,t.arrayValue);case 10:return(function(o,c){var h,f,g,_;const v=o.fields||{},E=c.fields||{},S=(h=v.value)===null||h===void 0?void 0:h.arrayValue,w=(f=E.value)===null||f===void 0?void 0:f.arrayValue,x=Kt(((g=S?.values)===null||g===void 0?void 0:g.length)||0,((_=w?.values)===null||_===void 0?void 0:_.length)||0);return x!==0?x:i0(S,w)})(i.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Zu.mapValue&&c===Zu.mapValue)return 0;if(o===Zu.mapValue)return 1;if(c===Zu.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const E=Kt(f[v],_[v]);if(E!==0)return E;const S=po(h[f[v]],g[_[v]]);if(S!==0)return S}return Kt(f.length,_.length)})(i.mapValue,t.mapValue);default:throw xt()}}function n0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Kt(i,t);const e=da(i),s=da(t),r=Kt(e.seconds,s.seconds);return r!==0?r:Kt(e.nanos,s.nanos)}function i0(i,t){const e=i.values||[],s=t.values||[];for(let r=0;r<e.length&&r<s.length;++r){const o=po(e[r],s[r]);if(o)return o}return Kt(e.length,s.length)}function _o(i){return Hg(i)}function Hg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const s=da(e);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return lr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return _t.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let s="[",r=!0;for(const o of e.values||[])r?r=!1:s+=",",s+=Hg(o);return s+"]"})(i.arrayValue):"mapValue"in i?(function(e){const s=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of s)o?o=!1:r+=",",r+=`${c}:${Hg(e.fields[c])}`;return r+"}"})(i.mapValue):xt()}function s0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Fg(i){return!!i&&"integerValue"in i}function Em(i){return!!i&&"arrayValue"in i}function a0(i){return!!i&&"nullValue"in i}function r0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pg(i){return!!i&&"mapValue"in i}function h2(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Xl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return _c(i.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Xl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Xl(i.arrayValue.values[e]);return t}return Object.assign({},i)}function f2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Di{constructor(t){this.value=t}static empty(){return new Di({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!pg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(e)}setAll(t){let e=cn.emptyPath(),s={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,s,r),s={},r=[],e=h.popLast()}c?s[h.lastSegment()]=Xl(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,s,r)}delete(t){const e=this.field(t.popLast());pg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=e.mapValue.fields[t.get(s)];pg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,s){_c(e,((r,o)=>t[r]=o));for(const r of s)delete t[r]}clone(){return new Di(Xl(this.value))}}class ln{constructor(t,e,s,r,o,c,h){this.key=t,this.documentType=e,this.version=s,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,Et.min(),Et.min(),Et.min(),Di.empty(),0)}static newFoundDocument(t,e,s,r){return new ln(t,1,e,Et.min(),s,r,0)}static newNoDocument(t,e){return new ln(t,2,e,Et.min(),Et.min(),Di.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,Et.min(),Et.min(),Di.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wh{constructor(t,e){this.position=t,this.inclusive=e}}function o0(i,t,e){let s=0;for(let r=0;r<i.position.length;r++){const o=t[r],c=i.position[r];if(o.field.isKeyField()?s=_t.comparator(_t.fromName(c.referenceValue),e.key):s=po(c,e.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function l0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Ii(i.position[e],t.position[e]))return!1;return!0}class cc{constructor(t,e="asc"){this.field=t,this.dir=e}}function d2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class NT{}class De extends NT{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new m2(t,e,s):e==="array-contains"?new y2(t,s):e==="in"?new v2(t,s):e==="not-in"?new b2(t,s):e==="array-contains-any"?new T2(t,s):new De(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new p2(t,s):new _2(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(po(e,this.value)):e!==null&&cr(this.value)===cr(e)&&this.matchesComparison(po(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends NT{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new ci(t,e)}matches(t){return VT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VT(i){return i.op==="and"}function kT(i){return g2(i)&&VT(i)}function g2(i){for(const t of i.filters)if(t instanceof ci)return!1;return!0}function qg(i){if(i instanceof De)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(kT(i))return i.filters.map((t=>qg(t))).join(",");{const t=i.filters.map((e=>qg(e))).join(",");return`${i.op}(${t})`}}function zT(i,t){return i instanceof De?(function(s,r){return r instanceof De&&s.op===r.op&&s.field.isEqual(r.field)&&Ii(s.value,r.value)})(i,t):i instanceof ci?(function(s,r){return r instanceof ci&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((o,c,h)=>o&&zT(c,r.filters[h])),!0):!1})(i,t):void xt()}function LT(i){return i instanceof De?(function(e){return`${e.field.canonicalString()} ${e.op} ${_o(e.value)}`})(i):i instanceof ci?(function(e){return e.op.toString()+" {"+e.getFilters().map(LT).join(" ,")+"}"})(i):"Filter"}class m2 extends De{constructor(t,e,s){super(t,e,s),this.key=_t.fromName(s.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class p2 extends De{constructor(t,e){super(t,"in",e),this.keys=PT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class _2 extends De{constructor(t,e){super(t,"not-in",e),this.keys=PT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function PT(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map((s=>_t.fromName(s.referenceValue)))}class y2 extends De{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Em(e)&&lc(e.arrayValue,this.value)}}class v2 extends De{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&lc(this.value.arrayValue,e)}}class b2 extends De{constructor(t,e){super(t,"not-in",e)}matches(t){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!lc(this.value.arrayValue,e)}}class T2 extends De{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Em(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>lc(this.value.arrayValue,s)))}}class E2{constructor(t,e=null,s=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.ue=null}}function c0(i,t=null,e=[],s=[],r=null,o=null,c=null){return new E2(i,t,e,s,r,o,c)}function Sm(i){const t=jt(i);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>qg(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Ph(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>_o(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>_o(s))).join(",")),t.ue=e}return t.ue}function xm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!d2(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!zT(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!l0(i.startAt,t.startAt)&&l0(i.endAt,t.endAt)}function Gg(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ro{constructor(t,e=null,s=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S2(i,t,e,s,r,o,c,h){return new Ro(i,t,e,s,r,o,c,h)}function Am(i){return new Ro(i)}function u0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function BT(i){return i.collectionGroup!==null}function $l(i){const t=jt(i);if(t.ce===null){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Je(cn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new cc(o,s))})),e.has(cn.keyField().canonicalString())||t.ce.push(new cc(cn.keyField(),s))}return t.ce}function Mi(i){const t=jt(i);return t.le||(t.le=x2(t,$l(i))),t.le}function x2(i,t){if(i.limitType==="F")return c0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new cc(r.field,o)}));const e=i.endAt?new wh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new wh(i.startAt.position,i.startAt.inclusive):null;return c0(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Yg(i,t){const e=i.filters.concat([t]);return new Ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Rh(i,t,e){return new Ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Bh(i,t){return xm(Mi(i),Mi(t))&&i.limitType===t.limitType}function jT(i){return`${Sm(Mi(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((r=>LT(r))).join(", ")}]`),Ph(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>_o(r))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>_o(r))).join(",")),`Target(${s})`})(Mi(i))}; limitType=${i.limitType})`}function jh(i,t){return t.isFoundDocument()&&(function(s,r){const o=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):_t.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(i,t)&&(function(s,r){for(const o of $l(s))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(i,t)&&(function(s,r){for(const o of s.filters)if(!o.matches(r))return!1;return!0})(i,t)&&(function(s,r){return!(s.startAt&&!(function(c,h,f){const g=o0(c,h,f);return c.inclusive?g<=0:g<0})(s.startAt,$l(s),r)||s.endAt&&!(function(c,h,f){const g=o0(c,h,f);return c.inclusive?g>=0:g>0})(s.endAt,$l(s),r))})(i,t)}function A2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function UT(i){return(t,e)=>{let s=!1;for(const r of $l(i)){const o=w2(r,t,e);if(o!==0)return o;s=s||r.field.isKeyField()}return 0}}function w2(i,t,e){const s=i.field.isKeyField()?_t.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?po(f,g):xt()})(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xt()}}class Co{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[r,o]of s)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[e]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){_c(this.inner,((e,s)=>{for(const[r,o]of s)t(r,o)}))}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}const R2=new Ee(_t.comparator);function ga(){return R2}const HT=new Ee(_t.comparator);function Fl(...i){let t=HT;for(const e of i)t=t.insert(e.key,e);return t}function C2(i){let t=HT;return i.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function er(){return Wl()}function FT(){return Wl()}function Wl(){return new Co((i=>i.toString()),((i,t)=>i.isEqual(t)))}const D2=new Je(_t.comparator);function Ht(...i){let t=D2;for(const e of i)t=t.add(e);return t}const M2=new Je(Kt);function O2(){return M2}function wm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(t)?"-0":t}}function qT(i){return{integerValue:""+i}}function I2(i,t){return l2(t)?qT(t):wm(i,t)}class Uh{constructor(){this._=void 0}}function N2(i,t,e){return i instanceof Qg?(function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&bm(o)&&(o=Tm(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}})(e,t):i instanceof Ch?GT(i,t):i instanceof Dh?YT(i,t):(function(r,o){const c=k2(r,o),h=h0(c)+h0(r.Pe);return Fg(c)&&Fg(r.Pe)?qT(h):wm(r.serializer,h)})(i,t)}function V2(i,t,e){return i instanceof Ch?GT(i,t):i instanceof Dh?YT(i,t):e}function k2(i,t){return i instanceof Kg?(function(s){return Fg(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(t)?t:{integerValue:0}:null}class Qg extends Uh{}class Ch extends Uh{constructor(t){super(),this.elements=t}}function GT(i,t){const e=QT(t);for(const s of i.elements)e.some((r=>Ii(r,s)))||e.push(s);return{arrayValue:{values:e}}}class Dh extends Uh{constructor(t){super(),this.elements=t}}function YT(i,t){let e=QT(t);for(const s of i.elements)e=e.filter((r=>!Ii(r,s)));return{arrayValue:{values:e}}}class Kg extends Uh{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function h0(i){return be(i.integerValue||i.doubleValue)}function QT(i){return Em(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function z2(i,t){return i.field.isEqual(t.field)&&(function(s,r){return s instanceof Ch&&r instanceof Ch||s instanceof Dh&&r instanceof Dh?mo(s.elements,r.elements,Ii):s instanceof Kg&&r instanceof Kg?Ii(s.Pe,r.Pe):s instanceof Qg&&r instanceof Qg})(i.transform,t.transform)}class ar{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ph(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Rm{}function KT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new P2(i.key,ar.none()):new Cm(i.key,i.data,ar.none());{const e=i.data,s=Di.empty();let r=new Je(cn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?s.delete(o):s.set(o,c),r=r.add(o)}return new Hh(i.key,s,new na(r.toArray()),ar.none())}}function L2(i,t,e){i instanceof Cm?(function(r,o,c){const h=r.value.clone(),f=d0(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(i,t,e):i instanceof Hh?(function(r,o,c){if(!ph(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=d0(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(XT(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(i,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Zl(i,t,e,s){return i instanceof Cm?(function(o,c,h,f){if(!ph(o.precondition,c))return h;const g=o.value.clone(),_=g0(o.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,s):i instanceof Hh?(function(o,c,h,f){if(!ph(o.precondition,c))return h;const g=g0(o.fieldTransforms,f,c),_=c.data;return _.setAll(XT(o)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(i,t,e,s):(function(o,c,h){return ph(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(i,t,e)}function f0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&mo(s,r,((o,c)=>z2(o,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Cm extends Rm{constructor(t,e,s,r=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hh extends Rm{constructor(t,e,s,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XT(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}})),t}function d0(i,t,e){const s=new Map;pe(i.length===e.length);for(let r=0;r<e.length;r++){const o=i[r],c=o.transform,h=t.data.field(o.field);s.set(o.field,V2(c,h,e[r]))}return s}function g0(i,t,e){const s=new Map;for(const r of i){const o=r.transform,c=e.data.field(r.field);s.set(r.field,N2(o,c,t))}return s}class P2 extends Rm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B2{constructor(t,e,s,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&L2(o,t,s[r])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Zl(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Zl(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=FT();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=KT(c,h);f!==null&&s.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((e,s)=>f0(e,s)))&&mo(this.baseMutations,t.baseMutations,((e,s)=>f0(e,s)))}}class j2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class U2{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ce,Bt;function $T(i){if(i===void 0)return ds("GRPC error has no .code"),ot.UNKNOWN;switch(i){case Ce.OK:return ot.OK;case Ce.CANCELLED:return ot.CANCELLED;case Ce.UNKNOWN:return ot.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return ot.INTERNAL;case Ce.UNAVAILABLE:return ot.UNAVAILABLE;case Ce.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Ce.NOT_FOUND:return ot.NOT_FOUND;case Ce.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Ce.ABORTED:return ot.ABORTED;case Ce.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Ce.DATA_LOSS:return ot.DATA_LOSS;default:return xt()}}(Bt=Ce||(Ce={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function H2(){return new TextEncoder}const F2=new sr([4294967295,4294967295],0);function m0(i){const t=H2().encode(i),e=new ST;return e.update(t),new Uint8Array(e.digest())}function p0(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new sr([e,s],0),new sr([r,o],0)]}class Dm{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new ql(`Invalid padding: ${e}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new ql(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=sr.fromNumber(this.Ie)}Ee(t,e,s){let r=t.add(e.multiply(sr.fromNumber(s)));return r.compare(F2)===1&&(r=new sr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=m0(t),[s,r]=p0(e);for(let o=0;o<this.hashCount;o++){const c=this.Ee(s,r,o);if(!this.de(c))return!1}return!0}static create(t,e,s){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Dm(o,r,e);return s.forEach((h=>c.insert(h))),c}insert(t){if(this.Ie===0)return;const e=m0(t),[s,r]=p0(e);for(let o=0;o<this.hashCount;o++){const c=this.Ee(s,r,o);this.Ae(c)}}Ae(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(t,e,s,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const r=new Map;return r.set(t,yc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Fh(Et.min(),r,new Ee(Kt),ga(),Ht())}}class yc{constructor(t,e,s,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new yc(s,e,Ht(),Ht(),Ht())}}class _h{constructor(t,e,s,r){this.Re=t,this.removedTargetIds=e,this.key=s,this.Ve=r}}class WT{constructor(t,e){this.targetId=t,this.me=e}}class ZT{constructor(t,e,s=tn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=r}}class _0{constructor(){this.fe=0,this.ge=v0(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ht(),e=Ht(),s=Ht();return this.ge.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:s=s.add(r);break;default:xt()}})),new yc(this.pe,this.ye,t,e,s)}Ce(){this.we=!1,this.ge=v0()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class q2{constructor(t){this.Le=t,this.Be=new Map,this.ke=ga(),this.qe=y0(),this.Qe=new Ee(Kt)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,(e=>{const s=this.Ge(e);switch(t.state){case 0:this.ze(e)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),s.De(t.resumeToken));break;default:xt()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((s,r)=>{this.ze(r)&&e(r)}))}He(t){const e=t.targetId,s=t.me.count,r=this.Je(e);if(r){const o=r.target;if(Gg(o))if(s===0){const c=new _t(o.path);this.Ue(e,c,ln.newNoDocument(c,Et.min()))}else pe(s===1);else{const c=this.Ye(e);if(c!==s){const h=this.Ze(t),f=h?this.Xe(h,t,c):1;if(f!==0){this.je(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,g)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=lr(s).toUint8Array()}catch(f){if(f instanceof IT)return go("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Dm(c,r,o)}catch(f){return go(f instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(t,e,s){return e.me.count===s-this.nt(t,e.targetId)?0:2}nt(t,e){const s=this.Le.getRemoteKeysForTarget(e);let r=0;return s.forEach((o=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Ue(e,o,null),r++)})),r}rt(t){const e=new Map;this.Be.forEach(((o,c)=>{const h=this.Je(c);if(h){if(o.current&&Gg(h.target)){const f=new _t(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,ln.newNoDocument(f,t))}o.be&&(e.set(c,o.ve()),o.Ce())}}));let s=Ht();this.qe.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.Je(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(o))})),this.ke.forEach(((o,c)=>c.setReadTime(t)));const r=new Fh(t,e,this.Qe,this.ke,s);return this.ke=ga(),this.qe=y0(),this.Qe=new Ee(Kt),r}$e(t,e){if(!this.ze(t))return;const s=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,s),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,s){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),s&&(this.ke=this.ke.insert(e,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new _0,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Je(Kt),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new _0),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.Ue(t,e,null)}))}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function y0(){return new Ee(_t.comparator)}function v0(){return new Ee(_t.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},Y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class K2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Xg(i,t){return i.useProto3Json||Ph(t)?t:{value:t}}function $g(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function lo(i){return pe(!!i),Et.fromTimestamp((function(e){const s=da(e);return new Ue(s.seconds,s.nanos)})(i))}function t1(i,t){return Wg(i,t).canonicalString()}function Wg(i,t){const e=(function(r){return new ce(["projects",r.projectId,"databases",r.database])})(i).child("documents");return t===void 0?e:e.child(t)}function e1(i){const t=ce.fromString(i);return pe(r1(t)),t}function _g(i,t){const e=e1(t);if(e.get(1)!==i.databaseId.projectId)throw new ht(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ht(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new _t(i1(e))}function n1(i,t){return t1(i.databaseId,t)}function X2(i){const t=e1(i);return t.length===4?ce.emptyPath():i1(t)}function b0(i){return new ce(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function i1(i){return pe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $2(i,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt()})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(g,_){return g.useProto3Json?(pe(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(pe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(g){const _=g.code===void 0?ot.UNKNOWN:$T(g.code);return new ht(_,g.message||"")})(c);e=new ZT(s,r,o,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=_g(i,s.document.name),o=lo(s.document.updateTime),c=s.document.createTime?lo(s.document.createTime):Et.min(),h=new Di({mapValue:{fields:s.document.fields}}),f=ln.newFoundDocument(r,o,c,h),g=s.targetIds||[],_=s.removedTargetIds||[];e=new _h(g,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=_g(i,s.document),o=s.readTime?lo(s.readTime):Et.min(),c=ln.newNoDocument(r,o),h=s.removedTargetIds||[];e=new _h([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=_g(i,s.document),o=s.removedTargetIds||[];e=new _h([],o,r,null)}else{if(!("filter"in t))return xt();{t.filter;const s=t.filter;s.targetId;const{count:r=0,unchangedNames:o}=s,c=new U2(r,o),h=s.targetId;e=new WT(h,c)}}return e}function W2(i,t){return{documents:[n1(i,t.path)]}}function Z2(i,t){const e={structuredQuery:{}},s=t.path;let r;t.collectionGroup!==null?(r=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=n1(i,r);const o=(function(g){if(g.length!==0)return a1(ci.create(g,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((_=>(function(E){return{field:so(E.field),direction:ew(E.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Xg(i,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{_t:e,parent:r}}function J2(i){let t=X2(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let r=null;if(s>0){pe(s===1);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(v){const E=s1(v);return E instanceof ci&&kT(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((E=>(function(w){return new cc(ao(w.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Ph(E)?null:E})(e.limit));let f=null;e.startAt&&(f=(function(v){const E=!!v.before,S=v.values||[];return new wh(S,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const E=!v.before,S=v.values||[];return new wh(S,E)})(e.endAt)),S2(t,r,c,o,h,"F",f,g)}function tw(i,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function s1(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=ao(e.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=ao(e.unaryFilter.field);return De.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ao(e.unaryFilter.field);return De.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ao(e.unaryFilter.field);return De.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xt()}})(i):i.fieldFilter!==void 0?(function(e){return De.create(ao(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return ci.create(e.compositeFilter.filters.map((s=>s1(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xt()}})(e.compositeFilter.op))})(i):xt()}function ew(i){return G2[i]}function nw(i){return Y2[i]}function iw(i){return Q2[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return cn.fromServerFormat(i.fieldPath)}function a1(i){return i instanceof De?(function(e){if(e.op==="=="){if(r0(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NAN"}};if(a0(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(r0(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NOT_NAN"}};if(a0(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(e.field),op:nw(e.op),value:e.value}}})(i):i instanceof ci?(function(e){const s=e.getFilters().map((r=>a1(r)));return s.length===1?s[0]:{compositeFilter:{op:iw(e.op),filters:s}}})(i):xt()}function r1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ia{constructor(t,e,s,r,o=Et.min(),c=Et.min(),h=tn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sw{constructor(t){this.ct=t}}function aw(i){const t=J2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Rh(t,t.limit,"L"):t}class rw{constructor(){this.un=new ow}addToCollectionParentIndex(t,e){return this.un.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(fa.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(fa.min())}updateCollectionGroup(t,e,s){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class ow{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e]||new Je(ce.comparator),o=!r.has(s);return this.index[e]=r.add(s),o}has(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e];return r&&r.has(s)}getEntries(t){return(this.index[t]||new Je(ce.comparator)).toArray()}}class yo{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new yo(0)}static kn(){return new yo(-1)}}class lw{constructor(){this.changes=new Co((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?st.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class cw{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class uw{constructor(t,e,s,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(s=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(s!==null&&Zl(s.mutation,r,na.empty(),Ue.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Ht()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Ht()){const r=er();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,s).next((o=>{let c=Fl();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=er();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Ht())))}populateOverlays(t,e,s){const r=[];return s.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,s,r){let o=ga();const c=Wl(),h=(function(){return Wl()})();return e.forEach(((f,g)=>{const _=s.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof Hh)?o=o.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Zl(_.mutation,g,_.mutation.getFieldMask(),Ue.now())):c.set(g.key,na.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>{var v;return h.set(g,new cw(_,(v=c.get(g))!==null&&v!==void 0?v:null))})),h)))}recalculateAndSaveOverlays(t,e){const s=Wl();let r=new Ee(((c,h)=>c-h)),o=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=e.get(f);if(g===null)return;let _=s.get(f)||na.empty();_=h.applyToLocalView(g,_),s.set(f,_);const v=(r.get(h.batchId)||Ht()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,v=FT();_.forEach((E=>{if(!o.has(E)){const S=KT(e.get(E),s.get(E));S!==null&&v.set(E,S),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,r){return(function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):BT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,r):this.getDocumentsMatchingCollectionQuery(t,e,s,r)}getNextDocuments(t,e,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,r-o.size):st.resolve(er());let h=-1,f=o;return c.next((g=>st.forEach(g,((_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?st.resolve():this.remoteDocumentCache.getEntry(t,_).next((E=>{f=f.insert(_,E)}))))).next((()=>this.populateOverlays(t,g,o))).next((()=>this.computeViews(t,f,g,Ht()))).next((_=>({batchId:h,changes:C2(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next((s=>{let r=Fl();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,r){const o=e.collectionGroup;let c=Fl();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const g=(function(v,E){return new Ro(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,s,r).next((_=>{_.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,o,r)))).next((c=>{o.forEach(((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,ln.newInvalidDocument(_)))}));let h=Fl();return c.forEach(((f,g)=>{const _=o.get(f);_!==void 0&&Zl(_.mutation,g,na.empty(),Ue.now()),jh(e,g)&&(h=h.insert(f,g))})),h}))}}class hw{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return st.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:lo(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,(function(r){return{name:r.name,query:aw(r.bundledQuery),readTime:lo(r.readTime)}})(e)),st.resolve()}}class fw{constructor(){this.overlays=new Ee(_t.comparator),this.Ir=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const s=er();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&s.set(r,o)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((r,o)=>{this.ht(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,s){const r=this.Ir.get(s);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(s)),st.resolve()}getOverlaysForCollection(t,e,s){const r=er(),o=e.length+1,c=new _t(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>s&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,s,r){let o=new Ee(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let _=o.get(g.largestBatchId);_===null&&(_=er(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=er(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,_)=>h.set(g,_))),!(h.size()>=r)););return st.resolve(h)}ht(t,e,s){const r=this.overlays.get(s.key);if(r!==null){const c=this.Ir.get(r.largestBatchId).delete(s.key);this.Ir.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new j2(e,s));let o=this.Ir.get(e);o===void 0&&(o=Ht(),this.Ir.set(e,o)),this.Ir.set(e,o.add(s.key))}}class dw{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class Mm{constructor(){this.Tr=new Je(je.Er),this.dr=new Je(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const s=new je(t,e);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Vr(new je(t,e))}mr(t,e){t.forEach((s=>this.removeReference(s,e)))}gr(t){const e=new _t(new ce([])),s=new je(e,t),r=new je(e,t+1),o=[];return this.dr.forEachInRange([s,r],(c=>{this.Vr(c),o.push(c.key)})),o}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new _t(new ce([])),s=new je(e,t),r=new je(e,t+1);let o=Ht();return this.dr.forEachInRange([s,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new je(t,0),s=this.Tr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return _t.comparator(t.key,e.key)||Kt(t.wr,e.wr)}static Ar(t,e){return Kt(t.wr,e.wr)||_t.comparator(t.key,e.key)}}class gw{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Je(je.Er)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,r){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new B2(o,e,s,r);this.mutationQueue.push(c);for(const h of r)this.br=this.br.add(new je(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,r=this.vr(s),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new je(e,0),r=new je(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([s,r],(c=>{const h=this.Dr(c.wr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Je(Kt);return e.forEach((r=>{const o=new je(r,0),c=new je(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],(h=>{s=s.add(h.wr)}))})),st.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,r=s.length+1;let o=s;_t.isDocumentKey(o)||(o=o.child(""));const c=new je(new _t(o),0);let h=new Je(Kt);return this.br.forEachWhile((f=>{const g=f.key.path;return!!s.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.wr)),!0)}),c),st.resolve(this.Cr(h))}Cr(t){const e=[];return t.forEach((s=>{const r=this.Dr(s);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){pe(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return st.forEach(e.mutations,(r=>{const o=new je(r.key,e.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.br=s}))}On(t){}containsKey(t,e){const s=new je(e,0),r=this.br.firstAfterOrEqual(s);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class mw{constructor(t){this.Mr=t,this.docs=(function(){return new Ee(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,r=this.docs.get(s),o=r?r.size:0,c=this.Mr(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return st.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let s=ga();return e.forEach((r=>{const o=this.docs.get(r);s=s.insert(r,o?o.document.mutableCopy():ln.newInvalidDocument(r))})),st.resolve(s)}getDocumentsMatchingQuery(t,e,s,r){let o=ga();const c=e.path,h=new _t(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||s2(i2(_),s)<=0||(r.has(_.key)||jh(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,s,r){xt()}Or(t,e){return st.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new pw(this)}getSize(t){return st.resolve(this.size)}}class pw extends lw{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(s)})),st.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class _w{constructor(t){this.persistence=t,this.Nr=new Co((e=>Sm(e)),xm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mm,this.targetCount=0,this.kr=yo.Bn()}forEachTarget(t,e){return this.Nr.forEach(((s,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.Lr&&(this.Lr=e),st.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new yo(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Kn(e),st.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,s){let r=0;const o=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=e&&s.get(h.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const s=this.Nr.get(e)||null;return st.resolve(s)}addMatchingKeys(t,e,s){return this.Br.Rr(e,s),st.resolve()}removeMatchingKeys(t,e,s){this.Br.mr(e,s);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const s=this.Br.yr(e);return st.resolve(s)}containsKey(t,e){return st.resolve(this.Br.containsKey(e))}}class yw{constructor(t,e){this.qr={},this.overlays={},this.Qr=new vm(0),this.Kr=!1,this.Kr=!0,this.$r=new dw,this.referenceDelegate=t(this),this.Ur=new _w(this),this.indexManager=new rw,this.remoteDocumentCache=(function(r){return new mw(r)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new sw(e),this.Gr=new hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new fw,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.qr[t.toKey()];return s||(s=new gw(e,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,s){dt("MemoryPersistence","Starting transaction:",t);const r=new vw(this.Qr.next());return this.referenceDelegate.zr(),s(r).next((o=>this.referenceDelegate.jr(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Hr(t,e){return st.or(Object.values(this.qr).map((s=>()=>s.containsKey(t,e))))}}class vw extends r2{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.Jr=new Mm,this.Yr=null}static Zr(t){return new Om(t)}get Xr(){if(this.Yr)return this.Yr;throw xt()}addReference(t,e,s){return this.Jr.addReference(s,e),this.Xr.delete(s.toString()),st.resolve()}removeReference(t,e,s){return this.Jr.removeReference(s,e),this.Xr.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),st.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach((r=>this.Xr.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.Xr.add(o.toString())))})).next((()=>s.removeTargetData(t,e)))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.Xr,(s=>{const r=_t.fromPath(s);return this.ei(t,r).next((o=>{o||e.removeEntry(r,Et.min())}))})).next((()=>(this.Yr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ei(t,e).next((s=>{s?this.Xr.delete(e.toString()):this.Xr.add(e.toString())}))}Wr(t){return 0}ei(t,e){return st.or([()=>st.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class Im{constructor(t,e,s,r){this.targetId=t,this.fromCache=e,this.$i=s,this.Ui=r}static Wi(t,e){let s=Ht(),r=Ht();for(const o of e.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Im(t,e.fromCache,s,r)}}class bw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Tw{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Ox()?8:o2(Dx())>0?6:4})()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,s,r){const o={result:null};return this.Yi(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.Zi(t,e,r,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new bw;return this.Xi(t,e,c).next((h=>{if(o.result=h,this.zi)return this.es(t,e,c,h.size)}))})).next((()=>o.result))}es(t,e,s,r){return s.documentReadCount<this.ji?(zl()<=Ut.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",io(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),st.resolve()):(zl()<=Ut.DEBUG&&dt("QueryEngine","Query:",io(e),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.Hi*r?(zl()<=Ut.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",io(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(e))):st.resolve())}Yi(t,e){if(u0(e))return st.resolve(null);let s=Mi(e);return this.indexManager.getIndexType(t,s).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Rh(e,null,"F"),s=Mi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((o=>{const c=Ht(...o);return this.Ji.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,s).next((f=>{const g=this.ts(e,h);return this.ns(e,g,c,f.readTime)?this.Yi(t,Rh(e,null,"F")):this.rs(t,g,e,f)}))))})))))}Zi(t,e,s,r){return u0(e)||r.isEqual(Et.min())?st.resolve(null):this.Ji.getDocuments(t,s).next((o=>{const c=this.ts(e,o);return this.ns(e,c,s,r)?st.resolve(null):(zl()<=Ut.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),io(e)),this.rs(t,c,e,n2(r,-1)).next((h=>h)))}))}ts(t,e){let s=new Je(UT(t));return e.forEach(((r,o)=>{jh(t,o)&&(s=s.add(o))})),s}ns(t,e,s,r){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,s){return zl()<=Ut.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",io(e)),this.Ji.getDocumentsMatchingQuery(t,e,fa.min(),s)}rs(t,e,s,r){return this.Ji.getDocumentsMatchingQuery(t,s,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}class Ew{constructor(t,e,s,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new Ee(Kt),this._s=new Co((o=>Sm(o)),xm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.os)))}}function Sw(i,t,e,s){return new Ew(i,t,e,s)}async function o1(i,t){const e=jt(i);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return e.mutationQueue.getAllMutationBatches(s).next((o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],h=[];let f=Ht();for(const g of r){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(s,f).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function l1(i){const t=jt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function xw(i,t){const e=jt(i),s=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const h=[];t.targetChanges.forEach(((_,v)=>{const E=r.get(v);if(!E)return;h.push(e.Ur.removeMatchingKeys(o,_.removedDocuments,v).next((()=>e.Ur.addMatchingKeys(o,_.addedDocuments,v))));let S=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,s)),r=r.insert(v,S),(function(x,M,U){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,S,_)&&h.push(e.Ur.updateTargetData(o,S))}));let f=ga(),g=Ht();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(Aw(o,c,t.documentUpdates).next((_=>{f=_.Ps,g=_.Is}))),!s.isEqual(Et.min())){const _=e.Ur.getLastRemoteSnapshotVersion(o).next((v=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,s)));h.push(_)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(e.os=r,o)))}function Aw(i,t,e){let s=Ht(),r=Ht();return e.forEach((o=>s=s.add(o))),t.getEntries(i,s).next((o=>{let c=ga();return e.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Et.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):dt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{Ps:c,Is:r}}))}function ww(i,t){const e=jt(i);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return e.Ur.getTargetData(s,t).next((o=>o?(r=o,st.resolve(r)):e.Ur.allocateTargetId(s).next((c=>(r=new ia(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Ur.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=e.os.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(s.targetId,s),e._s.set(t,s.targetId)),s}))}async function Zg(i,t,e){const s=jt(i),r=s.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!pc(c))throw c;dt("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}s.os=s.os.remove(t),s._s.delete(r.target)}function T0(i,t,e){const s=jt(i);let r=Et.min(),o=Ht();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,_){const v=jt(f),E=v._s.get(_);return E!==void 0?st.resolve(v.os.get(E)):v.Ur.getTargetData(g,_)})(s,c,Mi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>s.ss.getDocumentsMatchingQuery(c,t,e?r:Et.min(),e?o:Ht()))).next((h=>(Rw(s,A2(t),h),{documents:h,Ts:o})))))}function Rw(i,t,e){let s=i.us.get(t)||Et.min();e.forEach(((r,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),i.us.set(t,s)}class E0{constructor(){this.activeTargetIds=O2()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Cw{constructor(){this.so=new E0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,s){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new E0,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Dw{_o(t){}shutdown(){}}class S0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ju=null;function yg(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}const Mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ow{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const an="WebChannelConnection";class Iw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,s,r,o,c){const h=yg(),f=this.xo(e,s.toUriEncodedString());dt("RestConnection",`Sending RPC '${e}' ${h}:`,f,r);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,o,c),this.No(e,f,g,r).then((_=>(dt("RestConnection",`Received RPC '${e}' ${h}: `,_),_)),(_=>{throw go("RestConnection",`RPC '${e}' ${h} failed with error: `,_,"url: ",f,"request:",r),_}))}Lo(e,s,r,o,c,h){return this.Mo(e,s,r,o,c)}Oo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}xo(e,s){const r=Mw[e];return`${this.Do}/v1/${s}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,s,r){const o=yg();return new Promise(((c,h)=>{const f=new xT;f.setWithCredentials(!0),f.listenOnce(AT.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case mh.NO_ERROR:const _=f.getResponseJson();dt(an,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(_)),c(_);break;case mh.TIMEOUT:dt(an,`RPC '${t}' ${o} timed out`),h(new ht(ot.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const v=f.getStatus();if(dt(an,`RPC '${t}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E?.error;if(S&&S.status&&S.message){const w=(function(M){const U=M.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(U)>=0?U:ot.UNKNOWN})(S.status);h(new ht(w,S.message))}else h(new ht(ot.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ht(ot.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{dt(an,`RPC '${t}' ${o} completed.`)}}));const g=JSON.stringify(r);dt(an,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",g,s,15)}))}Bo(t,e,s){const r=yg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=CT(),h=RT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,e,s),f.encodeInitMessageHeaders=!0;const _=o.join("");dt(an,`Creating RPC '${t}' stream ${r}: ${_}`,f);const v=c.createWebChannel(_,f);let E=!1,S=!1;const w=new Ow({Io:M=>{S?dt(an,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(E||(dt(an,`Opening RPC '${t}' stream ${r} transport.`),v.open(),E=!0),dt(an,`RPC '${t}' stream ${r} sending:`,M),v.send(M))},To:()=>v.close()}),x=(M,U,L)=>{M.listen(U,(Z=>{try{L(Z)}catch(F){setTimeout((()=>{throw F}),0)}}))};return x(v,Hl.EventType.OPEN,(()=>{S||(dt(an,`RPC '${t}' stream ${r} transport opened.`),w.yo())})),x(v,Hl.EventType.CLOSE,(()=>{S||(S=!0,dt(an,`RPC '${t}' stream ${r} transport closed`),w.So())})),x(v,Hl.EventType.ERROR,(M=>{S||(S=!0,go(an,`RPC '${t}' stream ${r} transport errored:`,M),w.So(new ht(ot.UNAVAILABLE,"The operation could not be completed")))})),x(v,Hl.EventType.MESSAGE,(M=>{var U;if(!S){const L=M.data[0];pe(!!L);const Z=L,F=Z.error||((U=Z[0])===null||U===void 0?void 0:U.error);if(F){dt(an,`RPC '${t}' stream ${r} received error:`,F);const $=F.status;let it=(function(O){const V=Ce[O];if(V!==void 0)return $T(V)})($),D=F.message;it===void 0&&(it=ot.INTERNAL,D="Unknown error status: "+$+" with message "+F.message),S=!0,w.So(new ht(it,D)),v.close()}else dt(an,`RPC '${t}' stream ${r} received:`,L),w.bo(L)}})),x(h,wT.STAT_EVENT,(M=>{M.stat===Ug.PROXY?dt(an,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===Ug.NOPROXY&&dt(an,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.wo()}),0),w}}function vg(){return typeof document<"u"?document:null}function qh(i){return new K2(i,!0)}class c1{constructor(t,e,s=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=s,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-s);r>0&&dt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Nw{constructor(t,e,s,r,o,c,h,f){this.ui=t,this.Ho=s,this.Jo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new c1(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(ds(e.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.Yo===e&&this.P_(s,r)}),(s=>{t((()=>{const r=new ht(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(r)}))}))}P_(t,e){const s=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((r=>{s((()=>this.I_(r)))})),this.stream.onMessage((r=>{s((()=>++this.e_==1?this.E_(r):this.onNext(r)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return dt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget((()=>this.Yo===t?e():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vw extends Nw{constructor(t,e,s,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,r,c),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=$2(this.serializer,t),s=(function(o){if(!("targetChange"in o))return Et.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?lo(c.readTime):Et.min()})(t);return this.listener.d_(e,s)}A_(t){const e={};e.database=b0(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Gg(f)?{documents:W2(o,f)}:{query:Z2(o,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=JT(o,c.resumeToken);const g=Xg(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Et.min())>0){h.readTime=$g(o,c.snapshotVersion.toTimestamp());const g=Xg(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,t);const s=tw(this.serializer,t);s&&(e.labels=s),this.a_(e)}R_(t){const e={};e.database=b0(this.serializer),e.removeTarget=t,this.a_(e)}}class kw extends class{}{constructor(t,e,s,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ht(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,s,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Mo(t,Wg(e,s),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(ot.UNKNOWN,o.toString())}))}Lo(t,e,s,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(t,Wg(e,s),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(ot.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class zw{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ds(e),this.D_=!1):dt("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class Lw{constructor(t,e,s,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((c=>{s.enqueueAndForget((async()=>{bc(this)&&(dt("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const g=jt(f);g.L_.add(4),await vc(g),g.q_.set("Unknown"),g.L_.delete(4),await Gh(g)})(this))}))})),this.q_=new zw(s,r)}}async function Gh(i){if(bc(i))for(const t of i.B_)await t(!0)}async function vc(i){for(const t of i.B_)await t(!1)}function u1(i,t){const e=jt(i);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),zm(e)?km(e):Do(e).r_()&&Vm(e,t))}function Nm(i,t){const e=jt(i),s=Do(e);e.N_.delete(t),s.r_()&&h1(e,t),e.N_.size===0&&(s.r_()?s.o_():bc(e)&&e.q_.set("Unknown"))}function Vm(i,t){if(i.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Do(i).A_(t)}function h1(i,t){i.Q_.xe(t),Do(i).R_(t)}function km(i){i.Q_=new q2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>i.N_.get(t)||null,tt:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.q_.v_()}function zm(i){return bc(i)&&!Do(i).n_()&&i.N_.size>0}function bc(i){return jt(i).L_.size===0}function f1(i){i.Q_=void 0}async function Pw(i){i.q_.set("Online")}async function Bw(i){i.N_.forEach(((t,e)=>{Vm(i,t)}))}async function jw(i,t){f1(i),zm(i)?(i.q_.M_(t),km(i)):i.q_.set("Unknown")}async function Uw(i,t,e){if(i.q_.set("Online"),t instanceof ZT&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.N_.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.N_.delete(h),r.Q_.removeTarget(h))})(i,t)}catch(s){dt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await x0(i,s)}else if(t instanceof _h?i.Q_.Ke(t):t instanceof WT?i.Q_.He(t):i.Q_.We(t),!e.isEqual(Et.min()))try{const s=await l1(i.localStore);e.compareTo(s)>=0&&await(function(o,c){const h=o.Q_.rt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.N_.get(g);_&&o.N_.set(g,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const _=o.N_.get(f);if(!_)return;o.N_.set(f,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),h1(o,f);const v=new ia(_.target,f,g,_.sequenceNumber);Vm(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(i,e)}catch(s){dt("RemoteStore","Failed to raise snapshot:",s),await x0(i,s)}}async function x0(i,t,e){if(!pc(t))throw t;i.L_.add(1),await vc(i),i.q_.set("Offline"),e||(e=()=>l1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{dt("RemoteStore","Retrying IndexedDB access"),await e(),i.L_.delete(1),await Gh(i)}))}async function A0(i,t){const e=jt(i);e.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const s=bc(e);e.L_.add(3),await vc(e),s&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await Gh(e)}async function Hw(i,t){const e=jt(i);t?(e.L_.delete(2),await Gh(e)):t||(e.L_.add(2),await vc(e),e.q_.set("Unknown"))}function Do(i){return i.K_||(i.K_=(function(e,s,r){const o=jt(e);return o.w_(),new Vw(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(i.datastore,i.asyncQueue,{Eo:Pw.bind(null,i),Ro:Bw.bind(null,i),mo:jw.bind(null,i),d_:Uw.bind(null,i)}),i.B_.push((async t=>{t?(i.K_.s_(),zm(i)?km(i):i.q_.set("Unknown")):(await i.K_.stop(),f1(i))}))),i.K_}class Lm{constructor(t,e,s,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=r,this.removalCallback=o,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,r,o){const c=Date.now()+s,h=new Lm(t,e,c,r,o);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d1(i,t){if(ds("AsyncQueue",`${t}: ${i}`),pc(i))return new ht(ot.UNAVAILABLE,`${t}: ${i}`);throw i}class co{constructor(t){this.comparator=t?(e,s)=>t(e,s)||_t.comparator(e.key,s.key):(e,s)=>_t.comparator(e.key,s.key),this.keyedMap=Fl(),this.sortedSet=new Ee(this.comparator)}static emptySet(t){return new co(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=s.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new co;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class w0{constructor(){this.W_=new Ee(_t.comparator)}track(t){const e=t.doc.key,s=this.W_.get(e);s?t.type!==0&&s.type===3?this.W_=this.W_.insert(e,t):t.type===3&&s.type!==1?this.W_=this.W_.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.W_=this.W_.remove(e):t.type===1&&s.type===2?this.W_=this.W_.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):xt():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal(((e,s)=>{t.push(s)})),t}}class vo{constructor(t,e,s,r,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new vo(t,e,co.emptySet(e),c,s,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==s[r].type||!e[r].doc.isEqual(s[r].doc))return!1;return!0}}class Fw{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class qw{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,s){const r=jt(e),o=r.queries;r.queries=R0(),o.forEach(((c,h)=>{for(const f of h.j_)f.onError(s)}))})(this,new ht(ot.ABORTED,"Firestore shutting down"))}}function R0(){return new Co((i=>jT(i)),Bh)}async function Gw(i,t){const e=jt(i);let s=3;const r=t.query;let o=e.queries.get(r);o?!o.H_()&&t.J_()&&(s=2):(o=new Fw,s=t.J_()?0:1);try{switch(s){case 0:o.z_=await e.onListen(r,!0);break;case 1:o.z_=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=d1(c,`Initialization of query '${io(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&Pm(e)}async function Yw(i,t){const e=jt(i),s=t.query;let r=3;const o=e.queries.get(s);if(o){const c=o.j_.indexOf(t);c>=0&&(o.j_.splice(c,1),o.j_.length===0?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function Qw(i,t){const e=jt(i);let s=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.j_)h.X_(r)&&(s=!0);c.z_=r}}s&&Pm(e)}function Kw(i,t,e){const s=jt(i),r=s.queries.get(t);if(r)for(const o of r.j_)o.onError(e);s.queries.delete(t)}function Pm(i){i.Y_.forEach((t=>{t.next()}))}var Jg,C0;(C0=Jg||(Jg={})).ea="default",C0.Cache="cache";class Xw{constructor(t,e,s){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const r of t.docChanges)r.type!==3&&s.push(r);t=new vo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const s=e!=="Offline";return(!this.options._a||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Jg.Cache}}class g1{constructor(t){this.key=t}}class m1{constructor(t){this.key=t}}class $w{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ht(),this.mutatedKeys=Ht(),this.Aa=UT(t),this.Ra=new co(this.Aa)}get Va(){return this.Ta}ma(t,e){const s=e?e.fa:new w0,r=e?e.Ra:this.Ra;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((_,v)=>{const E=r.get(_),S=jh(this.query,v)?v:null,w=!!E&&this.mutatedKeys.has(E.key),x=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;E&&S?E.data.isEqual(S.data)?w!==x&&(s.track({type:3,doc:S}),M=!0):this.ga(E,S)||(s.track({type:2,doc:S}),M=!0,(f&&this.Aa(S,f)>0||g&&this.Aa(S,g)<0)&&(h=!0)):!E&&S?(s.track({type:0,doc:S}),M=!0):E&&!S&&(s.track({type:1,doc:E}),M=!0,(f||g)&&(h=!0)),M&&(S?(c=c.add(S),o=x?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),s.track({type:1,doc:_})}return{Ra:c,fa:s,ns:h,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,r){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const c=t.fa.G_();c.sort(((_,v)=>(function(S,w){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return x(S)-x(w)})(_.type,v.type)||this.Aa(_.doc,v.doc))),this.pa(s),r=r!=null&&r;const h=e&&!r?this.ya():[],f=this.da.size===0&&this.current&&!r?1:0,g=f!==this.Ea;return this.Ea=f,c.length!==0||g?{snapshot:new vo(this.query,t.Ra,o,c,t.mutatedKeys,f===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new w0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ht(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const e=[];return t.forEach((s=>{this.da.has(s)||e.push(new m1(s))})),this.da.forEach((s=>{t.has(s)||e.push(new g1(s))})),e}ba(t){this.Ta=t.Ts,this.da=Ht();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ww{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class Zw{constructor(t){this.key=t,this.va=!1}}class Jw{constructor(t,e,s,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Co((h=>jT(h)),Bh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ee(_t.comparator),this.Na=new Map,this.La=new Mm,this.Ba={},this.ka=new Map,this.qa=yo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tR(i,t,e=!0){const s=b1(i);let r;const o=s.Fa.get(t);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=await p1(s,t,e,!0),r}async function eR(i,t){const e=b1(i);await p1(e,t,!0,!1)}async function p1(i,t,e,s){const r=await ww(i.localStore,Mi(t)),o=r.targetId,c=i.sharedClientState.addLocalQueryTarget(o,e);let h;return s&&(h=await nR(i,t,o,c==="current",r.resumeToken)),i.isPrimaryClient&&e&&u1(i.remoteStore,r),h}async function nR(i,t,e,s,r){i.Ka=(v,E,S)=>(async function(x,M,U,L){let Z=M.view.ma(U);Z.ns&&(Z=await T0(x.localStore,M.query,!1).then((({documents:D})=>M.view.ma(D,Z))));const F=L&&L.targetChanges.get(M.targetId),$=L&&L.targetMismatches.get(M.targetId)!=null,it=M.view.applyChanges(Z,x.isPrimaryClient,F,$);return M0(x,M.targetId,it.wa),it.snapshot})(i,v,E,S);const o=await T0(i.localStore,t,!0),c=new $w(t,o.Ts),h=c.ma(o.documents),f=yc.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",r),g=c.applyChanges(h,i.isPrimaryClient,f);M0(i,e,g.wa);const _=new Ww(t,e,c);return i.Fa.set(t,_),i.Ma.has(e)?i.Ma.get(e).push(t):i.Ma.set(e,[t]),g.snapshot}async function iR(i,t,e){const s=jt(i),r=s.Fa.get(t),o=s.Ma.get(r.targetId);if(o.length>1)return s.Ma.set(r.targetId,o.filter((c=>!Bh(c,t)))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Zg(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),e&&Nm(s.remoteStore,r.targetId),tm(s,r.targetId)})).catch(ym)):(tm(s,r.targetId),await Zg(s.localStore,r.targetId,!0))}async function sR(i,t){const e=jt(i),s=e.Fa.get(t),r=e.Ma.get(s.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Nm(e.remoteStore,s.targetId))}async function _1(i,t){const e=jt(i);try{const s=await xw(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Na.get(o);c&&(pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.va=!0:r.modifiedDocuments.size>0?pe(c.va):r.removedDocuments.size>0&&(pe(c.va),c.va=!1))})),await v1(e,s,t)}catch(s){await ym(s)}}function D0(i,t,e){const s=jt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const r=[];s.Fa.forEach(((o,c)=>{const h=c.view.Z_(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=jt(c);f.onlineState=h;let g=!1;f.queries.forEach(((_,v)=>{for(const E of v.j_)E.Z_(h)&&(g=!0)})),g&&Pm(f)})(s.eventManager,t),r.length&&s.Ca.d_(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function aR(i,t,e){const s=jt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const r=s.Na.get(t),o=r&&r.key;if(o){let c=new Ee(_t.comparator);c=c.insert(o,ln.newNoDocument(o,Et.min()));const h=Ht().add(o),f=new Fh(Et.min(),new Map,new Ee(Kt),c,h);await _1(s,f),s.Oa=s.Oa.remove(o),s.Na.delete(t),Bm(s)}else await Zg(s.localStore,t,!1).then((()=>tm(s,t,e))).catch(ym)}function tm(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Ma.get(t))i.Fa.delete(s),e&&i.Ca.$a(s,e);i.Ma.delete(t),i.isPrimaryClient&&i.La.gr(t).forEach((s=>{i.La.containsKey(s)||y1(i,s)}))}function y1(i,t){i.xa.delete(t.path.canonicalString());const e=i.Oa.get(t);e!==null&&(Nm(i.remoteStore,e),i.Oa=i.Oa.remove(t),i.Na.delete(e),Bm(i))}function M0(i,t,e){for(const s of e)s instanceof g1?(i.La.addReference(s.key,t),rR(i,s)):s instanceof m1?(dt("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,t),i.La.containsKey(s.key)||y1(i,s.key)):xt()}function rR(i,t){const e=t.key,s=e.path.canonicalString();i.Oa.get(e)||i.xa.has(s)||(dt("SyncEngine","New document in limbo: "+e),i.xa.add(s),Bm(i))}function Bm(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const t=i.xa.values().next().value;i.xa.delete(t);const e=new _t(ce.fromString(t)),s=i.qa.next();i.Na.set(s,new Zw(e)),i.Oa=i.Oa.insert(e,s),u1(i.remoteStore,new ia(Mi(Am(e.path)),s,"TargetPurposeLimboResolution",vm.oe))}}async function v1(i,t,e){const s=jt(i),r=[],o=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach(((h,f)=>{c.push(s.Ka(f,t,e).then((g=>{var _;if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:(_=e?.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){r.push(g);const v=Im.Wi(f.targetId,g);o.push(v)}})))})),await Promise.all(c),s.Ca.d_(r),await(async function(f,g){const _=jt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>st.forEach(g,(E=>st.forEach(E.$i,(S=>_.persistence.referenceDelegate.addReference(v,E.targetId,S))).next((()=>st.forEach(E.Ui,(S=>_.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))))))}catch(v){if(!pc(v))throw v;dt("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const S=_.os.get(E),w=S.snapshotVersion,x=S.withLastLimboFreeSnapshotVersion(w);_.os=_.os.insert(E,x)}}})(s.localStore,o))}async function oR(i,t){const e=jt(i);if(!e.currentUser.isEqual(t)){dt("SyncEngine","User change. New user:",t.toKey());const s=await o1(e.localStore,t);e.currentUser=t,(function(o,c){o.ka.forEach((h=>{h.forEach((f=>{f.reject(new ht(ot.CANCELLED,c))}))})),o.ka.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await v1(e,s.hs)}}function lR(i,t){const e=jt(i),s=e.Na.get(t);if(s&&s.va)return Ht().add(s.key);{let r=Ht();const o=e.Ma.get(t);if(!o)return r;for(const c of o){const h=e.Fa.get(c);r=r.unionWith(h.view.Va)}return r}}function b1(i){const t=jt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aR.bind(null,t),t.Ca.d_=Qw.bind(null,t.eventManager),t.Ca.$a=Kw.bind(null,t.eventManager),t}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return Sw(this.persistence,new Tw,t.initialUser,this.serializer)}Ga(t){return new yw(Om.Zr,this.serializer)}Wa(t){return new Cw}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class em{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>D0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oR.bind(null,this.syncEngine),await Hw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qw})()}createDatastore(t){const e=qh(t.databaseInfo.databaseId),s=(function(o){return new Iw(o)})(t.databaseInfo);return(function(o,c,h,f){return new kw(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,r,o,c,h){return new Lw(s,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>D0(this.syncEngine,e,0)),(function(){return S0.D()?new S0:new Dw})())}createSyncEngine(t,e){return(function(r,o,c,h,f,g,_){const v=new Jw(r,o,c,h,f,g);return _&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(r){const o=jt(r);dt("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await vc(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}em.provider={build:()=>new em};class cR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class uR{constructor(t,e,s,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=MT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{dt("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(dt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=d1(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function bg(i,t){i.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener((async r=>{s.isEqual(r)||(await o1(t.localStore,r),s=r)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function O0(i,t){i.asyncQueue.verifyOperationInProgress();const e=await hR(i);dt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((s=>A0(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,r)=>A0(t.remoteStore,r))),i._onlineComponents=t}async function hR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){dt("FirestoreClient","Using user provided OfflineComponentProvider");try{await bg(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===ot.FAILED_PRECONDITION||r.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;go("Error using user provided cache. Falling back to memory cache: "+e),await bg(i,new Mh)}}else dt("FirestoreClient","Using default OfflineComponentProvider"),await bg(i,new Mh);return i._offlineComponents}async function fR(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(dt("FirestoreClient","Using user provided OnlineComponentProvider"),await O0(i,i._uninitializedComponentsProvider._online)):(dt("FirestoreClient","Using default OnlineComponentProvider"),await O0(i,new em))),i._onlineComponents}async function I0(i){const t=await fR(i),e=t.eventManager;return e.onListen=tR.bind(null,t.syncEngine),e.onUnlisten=iR.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=eR.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=sR.bind(null,t.syncEngine),e}function T1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const N0=new Map;function E1(i,t,e){if(!e)throw new ht(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function dR(i,t,e,s){if(t===!0&&s===!0)throw new ht(ot.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function V0(i){if(!_t.isDocumentKey(i))throw new ht(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function k0(i){if(_t.isDocumentKey(i))throw new ht(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xt()}function yh(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ht(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Yh(i);throw new ht(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function gR(i,t){if(t<=0)throw new ht(ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}class z0{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ht(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ht(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ht(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ht(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qh{constructor(t,e,s,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(t),t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QA;switch(s.type){case"firstParty":return new WA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=N0.get(e);s&&(dt("ComponentProvider","Removing Datastore"),N0.delete(e),s.terminate())})(this),Promise.resolve()}}function mR(i,t,e,s={}){var r;const o=(i=yh(i,Qh))._getSettings(),c=`${t}:${e}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),s.mockUserToken){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=on.MOCK_USER;else{h=Cx(s.mockUserToken,(r=i._app)===null||r===void 0?void 0:r.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ht(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new on(g)}i._authCredentials=new KA(new DT(h,f))}}class pa{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new pa(this.firestore,t,this._query)}}class Pn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pn(this.firestore,t,this._key)}}class ua extends pa{constructor(t,e,s){super(t,e,Am(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pn(this.firestore,null,new _t(t))}withConverter(t){return new ua(this.firestore,t,this._path)}}function eo(i,t,...e){if(i=fo(i),E1("collection","path",t),i instanceof Qh){const s=ce.fromString(t,...e);return k0(s),new ua(i,null,s)}{if(!(i instanceof Pn||i instanceof ua))throw new ht(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...e));return k0(s),new ua(i.firestore,null,s)}}function pR(i,t,...e){if(i=fo(i),arguments.length===1&&(t=MT.newId()),E1("doc","path",t),i instanceof Qh){const s=ce.fromString(t,...e);return V0(s),new Pn(i,null,new _t(s))}{if(!(i instanceof Pn||i instanceof ua))throw new ht(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...e));return V0(s),new Pn(i.firestore,i instanceof ua?i.converter:null,new _t(s))}}class L0{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new c1(this,"async_queue_retry"),this.Vu=()=>{const s=vg();s&&dt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const e=vg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=vg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const e=new oo;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!pc(t))throw t;dt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const e=this.mu.then((()=>(this.du=!0,t().catch((s=>{this.Eu=s,this.du=!1;const r=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(s);throw ds("INTERNAL UNHANDLED ERROR: ",r),s})).then((s=>(this.du=!1,s))))));return this.mu=e,e}enqueueAfterDelay(t,e,s){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=Lm.createAndSchedule(this,t,e,s,(o=>this.yu(o)));return this.Tu.push(r),r}fu(){this.Eu&&xt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function P0(i){return(function(e,s){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of s)if(o in r&&typeof r[o]=="function")return!0;return!1})(i,["next","error","complete"])}class nm extends Qh{constructor(t,e,s,r){super(t,e,s,r),this.type="firestore",this._queue=new L0,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L0(t),this._firestoreClient=void 0,await t}}}function _R(i,t){const e=typeof i=="object"?i:LA(),s=typeof i=="string"?i:"(default)",r=NA(e,"firestore").getImmediate({identifier:s});if(!r._initialized){const o=wx("firestore");o&&mR(r,...o)}return r}function yR(i){if(i._terminated)throw new ht(ot.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||vR(i),i._firestoreClient}function vR(i){var t,e,s;const r=i._freezeSettings(),o=(function(h,f,g,_){return new u2(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,T1(_.experimentalLongPollingOptions),_.useFetchStreams)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,r);i._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),i._firestoreClient=new uR(i._authCredentials,i._appCheckCredentials,i._queue,o,i._componentsProvider&&(function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}})(i._componentsProvider))}class bo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bo(tn.fromBase64String(t))}catch(e){throw new ht(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new bo(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class S1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class x1{constructor(t){this._methodName=t}}class jm{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}class Um{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,r){if(s.length!==r.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==r[o])return!1;return!0})(this._values,t._values)}}const bR=/^__.*__$/;function A1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class Hm{constructor(t,e,s,r,o,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:s,xu:!1});return r.Ou(t),r}Nu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:s,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return im(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(A1(this.Cu)&&bR.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class TR{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||qh(t)}Qu(t,e,s,r=!1){return new Hm({Cu:t,methodName:e,qu:s,path:cn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ER(i){const t=i._freezeSettings(),e=qh(i._databaseId);return new TR(i._databaseId,!!t.ignoreUndefinedProperties,e)}function SR(i,t,e,s=!1){return Fm(e,i.Qu(s?4:3,t))}function Fm(i,t){if(w1(i=fo(i)))return AR("Unsupported field value:",t,i),xR(i,t);if(i instanceof x1)return(function(s,r){if(!A1(r.Cu))throw r.Bu(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(s,r){const o=[];let c=0;for(const h of s){let f=Fm(h,r.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(i,t)}return(function(s,r){if((s=fo(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I2(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=Ue.fromDate(s);return{timestampValue:$g(r.serializer,o)}}if(s instanceof Ue){const o=new Ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$g(r.serializer,o)}}if(s instanceof jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bo)return{bytesValue:JT(r.serializer,s._byteString)};if(s instanceof Pn){const o=r.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw r.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t1(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Um)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return wm(h.serializer,f)}))}}}}}})(s,r);throw r.Bu(`Unsupported field value: ${Yh(s)}`)})(i,t)}function xR(i,t){const e={};return OT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_c(i,((s,r)=>{const o=Fm(r,t.Mu(s));o!=null&&(e[s]=o)})),{mapValue:{fields:e}}}function w1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ue||i instanceof jm||i instanceof bo||i instanceof Pn||i instanceof x1||i instanceof Um)}function AR(i,t,e){if(!w1(e)||!(function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)})(e)){const s=Yh(e);throw s==="an object"?t.Bu(i+" a custom object"):t.Bu(i+" "+s)}}const wR=new RegExp("[~\\*/\\[\\]]");function RR(i,t,e){if(t.search(wR)>=0)throw im(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new S1(...t.split("."))._internalPath}catch{throw im(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function im(i,t,e,s,r){const o=s&&!s.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${s}`),c&&(f+=` in document ${r}`),f+=")"),new ht(ot.INVALID_ARGUMENT,h+i+f)}class R1{constructor(t,e,s,r,o){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(qm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class CR extends R1{data(){return super.data()}}function qm(i,t){return typeof t=="string"?RR(i,t):t instanceof S1?t._internalPath:t._delegate._internalPath}function DR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ht(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gm{}class Ym extends Gm{}function B0(i,t,...e){let s=[];t instanceof Gm&&s.push(t),s=s.concat(e),(function(o){const c=o.filter((f=>f instanceof Km)).length,h=o.filter((f=>f instanceof Qm)).length;if(c>1||c>0&&h>0)throw new ht(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)i=r._apply(i);return i}class Qm extends Ym{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Qm(t,e,s)}_apply(t){const e=this._parse(t);return C1(t._query,e),new pa(t.firestore,t.converter,Yg(t._query,e))}_parse(t){const e=ER(t.firestore);return(function(o,c,h,f,g,_,v){let E;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ht(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){F0(v,_);const S=[];for(const w of v)S.push(H0(f,o,w));E={arrayValue:{values:S}}}else E=H0(f,o,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||F0(v,_),E=SR(h,c,v,_==="in"||_==="not-in");return De.create(g,_,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Km extends Gm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Km(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:ci.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)C1(c,f),c=Yg(c,f)})(t._query,e),new pa(t.firestore,t.converter,Yg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xm extends Ym{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Xm(t,e)}_apply(t){const e=(function(r,o,c){if(r.startAt!==null)throw new ht(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ht(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(o,c)})(t._query,this._field,this._direction);return new pa(t.firestore,t.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new Ro(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function j0(i,t="asc"){const e=t,s=qm("orderBy",i);return Xm._create(s,e)}class $m extends Ym{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new $m(t,e,s)}_apply(t){return new pa(t.firestore,t.converter,Rh(t._query,this._limit,this._limitType))}}function U0(i){return gR("limit",i),$m._create("limit",i,"F")}function H0(i,t,e){if(typeof(e=fo(e))=="string"){if(e==="")throw new ht(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(t)&&e.indexOf("/")!==-1)throw new ht(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ce.fromString(e));if(!_t.isDocumentKey(s))throw new ht(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return s0(i,new _t(s))}if(e instanceof Pn)return s0(i,e._key);throw new ht(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(e)}.`)}function F0(i,t){if(!Array.isArray(i)||i.length===0)throw new ht(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function C1(i,t){const e=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(i.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class MR{convertValue(t,e="none"){switch(cr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return _c(t,((r,o)=>{s[r]=this.convertValue(o,e)})),s}convertVectorValue(t){var e,s,r;const o=(r=(s=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map((c=>be(c.doubleValue)));return new Um(o)}convertGeoPoint(t){return new jm(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Tm(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(rc(t));default:return null}}convertTimestamp(t){const e=da(t);return new Ue(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ce.fromString(t);pe(r1(s));const r=new oc(s.get(1),s.get(3)),o=new _t(s.popFirst(5));return r.isEqual(e)||ds(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class Gl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class D1 extends R1{constructor(t,e,s,r,o,c){super(t,e,s,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(qm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class vh extends D1{data(t={}){return super.data(t)}}class OR{constructor(t,e,s,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Gl(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new vh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new vh(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Gl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new vh(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Gl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:IR(h.type),doc:f,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function IR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}class M1 extends MR{constructor(t){super(),this.firestore=t}convertBytes(t){return new bo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pn(this.firestore,null,e)}}function Ka(i,...t){var e,s,r;i=fo(i);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||P0(t[c])||(o=t[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(P0(t[c])){const v=t[c];t[c]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[c+1]=(s=v.error)===null||s===void 0?void 0:s.bind(v),t[c+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let f,g,_;if(i instanceof Pn)g=yh(i.firestore,nm),_=Am(i._key.path),f={next:v=>{t[c]&&t[c](NR(g,i,v))},error:t[c+1],complete:t[c+2]};else{const v=yh(i,pa);g=yh(v.firestore,nm),_=v._query;const E=new M1(g);f={next:S=>{t[c]&&t[c](new OR(g,E,v,S))},error:t[c+1],complete:t[c+2]},DR(i._query)}return(function(E,S,w,x){const M=new cR(x),U=new Xw(S,M,w);return E.asyncQueue.enqueueAndForget((async()=>Gw(await I0(E),U))),()=>{M.Za(),E.asyncQueue.enqueueAndForget((async()=>Yw(await I0(E),U)))}})(yR(g),_,h,f)}function NR(i,t,e){const s=e.docs.get(t._key),r=new M1(i);return new D1(i,r,t._key,s,new Gl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){wo=r})(zA),xh(new ic("firestore",((s,{instanceIdentifier:r,options:o})=>{const c=s.getProvider("app").getImmediate(),h=new nm(new XA(s.getProvider("auth-internal")),new JA(s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(g.options.projectId,_)})(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ro(Jv,"4.7.3",t),ro(Jv,"4.7.3","esm2017")})();var VR="firebase",kR="10.14.1";ro(VR,kR,"app");const zR={apiKey:"AIzaSyCJQ8A30DWTGpuJWDYFhR8bs2hk6lV7uCI",authDomain:"esg-reports-collection.firebaseapp.com",projectId:"esg-reports-collection",storageBucket:"esg-reports-collection.firebasestorage.app",messagingSenderId:"1814516762",appId:"1:1814516762:web:ba5299acda54ca1cfe2da3",measurementId:"G-210EF632LF"},LR=bT(zR),rs=_R(LR);function PR(){const[i,t]=vt.useState([]),[e,s]=vt.useState([]),[r,o]=vt.useState(null),[c,h]=vt.useState(!0),[f,g]=vt.useState(null),[_,v]=vt.useState(!0);vt.useEffect(()=>{if(!(rs&&rs.app.options.apiKey!=="YOUR_API_KEY")){console.warn("Firebase not configured, falling back to static JSON"),v(!1),E();return}const w=[];try{h(!0);const x=B0(eo(rs,"posts"),j0("publishedAt","desc"),U0(500)),M=Ka(x,F=>{const $=F.docs.map(it=>{const D=it.data();return{id:it.id,publishedAt:D.publishedAt||"",content:D.content||"",contentPreview:D.contentPreview||"",hashtags:D.hashtags||[],actionType:D.classification?.actionType||"",topic:D.classification?.topic||"",mediaType:D.classification?.mediaType||"text",permalink:D.permalink||"",metrics:{likes:D.metrics?.likes||0,comments:D.metrics?.comments||0,shares:D.metrics?.shares||0,clicks:D.metrics?.clicks||0,reach:D.metrics?.reach||0,videoViews:D.metrics?.videoViews||0,reactions:D.metrics?.reactions||{}},computed:{engagementRate:D.computed?.engagementRate||0,totalEngagement:D.computed?.totalEngagement||0,shareRate:D.computed?.shareRate||0,performanceTier:D.computed?.performanceTier||"average",percentileRank:D.computed?.percentileRank||0}}});t($),console.log(` Real-time update: ${$.length} posts`)},F=>{console.error("Error listening to posts:",F),g(`Posts sync error: ${F.message}`)});w.push(M);const U=B0(eo(rs,"dailyMetrics"),j0("date","desc"),U0(90)),L=Ka(U,F=>{const $=F.docs.map(it=>it.data());s($),console.log(` Real-time update: ${$.length} daily metrics`)},F=>{console.error("Error listening to daily metrics:",F)});w.push(L),(async()=>{const F={lastUpdated:new Date().toISOString(),totalPosts:i.length,byActionType:[],byTopic:[],byHour:[],byDayOfWeek:[],heatmap:[]},$=Ka(eo(rs,"aggregates/byActionType/data"),V=>{F.byActionType=V.docs.map(I=>({name:I.data().name,count:I.data().count,avgER:I.data().avgER,avgReach:I.data().avgReach})),o({...F})});w.push($);const it=Ka(eo(rs,"aggregates/byTopic/data"),V=>{F.byTopic=V.docs.map(I=>({name:I.data().name,count:I.data().count,avgER:I.data().avgER,avgReach:I.data().avgReach})),o({...F})});w.push(it);const D=Ka(eo(rs,"aggregates/hourlyPerformance/data"),V=>{F.byHour=V.docs.map(I=>({hour:I.data().hour,label:I.data().label,count:I.data().count,avgER:I.data().avgER})),o({...F})});w.push(D);const C=Ka(eo(rs,"aggregates/heatmap/data"),V=>{F.heatmap=V.docs.map(I=>({weekday:I.data().weekday,weekdayName:I.data().weekdayName,hour:I.data().hour,count:I.data().count,avgER:I.data().avgER})),o({...F})});w.push(C);const O=Ka(pR(rs,"metadata","lastSync"),V=>{if(V.exists()){const I=V.data();F.lastUpdated=I.timestamp?.toDate?.()?.toISOString()||new Date().toISOString(),F.totalPosts=I.postsCount||i.length,o({...F})}});w.push(O)})(),h(!1)}catch(x){console.error("Firestore initialization error:",x),g(x.message),v(!1),E()}return()=>{console.log("Cleaning up Firestore listeners"),w.forEach(x=>x())}},[]);async function E(){try{h(!0);const S="/gcaa-dashboard/",[w,x,M]=await Promise.all([fetch(`${S}data/posts.json`),fetch(`${S}data/daily.json`),fetch(`${S}data/stats.json`)]);if(!w.ok||!x.ok||!M.ok)throw new Error("Failed to fetch static data");const[U,L,Z]=await Promise.all([w.json(),x.json(),M.json()]);t(U),s(L),o(Z),g(null),console.log(" Loaded static JSON data (fallback mode)")}catch(S){console.error("Error fetching static data:",S),g(S.message)}finally{h(!1)}}return{posts:i,daily:e,stats:r,loading:c,error:f}}function O1(i,t){const[e,s]=vt.useState([]);return vt.useEffect(()=>{if(!i.length){s([]);return}let r=[...i];if(t.dateRange){const{start:o,end:c}=t.dateRange;o&&(r=r.filter(h=>h.publishedAt>=o)),c&&(r=r.filter(h=>h.publishedAt<=c))}if(t.timeRange&&t.timeRange!=="all"&&t.timeRange!=="custom"){const o=parseInt(t.timeRange);if(!isNaN(o)){const c=new Date;c.setDate(c.getDate()-o*7);const h=c.toISOString();r=r.filter(f=>f.publishedAt>=h)}}if(t.actionType&&t.actionType!=="all"&&(r=r.filter(o=>o.actionType===t.actionType)),t.topic&&t.topic!=="all"&&(r=r.filter(o=>o.topic===t.topic)),t.search){const o=t.search.toLowerCase();r=r.filter(c=>c.content.toLowerCase().includes(o)||c.hashtags.some(h=>h.toLowerCase().includes(o)))}t.sortBy&&r.sort((o,c)=>{let h,f;switch(t.sortBy){case"date":h=o.publishedAt,f=c.publishedAt;break;case"engagement":h=o.computed.engagementRate,f=c.computed.engagementRate;break;case"reach":h=o.metrics.reach,f=c.metrics.reach;break;case"shares":h=o.metrics.shares,f=c.metrics.shares;break;default:return 0}return t.sortOrder==="asc"?h>f?1:-1:h<f?1:-1}),s(r)},[i,t]),e}const BR="_header_11wv4_1",jR="_container_11wv4_10",UR="_brand_11wv4_21",HR="_logo_11wv4_27",FR="_logoText_11wv4_44",qR="_divider_11wv4_69",GR="_title_11wv4_75",YR="_nav_11wv4_83",QR="_navItem_11wv4_89",KR="_active_11wv4_107",XR="_navLabel_11wv4_121",$R="_navIndicator_11wv4_125",WR="_actions_11wv4_142",ZR="_fbLink_11wv4_148",JR="_fbIcon_11wv4_168",yn={header:BR,container:jR,brand:UR,logo:HR,logoText:FR,divider:qR,title:GR,nav:YR,navItem:QR,active:KR,navLabel:XR,navIndicator:$R,actions:WR,fbLink:ZR,fbIcon:JR};function tC({activeTab:i,onTabChange:t,onLogoClick:e}){const s=[{id:"dashboard",label:""},{id:"explorer",label:""},{id:"analytics",label:""}];return z.jsx("header",{className:yn.header,children:z.jsxs("div",{className:yn.container,children:[z.jsxs("div",{className:yn.brand,children:[z.jsx("button",{className:yn.logo,onClick:()=>e?.(),title:"",children:z.jsx("span",{className:yn.logoText,children:"GCAA"})}),z.jsx("div",{className:yn.divider}),z.jsx("h1",{className:yn.title,children:""})]}),z.jsx("nav",{className:yn.nav,children:s.map(r=>z.jsxs("button",{className:`${yn.navItem} ${i===r.id?yn.active:""}`,onClick:()=>t(r.id),children:[z.jsx("span",{className:yn.navLabel,children:r.label}),i===r.id&&z.jsx("span",{className:yn.navIndicator})]},r.id))}),z.jsx("div",{className:yn.actions,children:z.jsxs("a",{href:"https://www.facebook.com/gcaa.org.tw",target:"_blank",rel:"noopener noreferrer",className:yn.fbLink,children:[z.jsx("svg",{viewBox:"0 0 24 24",className:yn.fbIcon,children:z.jsx("path",{fill:"currentColor",d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),z.jsx("span",{children:""})]})})]})})}const eC="_container_cvlw1_6",nC="_mainRow_cvlw1_17",iC="_timeRangeGroup_cvlw1_25",sC="_label_cvlw1_31",aC="_pills_cvlw1_40",rC="_pill_cvlw1_40",oC="_active_cvlw1_62",lC="_datePickerGroup_cvlw1_68",cC="_dateField_cvlw1_75",uC="_dateLabel_cvlw1_81",hC="_dateInput_cvlw1_88",fC="_dateSeparator_cvlw1_114",dC="_actions_cvlw1_119",gC="_searchWrapper_cvlw1_125",mC="_searchIcon_cvlw1_131",pC="_searchInput_cvlw1_141",_C="_clearBtn_cvlw1_163",yC="_filterToggle_cvlw1_183",vC="_filterIcon_cvlw1_208",bC="_expandedFilters_cvlw1_212",TC="_filterGroup_cvlw1_222",EC="_filterLabel_cvlw1_229",SC="_select_cvlw1_237",xC="_clearFilters_cvlw1_262",Qt={container:eC,mainRow:nC,timeRangeGroup:iC,label:sC,pills:aC,pill:rC,active:oC,datePickerGroup:lC,dateField:cC,dateLabel:uC,dateInput:hC,dateSeparator:fC,actions:dC,searchWrapper:gC,searchIcon:mC,searchInput:pC,clearBtn:_C,filterToggle:yC,filterIcon:vC,expandedFilters:bC,filterGroup:TC,filterLabel:EC,select:SC,clearFilters:xC},AC=[{value:"1",label:"1 "},{value:"2",label:"2 "},{value:"4",label:"1 "},{value:"12",label:"3 "},{value:"26",label:"6 "},{value:"52",label:"1 "},{value:"all",label:""},{value:"custom",label:""}];function Wm({timeRange:i,onTimeRangeChange:t,dateRange:e,onDateRangeChange:s,actionTypes:r=[],topics:o=[],selectedActionType:c,onActionTypeChange:h,selectedTopic:f,onTopicChange:g,search:_,onSearchChange:v,showSearch:E=!1,showFilters:S=!1}){const[w,x]=vt.useState(!1),[M,U]=vt.useState(i==="custom");return z.jsxs("div",{className:Qt.container,children:[z.jsxs("div",{className:Qt.mainRow,children:[z.jsxs("div",{className:Qt.timeRangeGroup,children:[z.jsx("span",{className:Qt.label,children:""}),z.jsx("div",{className:Qt.pills,children:AC.map(L=>z.jsx("button",{className:`${Qt.pill} ${i===L.value||L.value==="custom"&&M?Qt.active:""}`,onClick:()=>{L.value==="custom"?(U(!0),t("custom")):(U(!1),t(L.value))},children:L.label},L.value))})]}),M&&z.jsxs("div",{className:Qt.datePickerGroup,children:[z.jsxs("label",{className:Qt.dateField,children:[z.jsx("span",{className:Qt.dateLabel,children:""}),z.jsx("input",{type:"date",value:e?.start||"",onChange:L=>s?.({start:L.target.value,end:e?.end||""}),className:Qt.dateInput})]}),z.jsx("span",{className:Qt.dateSeparator,children:"~"}),z.jsxs("label",{className:Qt.dateField,children:[z.jsx("span",{className:Qt.dateLabel,children:""}),z.jsx("input",{type:"date",value:e?.end||"",onChange:L=>s?.({start:e?.start||"",end:L.target.value}),className:Qt.dateInput})]})]}),(E||S)&&z.jsxs("div",{className:Qt.actions,children:[E&&z.jsxs("div",{className:Qt.searchWrapper,children:[z.jsx("svg",{className:Qt.searchIcon,viewBox:"0 0 24 24",width:"16",height:"16",children:z.jsx("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),z.jsx("input",{type:"text",placeholder:"...",value:_||"",onChange:L=>v(L.target.value),className:Qt.searchInput}),_&&z.jsx("button",{className:Qt.clearBtn,onClick:()=>v(""),children:""})]}),S&&z.jsxs("button",{className:`${Qt.filterToggle} ${w?Qt.active:""}`,onClick:()=>x(!w),children:[z.jsx("span",{children:""}),z.jsx("span",{className:Qt.filterIcon,children:w?"":""})]})]})]}),S&&w&&z.jsxs("div",{className:Qt.expandedFilters,children:[z.jsxs("label",{className:Qt.filterGroup,children:[z.jsx("span",{className:Qt.filterLabel,children:""}),z.jsxs("select",{value:c||"all",onChange:L=>h(L.target.value),className:Qt.select,children:[z.jsx("option",{value:"all",children:""}),r.map(L=>z.jsxs("option",{value:L.name,children:[L.name," (",L.count,")"]},L.name))]})]}),z.jsxs("label",{className:Qt.filterGroup,children:[z.jsx("span",{className:Qt.filterLabel,children:""}),z.jsxs("select",{value:f||"all",onChange:L=>g(L.target.value),className:Qt.select,children:[z.jsx("option",{value:"all",children:""}),o.map(L=>z.jsxs("option",{value:L.name,children:[L.name," (",L.count,")"]},L.name))]})]}),(c!=="all"||f!=="all")&&z.jsx("button",{className:Qt.clearFilters,onClick:()=>{h("all"),g("all")},children:""})]})]})}function Ri(i){return i==null?"-":i>=1e6?(i/1e6).toFixed(1)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toLocaleString("zh-TW")}function Mo(i,t=2){return i==null?"-":i.toFixed(t)+"%"}function Oh(i,t="short"){if(!i)return"-";const e=new Date(i);return t==="short"?e.toLocaleDateString("zh-TW",{month:"numeric",day:"numeric"}):t==="medium"?e.toLocaleDateString("zh-TW",{month:"short",day:"numeric"}):t==="long"?e.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}):t==="full"?e.toLocaleDateString("zh-TW",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):i}const sm={:"#ef4444",:"#8b5cf6",:"#ec4899",:"#f59e0b",:"#06b6d4",:"#22c55e",:"#3b82f6",:"#84cc16","/Podcast":"#f97316"," ()":"#64748b",:"#64748b"},am={:"#ef4444",:"#3b82f6",:"#22c55e",:"#f59e0b",:"#8b5cf6",:"#06b6d4"," ()":"#64748b",:"#64748b"};function wC(i,t,e=null){if(!i||!i.length)return[];let s=[...i];if(t==="custom"&&e)e.start&&(s=s.filter(r=>r.date>=e.start)),e.end&&(s=s.filter(r=>r.date<=e.end));else if(t!=="all"){const r=parseInt(t);if(!isNaN(r)){const o=new Date;o.setDate(o.getDate()-r*7);const c=o.toISOString().slice(0,10);s=s.filter(h=>h.date>=c)}}return s.filter(r=>r.date!=null).sort((r,o)=>(r.date||"").localeCompare(o.date||""))}const RC="_grid_7c9lu_1",CC="_card_7c9lu_24",DC="_kpiFadeIn_7c9lu_1",MC="_primary_7c9lu_44",OC="_secondary_7c9lu_45",IC="_tertiary_7c9lu_46",NC="_warning_7c9lu_47",VC="_cardHeader_7c9lu_49",kC="_icon_7c9lu_56",zC="_label_7c9lu_65",LC="_value_7c9lu_72",PC="_glow_7c9lu_85",BC="_selected_7c9lu_118",jC="_selectedBadge_7c9lu_146",os={grid:RC,card:CC,kpiFadeIn:DC,primary:MC,secondary:OC,tertiary:IC,warning:NC,cardHeader:VC,icon:kC,label:zC,value:LC,glow:PC,selected:BC,selectedBadge:jC};function UC({value:i,format:t="number",duration:e=1e3}){const[s,r]=vt.useState(0),o=vt.useRef(null),c=vt.useRef(null);return vt.useEffect(()=>{if(i==null)return;const h=typeof i=="number"?i:parseFloat(i)||0,f=g=>{o.current||(o.current=g);const _=Math.min((g-o.current)/e,1),v=_===1?1:1-Math.pow(2,-10*_);r(h*v),_<1&&(c.current=requestAnimationFrame(f))};return o.current=null,c.current=requestAnimationFrame(f),()=>{c.current&&cancelAnimationFrame(c.current)}},[i,e]),t==="percent"?z.jsx("span",{children:Mo(s,2)}):z.jsx("span",{children:Ri(Math.round(s))})}const q0={:"postCount",:"avgEngagementRate",:"totalReach",:"totalShares"};function HC({stats:i,daily:t,timeRange:e,dateRange:s,selectedMetric:r,onMetricChange:o}){const c=t?.filter(S=>{if(e==="custom"&&s)return!(s.start&&S.date<s.start||s.end&&S.date>s.end);if(e==="all")return!0;const w=parseInt(e);if(isNaN(w))return!0;const x=new Date;return x.setDate(x.getDate()-w*7),new Date(S.date)>=x})||[],h=c.reduce((S,w)=>S+w.postCount,0),f=c.reduce((S,w)=>S+w.totalReach,0),g=c.reduce((S,w)=>S+w.totalShares,0),_=c.length>0?c.reduce((S,w)=>S+w.avgEngagementRate,0)/c.length:0,v=[{label:"",value:h,format:"number",color:"primary"},{label:"",value:_,format:"percent",color:"secondary"},{label:"",value:f,format:"number",color:"tertiary"},{label:"",value:g,format:"number",color:"warning"}],E=S=>{const w=q0[S];w&&o&&o(w)};return z.jsx("div",{className:os.grid,children:v.map((S,w)=>{const x=q0[S.label],M=r===x;return z.jsxs("button",{className:`${os.card} ${os[S.color]} ${M?os.selected:""}`,style:{animationDelay:`${w*.1}s`},onClick:()=>E(S.label),title:"",children:[z.jsxs("div",{className:os.cardHeader,children:[z.jsx("span",{className:os.label,children:S.label}),M&&z.jsx("span",{className:os.selectedBadge,children:""})]}),z.jsx("div",{className:os.value,children:z.jsx(UC,{value:S.value,format:S.format})}),z.jsx("div",{className:os.glow})]},S.label)})})}function Tc(i){return i+.5|0}const sa=(i,t,e)=>Math.max(Math.min(i,e),t);function Yl(i){return sa(Tc(i*2.55),0,255)}function ha(i){return sa(Tc(i*255),0,255)}function hs(i){return sa(Tc(i/2.55)/100,0,1)}function G0(i){return sa(Tc(i*100),0,100)}const Wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rm=[..."0123456789ABCDEF"],FC=i=>rm[i&15],qC=i=>rm[(i&240)>>4]+rm[i&15],th=i=>(i&240)>>4===(i&15),GC=i=>th(i.r)&&th(i.g)&&th(i.b)&&th(i.a);function YC(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Wn[i[1]]*17,g:255&Wn[i[2]]*17,b:255&Wn[i[3]]*17,a:t===5?Wn[i[4]]*17:255}:(t===7||t===9)&&(e={r:Wn[i[1]]<<4|Wn[i[2]],g:Wn[i[3]]<<4|Wn[i[4]],b:Wn[i[5]]<<4|Wn[i[6]],a:t===9?Wn[i[7]]<<4|Wn[i[8]]:255})),e}const QC=(i,t)=>i<255?t(i):"";function KC(i){var t=GC(i)?FC:qC;return i?"#"+t(i.r)+t(i.g)+t(i.b)+QC(i.a,t):void 0}const XC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function I1(i,t,e){const s=t*Math.min(e,1-e),r=(o,c=(o+i/30)%12)=>e-s*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function $C(i,t,e){const s=(r,o=(r+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function WC(i,t,e){const s=I1(i,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)s[r]*=1-t-e,s[r]+=t;return s}function ZC(i,t,e,s,r){return i===r?(t-e)/s+(t<e?6:0):t===r?(e-i)/s+2:(i-t)/s+4}function Zm(i){const e=i.r/255,s=i.g/255,r=i.b/255,o=Math.max(e,s,r),c=Math.min(e,s,r),h=(o+c)/2;let f,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),f=ZC(e,s,r,_,o),f=f*60+.5),[f|0,g||0,h]}function Jm(i,t,e,s){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,s)).map(ha)}function tp(i,t,e){return Jm(I1,i,t,e)}function JC(i,t,e){return Jm(WC,i,t,e)}function tD(i,t,e){return Jm($C,i,t,e)}function N1(i){return(i%360+360)%360}function eD(i){const t=XC.exec(i);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Yl(+t[5]):ha(+t[5]));const r=N1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?s=JC(r,o,c):t[1]==="hsv"?s=tD(r,o,c):s=tp(r,o,c),{r:s[0],g:s[1],b:s[2],a:e}}function nD(i,t){var e=Zm(i);e[0]=N1(e[0]+t),e=tp(e),i.r=e[0],i.g=e[1],i.b=e[2]}function iD(i){if(!i)return;const t=Zm(i),e=t[0],s=G0(t[1]),r=G0(t[2]);return i.a<255?`hsla(${e}, ${s}%, ${r}%, ${hs(i.a)})`:`hsl(${e}, ${s}%, ${r}%)`}const Y0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Q0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sD(){const i={},t=Object.keys(Q0),e=Object.keys(Y0);let s,r,o,c,h;for(s=0;s<t.length;s++){for(c=h=t[s],r=0;r<e.length;r++)o=e[r],h=h.replace(o,Y0[o]);o=parseInt(Q0[c],16),i[h]=[o>>16&255,o>>8&255,o&255]}return i}let eh;function aD(i){eh||(eh=sD(),eh.transparent=[0,0,0,0]);const t=eh[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const rD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oD(i){const t=rD.exec(i);let e=255,s,r,o;if(t){if(t[7]!==s){const c=+t[7];e=t[8]?Yl(c):sa(c*255,0,255)}return s=+t[1],r=+t[3],o=+t[5],s=255&(t[2]?Yl(s):sa(s,0,255)),r=255&(t[4]?Yl(r):sa(r,0,255)),o=255&(t[6]?Yl(o):sa(o,0,255)),{r:s,g:r,b:o,a:e}}}function lD(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${hs(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Tg=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,no=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function cD(i,t,e){const s=no(hs(i.r)),r=no(hs(i.g)),o=no(hs(i.b));return{r:ha(Tg(s+e*(no(hs(t.r))-s))),g:ha(Tg(r+e*(no(hs(t.g))-r))),b:ha(Tg(o+e*(no(hs(t.b))-o))),a:i.a+e*(t.a-i.a)}}function nh(i,t,e){if(i){let s=Zm(i);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=tp(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function V1(i,t){return i&&Object.assign(t||{},i)}function K0(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=ha(i[3]))):(t=V1(i,{r:0,g:0,b:0,a:1}),t.a=ha(t.a)),t}function uD(i){return i.charAt(0)==="r"?oD(i):eD(i)}class uc{constructor(t){if(t instanceof uc)return t;const e=typeof t;let s;e==="object"?s=K0(t):e==="string"&&(s=YC(t)||aD(t)||uD(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=V1(this._rgb);return t&&(t.a=hs(t.a)),t}set rgb(t){this._rgb=K0(t)}rgbString(){return this._valid?lD(this._rgb):void 0}hexString(){return this._valid?KC(this._rgb):void 0}hslString(){return this._valid?iD(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=s.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,s.r=255&g*s.r+o*r.r+.5,s.g=255&g*s.g+o*r.g+.5,s.b=255&g*s.b+o*r.b+.5,s.a=c*s.a+(1-c)*r.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=cD(this._rgb,t._rgb,e)),this}clone(){return new uc(this.rgb)}alpha(t){return this._rgb.a=ha(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Tc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return nh(this._rgb,2,t),this}darken(t){return nh(this._rgb,2,-t),this}saturate(t){return nh(this._rgb,1,t),this}desaturate(t){return nh(this._rgb,1,-t),this}rotate(t){return nD(this._rgb,t),this}}function ls(){}const hD=(()=>{let i=0;return()=>i++})();function Xt(i){return i==null}function Me(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Pt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function hn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Si(i,t){return hn(i)?i:t}function Ct(i,t){return typeof i>"u"?t:i}const fD=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function le(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function te(i,t,e,s){let r,o,c;if(Me(i))for(o=i.length,r=0;r<o;r++)t.call(e,i[r],r);else if(Pt(i))for(c=Object.keys(i),o=c.length,r=0;r<o;r++)t.call(e,i[c[r]],c[r])}function Ih(i,t){let e,s,r,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,s=i.length;e<s;++e)if(r=i[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Nh(i){if(Me(i))return i.map(Nh);if(Pt(i)){const t=Object.create(null),e=Object.keys(i),s=e.length;let r=0;for(;r<s;++r)t[e[r]]=Nh(i[e[r]]);return t}return i}function k1(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function dD(i,t,e,s){if(!k1(i))return;const r=t[i],o=e[i];Pt(r)&&Pt(o)?hc(r,o,s):t[i]=Nh(o)}function hc(i,t,e){const s=Me(t)?t:[t],r=s.length;if(!Pt(i))return i;e=e||{};const o=e.merger||dD;let c;for(let h=0;h<r;++h){if(c=s[h],!Pt(c))continue;const f=Object.keys(c);for(let g=0,_=f.length;g<_;++g)o(f[g],i,c,e)}return i}function Jl(i,t){return hc(i,t,{merger:gD})}function gD(i,t,e){if(!k1(i))return;const s=t[i],r=e[i];Pt(s)&&Pt(r)?Jl(s,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Nh(r))}const X0={"":i=>i,x:i=>i.x,y:i=>i.y};function mD(i){const t=i.split("."),e=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function pD(i){const t=mD(i);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function To(i,t){return(X0[t]||(X0[t]=pD(t)))(i)}function ep(i){return i.charAt(0).toUpperCase()+i.slice(1)}const fc=i=>typeof i<"u",ma=i=>typeof i=="function",$0=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function _D(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const He=Math.PI,li=2*He,yD=li+He,Vh=Number.POSITIVE_INFINITY,vD=He/180,oi=He/2,Xa=He/4,W0=He*2/3,z1=Math.log10,Oi=Math.sign;function tc(i,t,e){return Math.abs(i-t)<e}function Z0(i){const t=Math.round(i);i=tc(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(z1(i))),s=i/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function bD(i){const t=[],e=Math.sqrt(i);let s;for(s=1;s<e;s++)i%s===0&&(t.push(s),t.push(i/s));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function TD(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Eo(i){return!TD(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function ED(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function SD(i,t,e){let s,r,o;for(s=0,r=i.length;s<r;s++)o=i[s][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function nr(i){return i*(He/180)}function xD(i){return i*(180/He)}function J0(i){if(!hn(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function AD(i,t){const e=t.x-i.x,s=t.y-i.y,r=Math.sqrt(e*e+s*s);let o=Math.atan2(s,e);return o<-.5*He&&(o+=li),{angle:o,distance:r}}function om(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function wD(i,t){return(i-t+yD)%li-He}function Ci(i){return(i%li+li)%li}function L1(i,t,e,s){const r=Ci(i),o=Ci(t),c=Ci(e),h=Ci(o-r),f=Ci(c-r),g=Ci(r-o),_=Ci(r-c);return r===o||r===c||s&&o===c||h>f&&g<_}function Ln(i,t,e){return Math.max(t,Math.min(e,i))}function RD(i){return Ln(i,-32768,32767)}function aa(i,t,e,s=1e-6){return i>=Math.min(t,e)-s&&i<=Math.max(t,e)+s}function np(i,t,e){e=e||(c=>i[c]<t);let s=i.length-1,r=0,o;for(;s-r>1;)o=r+s>>1,e(o)?r=o:s=o;return{lo:r,hi:s}}const ir=(i,t,e,s)=>np(i,e,s?r=>{const o=i[r][t];return o<e||o===e&&i[r+1][t]===e}:r=>i[r][t]<e),CD=(i,t,e)=>np(i,e,s=>i[s][t]>=e);function DD(i,t,e){let s=0,r=i.length;for(;s<r&&i[s]<t;)s++;for(;r>s&&i[r-1]>e;)r--;return s>0||r<i.length?i.slice(s,r):i}const P1=["push","pop","shift","splice","unshift"];function MD(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),P1.forEach(e=>{const s="_onData"+ep(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return i._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),c}})})}function tb(i,t){const e=i._chartjs;if(!e)return;const s=e.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(P1.forEach(o=>{delete i[o]}),delete i._chartjs)}function B1(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const j1=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function U1(i,t){let e=[],s=!1;return function(...r){e=r,s||(s=!0,j1.call(window,()=>{s=!1,i.apply(t,e)}))}}function OD(i,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(i,t,s)):i.apply(this,s),t}}const ip=i=>i==="start"?"left":i==="end"?"right":"center",rn=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,ID=(i,t,e,s)=>i===(s?"left":"right")?e:i==="center"?(t+e)/2:t;function H1(i,t,e){const s=t.length;let r=0,o=s;if(i._sorted){const{iScale:c,vScale:h,_parsed:f}=i,g=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,_=c.axis,{min:v,max:E,minDefined:S,maxDefined:w}=c.getUserBounds();if(S){if(r=Math.min(ir(f,_,v).lo,e?s:ir(t,_,c.getPixelForValue(v)).lo),g){const x=f.slice(0,r+1).reverse().findIndex(M=>!Xt(M[h.axis]));r-=Math.max(0,x)}r=Ln(r,0,s-1)}if(w){let x=Math.max(ir(f,c.axis,E,!0).hi+1,e?0:ir(t,_,c.getPixelForValue(E),!0).hi+1);if(g){const M=f.slice(x-1).findIndex(U=>!Xt(U[h.axis]));x+=Math.max(0,M)}o=Ln(x,r,s)-r}else o=s-r}return{start:r,count:o}}function F1(i){const{xScale:t,yScale:e,_scaleRanges:s}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return i._scaleRanges=r,!0;const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,r),o}const ih=i=>i===0||i===1,eb=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*li/e)),nb=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*li/e)+1,ec={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*oi)+1,easeOutSine:i=>Math.sin(i*oi),easeInOutSine:i=>-.5*(Math.cos(He*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>ih(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>ih(i)?i:eb(i,.075,.3),easeOutElastic:i=>ih(i)?i:nb(i,.075,.3),easeInOutElastic(i){return ih(i)?i:i<.5?.5*eb(i*2,.1125,.45):.5+.5*nb(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-ec.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?ec.easeInBounce(i*2)*.5:ec.easeOutBounce(i*2-1)*.5+.5};function sp(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ib(i){return sp(i)?i:new uc(i)}function Eg(i){return sp(i)?i:new uc(i).saturate(.5).darken(.1).hexString()}const ND=["x","y","borderWidth","radius","tension"],VD=["color","borderColor","backgroundColor"];function kD(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:VD},numbers:{type:"number",properties:ND}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function zD(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const sb=new Map;function LD(i,t){t=t||{};const e=i+JSON.stringify(t);let s=sb.get(e);return s||(s=new Intl.NumberFormat(i,t),sb.set(e,s)),s}function q1(i,t,e){return LD(t,e).format(i)}const PD={values(i){return Me(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const s=this.chart.options.locale;let r,o=i;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=BD(i,e)}const c=z1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),q1(i,s,f)}};function BD(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var G1={formatters:PD};function jD(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:G1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ur=Object.create(null),lm=Object.create(null);function nc(i,t){if(!t)return i;const e=t.split(".");for(let s=0,r=e.length;s<r;++s){const o=e[s];i=i[o]||(i[o]=Object.create(null))}return i}function Sg(i,t,e){return typeof t=="string"?hc(nc(i,t),e):hc(nc(i,""),t)}class UD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Eg(r.backgroundColor),this.hoverBorderColor=(s,r)=>Eg(r.borderColor),this.hoverColor=(s,r)=>Eg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Sg(this,t,e)}get(t){return nc(this,t)}describe(t,e){return Sg(lm,t,e)}override(t,e){return Sg(ur,t,e)}route(t,e,s,r){const o=nc(this,t),c=nc(this,s),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[r];return Pt(f)?Object.assign({},g,f):Ct(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Te=new UD({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kD,zD,jD]);function HD(i){return!i||Xt(i.size)||Xt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function ab(i,t,e,s,r){let o=t[r];return o||(o=t[r]=i.measureText(r).width,e.push(r)),o>s&&(s=o),s}function $a(i,t,e){const s=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*s)/s+r}function rb(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function cm(i,t,e,s){Y1(i,t,e,s,null)}function Y1(i,t,e,s,r){let o,c,h,f,g,_,v,E;const S=t.pointStyle,w=t.rotation,x=t.radius;let M=(w||0)*vD;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(e,s),i.rotate(M),i.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),i.restore();return}if(!(isNaN(x)||x<=0)){switch(i.beginPath(),S){default:r?i.ellipse(e,s,r/2,x,0,0,li):i.arc(e,s,x,0,li),i.closePath();break;case"triangle":_=r?r/2:x,i.moveTo(e+Math.sin(M)*_,s-Math.cos(M)*x),M+=W0,i.lineTo(e+Math.sin(M)*_,s-Math.cos(M)*x),M+=W0,i.lineTo(e+Math.sin(M)*_,s-Math.cos(M)*x),i.closePath();break;case"rectRounded":g=x*.516,f=x-g,c=Math.cos(M+Xa)*f,v=Math.cos(M+Xa)*(r?r/2-g:f),h=Math.sin(M+Xa)*f,E=Math.sin(M+Xa)*(r?r/2-g:f),i.arc(e-v,s-h,g,M-He,M-oi),i.arc(e+E,s-c,g,M-oi,M),i.arc(e+v,s+h,g,M,M+oi),i.arc(e-E,s+c,g,M+oi,M+He),i.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*x,_=r?r/2:f,i.rect(e-_,s-f,2*_,2*f);break}M+=Xa;case"rectRot":v=Math.cos(M)*(r?r/2:x),c=Math.cos(M)*x,h=Math.sin(M)*x,E=Math.sin(M)*(r?r/2:x),i.moveTo(e-v,s-h),i.lineTo(e+E,s-c),i.lineTo(e+v,s+h),i.lineTo(e-E,s+c),i.closePath();break;case"crossRot":M+=Xa;case"cross":v=Math.cos(M)*(r?r/2:x),c=Math.cos(M)*x,h=Math.sin(M)*x,E=Math.sin(M)*(r?r/2:x),i.moveTo(e-v,s-h),i.lineTo(e+v,s+h),i.moveTo(e+E,s-c),i.lineTo(e-E,s+c);break;case"star":v=Math.cos(M)*(r?r/2:x),c=Math.cos(M)*x,h=Math.sin(M)*x,E=Math.sin(M)*(r?r/2:x),i.moveTo(e-v,s-h),i.lineTo(e+v,s+h),i.moveTo(e+E,s-c),i.lineTo(e-E,s+c),M+=Xa,v=Math.cos(M)*(r?r/2:x),c=Math.cos(M)*x,h=Math.sin(M)*x,E=Math.sin(M)*(r?r/2:x),i.moveTo(e-v,s-h),i.lineTo(e+v,s+h),i.moveTo(e+E,s-c),i.lineTo(e-E,s+c);break;case"line":c=r?r/2:Math.cos(M)*x,h=Math.sin(M)*x,i.moveTo(e-c,s-h),i.lineTo(e+c,s+h);break;case"dash":i.moveTo(e,s),i.lineTo(e+Math.cos(M)*(r?r/2:x),s+Math.sin(M)*x);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function dc(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Kh(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Xh(i){i.restore()}function FD(i,t,e,s,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else r==="after"!=!!s?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function qD(i,t,e,s){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function GD(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Xt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function YD(i,t,e,s,r){if(r.strikethrough||r.underline){const o=i.measureText(s),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(c,_),i.lineTo(h,_),i.stroke()}}function QD(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function gc(i,t,e,s,r,o={}){const c=Me(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(i.save(),i.font=r.string,GD(i,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&QD(i,o.backdrop),h&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Xt(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(g,e,s,o.maxWidth)),i.fillText(g,e,s,o.maxWidth),YD(i,e,s,g,o),s+=Number(r.lineHeight);i.restore()}function kh(i,t){const{x:e,y:s,w:r,h:o,radius:c}=t;i.arc(e+c.topLeft,s+c.topLeft,c.topLeft,1.5*He,He,!0),i.lineTo(e,s+o-c.bottomLeft),i.arc(e+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,He,oi,!0),i.lineTo(e+r-c.bottomRight,s+o),i.arc(e+r-c.bottomRight,s+o-c.bottomRight,c.bottomRight,oi,0,!0),i.lineTo(e+r,s+c.topRight),i.arc(e+r-c.topRight,s+c.topRight,c.topRight,0,-oi,!0),i.lineTo(e+c.topLeft,s)}const KD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $D(i,t){const e=(""+i).match(KD);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const WD=i=>+i||0;function Q1(i,t){const e={},s=Pt(t),r=s?Object.keys(t):t,o=Pt(i)?s?c=>Ct(i[c],i[t[c]]):c=>i[c]:()=>i;for(const c of r)e[c]=WD(o(c));return e}function K1(i){return Q1(i,{top:"y",right:"x",bottom:"y",left:"x"})}function uo(i){return Q1(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Jn(i){const t=K1(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(i,t){i=i||{},t=t||Te.font;let e=Ct(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Ct(i.style,t.style);s&&!(""+s).match(XD)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Ct(i.family,t.family),lineHeight:$D(Ct(i.lineHeight,t.lineHeight),e),size:e,style:s,weight:Ct(i.weight,t.weight),string:""};return r.string=HD(r),r}function sh(i,t,e,s){let r,o,c;for(r=0,o=i.length;r<o;++r)if(c=i[r],c!==void 0&&c!==void 0)return c}function ZD(i,t,e){const{min:s,max:r}=i,o=fD(t,(r-s)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(s,-Math.abs(o)),max:c(r,o)}}function hr(i,t){return Object.assign(Object.create(i),t)}function ap(i,t=[""],e,s,r=()=>i[0]){const o=e||i;typeof s>"u"&&(s=Z1("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:s,_getTarget:r,override:h=>ap([h,...i],t,o,s)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete i[0][f],!0},get(h,f){return $1(h,f,()=>rM(f,t,i,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,f){return lb(h).includes(f)},ownKeys(h){return lb(h)},set(h,f,g){const _=h._storage||(h._storage=r());return h[f]=_[f]=g,delete h._keys,!0}})}function So(i,t,e,s){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:X1(i,s),setContext:o=>So(i,o,e,s),override:o=>So(i.override(o),t,e,s)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete i[c],!0},get(o,c,h){return $1(o,c,()=>tM(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(o,c,h){return i[c]=h,delete o[c],!0}})}function X1(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:s,isScriptable:ma(e)?e:()=>e,isIndexable:ma(s)?s:()=>s}}const JD=(i,t)=>i?i+ep(t):t,rp=(i,t)=>Pt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function $1(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const s=e();return i[t]=s,s}function tM(i,t,e){const{_proxy:s,_context:r,_subProxy:o,_descriptors:c}=i;let h=s[t];return ma(h)&&c.isScriptable(t)&&(h=eM(t,h,i,e)),Me(h)&&h.length&&(h=nM(t,h,i,c.isIndexable)),rp(t,h)&&(h=So(h,r,o&&o[t],c)),h}function eM(i,t,e,s){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let f=t(o,c||s);return h.delete(i),rp(i,f)&&(f=op(r._scopes,r,i,f)),f}function nM(i,t,e,s){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&s(i))return t[o.index%t.length];if(Pt(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const v=op(g,r,i,_);t.push(So(v,o,c&&c[i],h))}}return t}function W1(i,t,e){return ma(i)?i(t,e):i}const iM=(i,t)=>i===!0?t:typeof i=="string"?To(t,i):void 0;function sM(i,t,e,s,r){for(const o of t){const c=iM(e,o);if(c){i.add(c);const h=W1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(c===!1&&typeof s<"u"&&e!==s)return null}return!1}function op(i,t,e,s){const r=t._rootScopes,o=W1(t._fallback,e,s),c=[...i,...r],h=new Set;h.add(s);let f=ob(h,c,e,o||e,s);return f===null||typeof o<"u"&&o!==e&&(f=ob(h,c,o,f,s),f===null)?!1:ap(Array.from(h),[""],r,o,()=>aM(t,e,s))}function ob(i,t,e,s,r){for(;e;)e=sM(i,t,e,s,r);return e}function aM(i,t,e){const s=i._getTarget();t in s||(s[t]={});const r=s[t];return Me(r)&&Pt(e)?e:r||{}}function rM(i,t,e,s){let r;for(const o of t)if(r=Z1(JD(o,i),e),typeof r<"u")return rp(i,r)?op(e,s,i,r):r}function Z1(i,t){for(const e of t){if(!e)continue;const s=e[i];if(typeof s<"u")return s}}function lb(i){let t=i._keys;return t||(t=i._keys=oM(i._scopes)),t}function oM(i){const t=new Set;for(const e of i)for(const s of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}const lM=Number.EPSILON||1e-14,xo=(i,t)=>t<i.length&&!i[t].skip&&i[t],J1=i=>i==="x"?"y":"x";function cM(i,t,e,s){const r=i.skip?t:i,o=t,c=e.skip?t:e,h=om(o,r),f=om(c,o);let g=h/(h+f),_=f/(h+f);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const v=s*g,E=s*_;return{previous:{x:o.x-v*(c.x-r.x),y:o.y-v*(c.y-r.y)},next:{x:o.x+E*(c.x-r.x),y:o.y+E*(c.y-r.y)}}}function uM(i,t,e){const s=i.length;let r,o,c,h,f,g=xo(i,0);for(let _=0;_<s-1;++_)if(f=g,g=xo(i,_+1),!(!f||!g)){if(tc(t[_],0,lM)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function hM(i,t,e="x"){const s=J1(e),r=i.length;let o,c,h,f=xo(i,0);for(let g=0;g<r;++g){if(c=h,h=f,f=xo(i,g+1),!h)continue;const _=h[e],v=h[s];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${s}`]=v-o*t[g]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${s}`]=v+o*t[g])}}function fM(i,t="x"){const e=J1(t),s=i.length,r=Array(s).fill(0),o=Array(s);let c,h,f,g=xo(i,0);for(c=0;c<s;++c)if(h=f,f=g,g=xo(i,c+1),!!f){if(g){const _=g[t]-f[t];r[c]=_!==0?(g[e]-f[e])/_:0}o[c]=h?g?Oi(r[c-1])!==Oi(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}uM(i,r,o),hM(i,o,t)}function ah(i,t,e){return Math.max(Math.min(i,e),t)}function dM(i,t){let e,s,r,o,c,h=dc(i[0],t);for(e=0,s=i.length;e<s;++e)c=o,o=h,h=e<s-1&&dc(i[e+1],t),o&&(r=i[e],c&&(r.cp1x=ah(r.cp1x,t.left,t.right),r.cp1y=ah(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=ah(r.cp2x,t.left,t.right),r.cp2y=ah(r.cp2y,t.top,t.bottom)))}function gM(i,t,e,s,r){let o,c,h,f;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")fM(i,r);else{let g=s?i[i.length-1]:i[0];for(o=0,c=i.length;o<c;++o)h=i[o],f=cM(g,h,i[Math.min(o+1,c-(s?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&dM(i,e)}function lp(){return typeof window<"u"&&typeof document<"u"}function cp(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zh(i,t,e){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=i,s}const $h=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function mM(i,t){return $h(i).getPropertyValue(t)}const pM=["top","right","bottom","left"];function rr(i,t,e){const s={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=pM[r];s[o]=parseFloat(i[t+"-"+o+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const _M=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function yM(i,t){const e=i.touches,s=e&&e.length?e[0]:i,{offsetX:r,offsetY:o}=s;let c=!1,h,f;if(_M(r,o,i.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=s.clientX-g.left,f=s.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Ja(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:s}=t,r=$h(e),o=r.boxSizing==="border-box",c=rr(r,"padding"),h=rr(r,"border","width"),{x:f,y:g,box:_}=yM(i,e),v=c.left+(_&&h.left),E=c.top+(_&&h.top);let{width:S,height:w}=t;return o&&(S-=c.width+h.width,w-=c.height+h.height),{x:Math.round((f-v)/S*e.width/s),y:Math.round((g-E)/w*e.height/s)}}function vM(i,t,e){let s,r;if(t===void 0||e===void 0){const o=i&&cp(i);if(!o)t=i.clientWidth,e=i.clientHeight;else{const c=o.getBoundingClientRect(),h=$h(o),f=rr(h,"border","width"),g=rr(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,s=zh(h.maxWidth,o,"clientWidth"),r=zh(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:s||Vh,maxHeight:r||Vh}}const ra=i=>Math.round(i*10)/10;function bM(i,t,e,s){const r=$h(i),o=rr(r,"margin"),c=zh(r.maxWidth,i,"clientWidth")||Vh,h=zh(r.maxHeight,i,"clientHeight")||Vh,f=vM(i,t,e);let{width:g,height:_}=f;if(r.boxSizing==="content-box"){const E=rr(r,"border","width"),S=rr(r,"padding");g-=S.width+E.width,_-=S.height+E.height}return g=Math.max(0,g-o.width),_=Math.max(0,s?g/s:_-o.height),g=ra(Math.min(g,c,f.maxWidth)),_=ra(Math.min(_,h,f.maxHeight)),g&&!_&&(_=ra(g/2)),(t!==void 0||e!==void 0)&&s&&f.height&&_>f.height&&(_=f.height,g=ra(Math.floor(_*s))),{width:g,height:_}}function cb(i,t,e){const s=t||1,r=ra(i.height*s),o=ra(i.width*s);i.height=ra(i.height),i.width=ra(i.width);const c=i.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||c.height!==r||c.width!==o?(i.currentDevicePixelRatio=s,c.height=r,c.width=o,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const TM=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};lp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function ub(i,t){const e=mM(i,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function tr(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function EM(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:s==="middle"?e<.5?i.y:t.y:s==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function SM(i,t,e,s){const r={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},c=tr(i,r,e),h=tr(r,o,e),f=tr(o,t,e),g=tr(c,h,e),_=tr(h,f,e);return tr(g,_,e)}const xM=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},AM=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function ho(i,t,e){return i?xM(t,e):AM()}function tE(i,t){let e,s;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=s)}function eE(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function nE(i){return i==="angle"?{between:L1,compare:wD,normalize:Ci}:{between:aa,compare:(t,e)=>t-e,normalize:t=>t}}function hb({start:i,end:t,count:e,loop:s,style:r}){return{start:i%e,end:t%e,loop:s&&(t-i+1)%e===0,style:r}}function wM(i,t,e){const{property:s,start:r,end:o}=e,{between:c,normalize:h}=nE(s),f=t.length;let{start:g,end:_,loop:v}=i,E,S;if(v){for(g+=f,_+=f,E=0,S=f;E<S&&c(h(t[g%f][s]),r,o);++E)g--,_--;g%=f,_%=f}return _<g&&(_+=f),{start:g,end:_,loop:v,style:i.style}}function iE(i,t,e){if(!e)return[i];const{property:s,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:g}=nE(s),{start:_,end:v,loop:E,style:S}=wM(i,t,e),w=[];let x=!1,M=null,U,L,Z;const F=()=>f(r,Z,U)&&h(r,Z)!==0,$=()=>h(o,U)===0||f(o,Z,U),it=()=>x||F(),D=()=>!x||$();for(let C=_,O=_;C<=v;++C)L=t[C%c],!L.skip&&(U=g(L[s]),U!==Z&&(x=f(U,r,o),M===null&&it()&&(M=h(U,r)===0?C:O),M!==null&&D()&&(w.push(hb({start:M,end:C,loop:E,count:c,style:S})),M=null),O=C,Z=U));return M!==null&&w.push(hb({start:M,end:v,loop:E,count:c,style:S})),w}function sE(i,t){const e=[],s=i.segments;for(let r=0;r<s.length;r++){const o=iE(s[r],i.points,t);o.length&&e.push(...o)}return e}function RM(i,t,e,s){let r=0,o=t-1;if(e&&!s)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&i[o%t].skip;)o--;return o%=t,{start:r,end:o}}function CM(i,t,e,s){const r=i.length,o=[];let c=t,h=i[t],f;for(f=t+1;f<=e;++f){const g=i[f%r];g.skip||g.stop?h.skip||(s=!1,o.push({start:t%r,end:(f-1)%r,loop:s}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&o.push({start:t%r,end:c%r,loop:s}),o}function DM(i,t){const e=i.points,s=i.options.spanGaps,r=e.length;if(!r)return[];const o=!!i._loop,{start:c,end:h}=RM(e,r,o,s);if(s===!0)return fb(i,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,g=!!i._fullLoop&&c===0&&h===r-1;return fb(i,CM(e,c,f,g),e,t)}function fb(i,t,e,s){return!s||!s.setContext||!e?t:MM(i,t,e,s)}function MM(i,t,e,s){const r=i._chart.getContext(),o=db(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,f=e.length,g=[];let _=o,v=t[0].start,E=v;function S(w,x,M,U){const L=h?-1:1;if(w!==x){for(w+=f;e[w%f].skip;)w-=L;for(;e[x%f].skip;)x+=L;w%f!==x%f&&(g.push({start:w%f,end:x%f,loop:M,style:U}),_=U,v=x%f)}}for(const w of t){v=h?v:w.start;let x=e[v%f],M;for(E=v+1;E<=w.end;E++){const U=e[E%f];M=db(s.setContext(hr(r,{type:"segment",p0:x,p1:U,p0DataIndex:(E-1)%f,p1DataIndex:E%f,datasetIndex:c}))),OM(M,_)&&S(v,E-1,w.loop,_),x=U,_=M}v<E-1&&S(v,E-1,w.loop,_)}return g}function db(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function OM(i,t){if(!t)return!1;const e=[],s=function(r,o){return sp(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,s)!==JSON.stringify(t,s)}function rh(i,t,e){return i.options.clip?i[e]:t[e]}function IM(i,t){const{xScale:e,yScale:s}=i;return e&&s?{left:rh(e,t,"left"),right:rh(e,t,"right"),top:rh(s,t,"top"),bottom:rh(s,t,"bottom")}:t}function aE(i,t){const e=t._clip;if(e.disabled)return!1;const s=IM(t,i.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:s.bottom+(e.bottom===!0?0:e.bottom)}}class NM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(s-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=j1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,s,t,"progress")),o.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cs=new NM;const gb="transparent",VM={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const s=ib(i||gb),r=s.valid&&ib(t||gb);return r&&r.valid?r.mix(s,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class kM{constructor(t,e,s,r){const o=e[s];r=sh([t.to,r,o,t.from]);const c=sh([t.from,o,r]);this._active=!0,this._fn=t.fn||VM[t.type||typeof c],this._easing=ec[t.easing]||ec.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=sh([t.to,e,r,t.from]),this._from=sh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<s),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][e]()}}class rE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Pt(t))return;const e=Object.keys(Te.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Pt(o))return;const c={};for(const h of e)c[h]=o[h];(Me(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,c)})})}_animateOptions(t,e){const s=e.options,r=LM(t,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&zM(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,e){const s=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let v=o[g];const E=s.get(g);if(v)if(E&&v.active()){v.update(E,_,h);continue}else v.cancel();if(!E||!E.duration){t[g]=_;continue}o[g]=v=new kM(E,t,g,_),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return cs.add(this._chart,s),!0}}function zM(i,t){const e=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const o=i[s[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function LM(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function mb(i,t){const e=i&&i.options||{},s=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:s?o:r,end:s?r:o}}function PM(i,t,e){if(e===!1)return!1;const s=mb(i,e),r=mb(t,e);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function BM(i){let t,e,s,r;return Pt(i)?(t=i.top,e=i.right,s=i.bottom,r=i.left):t=e=s=r=i,{top:t,right:e,bottom:s,left:r,disabled:i===!1}}function oE(i,t){const e=[],s=i._getSortedDatasetMetas(t);let r,o;for(r=0,o=s.length;r<o;++r)e.push(s[r].index);return e}function pb(i,t,e,s={}){const r=i.keys,o=s.mode==="single";let c,h,f,g;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,s.all)continue;break}g=i.values[f],hn(g)&&(o||t===0||Oi(t)===Oi(g))&&(t+=g)}return!_&&!s.all?0:t}function jM(i,t){const{iScale:e,vScale:s}=t,r=e.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let f,g,_;for(f=0,g=c.length;f<g;++f)_=c[f],h[f]={[r]:_,[o]:i[_]};return h}function xg(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function UM(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function HM(i){const{min:t,max:e,minDefined:s,maxDefined:r}=i.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function FM(i,t,e){const s=i[t]||(i[t]={});return s[e]||(s[e]={})}function _b(i,t,e,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const o=i[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function yb(i,t){const{chart:e,_cachedMeta:s}=i,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=s,f=o.axis,g=c.axis,_=UM(o,c,s),v=t.length;let E;for(let S=0;S<v;++S){const w=t[S],{[f]:x,[g]:M}=w,U=w._stacks||(w._stacks={});E=U[g]=FM(r,_,x),E[h]=M,E._top=_b(E,c,!0,s.type),E._bottom=_b(E,c,!1,s.type);const L=E._visualValues||(E._visualValues={});L[h]=M}}function Ag(i,t){const e=i.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function qM(i,t){return hr(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function GM(i,t,e){return hr(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ll(i,t){const e=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){t=t||i._parsed;for(const r of t){const o=r._stacks;if(!o||o[s]===void 0||o[s][e]===void 0)return;delete o[s][e],o[s]._visualValues!==void 0&&o[s]._visualValues[e]!==void 0&&delete o[s]._visualValues[e]}}}const wg=i=>i==="reset"||i==="none",vb=(i,t)=>t?i:Object.assign({},i),YM=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:oE(e,!0),values:null};class Wh{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=xg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ll(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),r=(v,E,S,w)=>v==="x"?E:v==="r"?w:S,o=e.xAxisID=Ct(s.xAxisID,Ag(t,"x")),c=e.yAxisID=Ct(s.yAxisID,Ag(t,"y")),h=e.rAxisID=Ct(s.rAxisID,Ag(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&tb(this._data,this),t._stacked&&Ll(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Pt(e)){const r=this._cachedMeta;this._data=jM(e,r)}else if(s!==e){if(s){tb(s,this);const r=this._cachedMeta;Ll(r),r._parsed=[]}e&&Object.isExtensible(e)&&MD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=xg(e.vScale,e),e.stack!==s.stack&&(r=!0,Ll(e),e.stack=s.stack),this._resyncElements(t),(r||o!==e._stacked)&&(yb(this,e._parsed),e._stacked=xg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:c}=s,h=o.axis;let f=t===0&&e===r.length?!0:s._sorted,g=t>0&&s._parsed[t-1],_,v,E;if(this._parsing===!1)s._parsed=r,s._sorted=!0,E=r;else{Me(r[t])?E=this.parseArrayData(s,r,t,e):Pt(r[t])?E=this.parseObjectData(s,r,t,e):E=this.parsePrimitiveData(s,r,t,e);const S=()=>v[h]===null||g&&v[h]<g[h];for(_=0;_<e;++_)s._parsed[_+t]=v=E[_],f&&(S()&&(f=!1),g=v);s._sorted=f}c&&yb(this,E)}parsePrimitiveData(t,e,s,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),_=o===c,v=new Array(r);let E,S,w;for(E=0,S=r;E<S;++E)w=E+s,v[E]={[h]:_||o.parse(g[w],w),[f]:c.parse(e[w],w)};return v}parseArrayData(t,e,s,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,g,_,v;for(f=0,g=r;f<g;++f)_=f+s,v=e[_],h[f]={x:o.parse(v[0],_),y:c.parse(v[1],_)};return h}parseObjectData(t,e,s,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,v,E,S;for(_=0,v=r;_<v;++_)E=_+s,S=e[E],g[_]={x:o.parse(To(S,h),E),y:c.parse(To(S,f),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:oE(r,!0),values:e._stacks[t.axis]._visualValues};return pb(h,c,o.index,{mode:s})}updateRangeFromParsed(t,e,s,r){const o=s[e.axis];let c=o===null?NaN:o;const h=r&&s._stacks[e.axis];r&&h&&(r.values=h,c=pb(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&t===s.iScale,c=r.length,h=this._getOtherScale(t),f=YM(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=HM(h);let E,S;function w(){S=r[E];const x=S[h.axis];return!hn(S[t.axis])||_>x||v<x}for(E=0;E<c&&!(!w()&&(this.updateRangeFromParsed(g,t,S,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!w()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],hn(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=BM(Ct(this.options.clip,PM(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,r=s.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(s.dataset&&s.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const v=r[_];v.hidden||(v.active&&g?c.push(v):v.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=GM(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=qM(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&fc(s);if(h)return vb(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),_),S=Object.keys(Te.elements[t]),w=()=>this.getContext(s,r,e),x=g.resolveNamedOptions(E,S,w,v);return x.$shared&&(x.$shared=f,o[c]=Object.freeze(vb(x,f))),x}_resolveAnimations(t,e,s){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),E=_.getOptionScopes(this.getDataset(),v);f=_.createResolver(E,this.getContext(t,s,e))}const g=new rE(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||wg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,s),{sharedOptions:o,includeOptions:c}}updateElement(t,e,s,r){wg(r)?Object.assign(t,s):this._resolveAnimations(e,r).update(t,s)}updateSharedOptions(t,e,s){t&&!wg(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,s,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=s.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,s=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),s&&this.updateElements(o,t,e,"reset")}updateElements(t,e,s,r){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,e);s._stacked&&Ll(s,r)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,r]=t;this[e](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function QM(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let s=[];for(let r=0,o=e.length;r<o;r++)s=s.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=B1(s.sort((r,o)=>r-o))}return i._cache.$bar}function KM(i){const t=i.iScale,e=QM(t,i.type);let s=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(fc(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return s}function XM(i,t,e,s){const r=e.barThickness;let o,c;return Xt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*s,c=1),{chunk:o/s,ratio:c,start:t.pixels[i]-o/2}}function $M(i,t,e,s){const r=t.pixels,o=r[i];let c=i>0?r[i-1]:null,h=i<r.length-1?r[i+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/s,ratio:e.barPercentage,start:g}}function WM(i,t,e,s){const r=e.parse(i[0],s),o=e.parse(i[1],s),c=Math.min(r,o),h=Math.max(r,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:c,max:h}}function lE(i,t,e,s){return Me(i)?WM(i,t,e,s):t[e.axis]=e.parse(i,s),t}function bb(i,t,e,s){const r=i.iScale,o=i.vScale,c=r.getLabels(),h=r===o,f=[];let g,_,v,E;for(g=e,_=e+s;g<_;++g)E=t[g],v={},v[r.axis]=h||r.parse(c[g],g),f.push(lE(E,v,o,g));return f}function Rg(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function ZM(i,t,e){return i!==0?Oi(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function JM(i){let t,e,s,r,o;return i.horizontal?(t=i.base>i.x,e="left",s="right"):(t=i.base<i.y,e="bottom",s="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:s,reverse:t,top:r,bottom:o}}function tO(i,t,e,s){let r=t.borderSkipped;const o={};if(!r){i.borderSkipped=o;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:_}=JM(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===s?r=g:(e._bottom||0)===s?r=_:(o[Tb(_,c,h,f)]=!0,r=g)),o[Tb(r,c,h,f)]=!0,i.borderSkipped=o}function Tb(i,t,e,s){return s?(i=eO(i,t,e),i=Eb(i,e,t)):i=Eb(i,t,e),i}function eO(i,t,e){return i===t?e:i===e?t:i}function Eb(i,t,e){return i==="start"?t:i==="end"?e:i}function nO(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class iO extends Wh{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,s,r){return bb(t,e,s,r)}parseArrayData(t,e,s,r){return bb(t,e,s,r)}parseObjectData(t,e,s,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,_=c.axis==="x"?h:f,v=[];let E,S,w,x;for(E=s,S=s+r;E<S;++E)x=e[E],w={},w[o.axis]=o.parse(To(x,g),E),v.push(lE(To(x,_),w,c,E));return v}updateRangeFromParsed(t,e,s,r){super.updateRangeFromParsed(t,e,s,r);const o=s._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Rg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),_=this._getRuler(),{sharedOptions:v,includeOptions:E}=this._getSharedOptions(e,r);for(let S=e;S<e+s;S++){const w=this.getParsed(S),x=o||Xt(w[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),M=this._calculateBarIndexPixels(S,_),U=(w._stacks||{})[h.axis],L={horizontal:g,base:x.base,enableBorderRadius:!U||Rg(w._custom)||c===U._top||c===U._bottom,x:g?x.head:M.center,y:g?M.center:x.head,height:g?M.size:Math.abs(x.size),width:g?Math.abs(x.size):M.size};E&&(L.options=v||this.resolveDataElementOptions(S,t[S].active?"active":r));const Z=L.options||t[S].options;tO(L,Z,U,c),nO(L,Z,_.ratio),this.updateElement(t[S],S,L,r)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[s.axis],g=_=>{const v=_._parsed.find(S=>S[s.axis]===f),E=v&&v[_.vScale.axis];if(Xt(E)||isNaN(E))return!0};for(const _ of r)if(!(e!==void 0&&g(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Ct(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const r=this._getStacks(t,s),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const h=t.barThickness;return{min:h||KM(e),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,_=Rg(g);let v=f[e.axis],E=0,S=s?this.applyStack(e,f,s):v,w,x;S!==v&&(E=S-v,S=v),_&&(v=g.barStart,S=g.barEnd-g.barStart,v!==0&&Oi(v)!==Oi(g.barEnd)&&(E=0),E+=v);const M=!Xt(o)&&!_?o:E;let U=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(E+S):w=U,x=w-U,Math.abs(x)<c){x=ZM(x,e,h)*c,v===h&&(U-=x/2);const L=e.getPixelForDecimal(0),Z=e.getPixelForDecimal(1),F=Math.min(L,Z),$=Math.max(L,Z);U=Math.max(Math.min(U,$),F),w=U+x,s&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(w)-e.getValueForPixel(U))}if(U===e.getPixelForValue(h)){const L=Oi(x)*e.getLineWidthForValue(h)/2;U+=L,x-=L}return{size:x,base:U,head:w,center:w+x/2}}_calculateBarIndexPixels(t,e){const s=e.scale,r=this.options,o=r.skipNull,c=Ct(r.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?$M(t,e,r,_*g):XM(t,e,r,_*g),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Ct(E,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=v.start+v.chunk*w+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else h=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,r=s.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}class sO extends Wh{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=H1(e,r,c);this._drawStart=h,this._drawCount=f,F1(e)&&(h=0,f=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:g},t),this.updateElements(r,h,f,t)}updateElements(t,e,s,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,r),E=c.axis,S=h.axis,{spanGaps:w,segment:x}=this.options,M=Eo(w)?w:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||r==="none",L=e+s,Z=t.length;let F=e>0&&this.getParsed(e-1);for(let $=0;$<Z;++$){const it=t[$],D=U?it:{};if($<e||$>=L){D.skip=!0;continue}const C=this.getParsed($),O=Xt(C[S]),V=D[E]=c.getPixelForValue(C[E],$),I=D[S]=o||O?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,C,f):C[S],$);D.skip=isNaN(V)||isNaN(I)||O,D.stop=$>0&&Math.abs(C[E]-F[E])>M,x&&(D.parsed=C,D.raw=g.data[$]),v&&(D.options=_||this.resolveDataElementOptions($,it.active?"active":r)),U||this.updateElement(it,$,D,r),F=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class aO extends Wh{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=e,c=this.getParsed(t),h=r.getLabelForValue(c.x),f=o.getLabelForValue(c.y);return{label:s[t]||"",value:"("+h+", "+f+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:c}=H1(e,s,r);if(this._drawStart=o,this._drawCount=c,F1(e)&&(o=0,c=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=s;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!r,options:g},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,_=this.resolveDataElementOptions(e,r),v=this.getSharedOptions(_),E=this.includeOptions(r,v),S=c.axis,w=h.axis,{spanGaps:x,segment:M}=this.options,U=Eo(x)?x:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none";let Z=e>0&&this.getParsed(e-1);for(let F=e;F<e+s;++F){const $=t[F],it=this.getParsed(F),D=L?$:{},C=Xt(it[w]),O=D[S]=c.getPixelForValue(it[S],F),V=D[w]=o||C?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,it,f):it[w],F);D.skip=isNaN(O)||isNaN(V)||C,D.stop=F>0&&Math.abs(it[S]-Z[S])>U,M&&(D.parsed=it,D.raw=g.data[F]),E&&(D.options=v||this.resolveDataElementOptions(F,$.active?"active":r)),L||this.updateElement($,F,D,r),Z=it}this.updateSharedOptions(v,r,_)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let f=e.length-1;f>=0;--f)h=Math.max(h,e[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const s=t.dataset,r=s.options&&s.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),c=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,c)/2}}function Wa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class up{static override(t){Object.assign(up.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Wa()}parse(){return Wa()}format(){return Wa()}add(){return Wa()}diff(){return Wa()}startOf(){return Wa()}endOf(){return Wa()}}var rO={_date:up};function oO(i,t,e,s){const{controller:r,data:o,_sorted:c}=i,h=r._cachedMeta.iScale,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?CD:ir;if(s){if(r._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const E=g(o,t,e-v),S=g(o,t,e+v);return{lo:E.lo,hi:S.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:E}=i,S=E.slice(0,_.lo+1).reverse().findIndex(x=>!Xt(x[v.axis]));_.lo-=Math.max(0,S);const w=E.slice(_.hi).findIndex(x=>!Xt(x[v.axis]));_.hi+=Math.max(0,w)}return _}}return{lo:0,hi:o.length-1}}function Zh(i,t,e,s,r){const o=i.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:v,hi:E}=oO(o[h],t,c,r);for(let S=v;S<=E;++S){const w=_[S];w.skip||s(w,g,S)}}}function lO(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(s,r){const o=t?Math.abs(s.x-r.x):0,c=e?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Cg(i,t,e,s,r){const o=[];return!r&&!i.isPointInArea(t)||Zh(i,e,t,function(h,f,g){!r&&!dc(h,i.chartArea,0)||h.inRange(t.x,t.y,s)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function cO(i,t,e,s){let r=[];function o(c,h,f){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],s),{angle:v}=AD(c,{x:t.x,y:t.y});L1(v,g,_)&&r.push({element:c,datasetIndex:h,index:f})}return Zh(i,e,t,o),r}function uO(i,t,e,s,r,o){let c=[];const h=lO(e);let f=Number.POSITIVE_INFINITY;function g(_,v,E){const S=_.inRange(t.x,t.y,r);if(s&&!S)return;const w=_.getCenterPoint(r);if(!(!!o||i.isPointInArea(w))&&!S)return;const M=h(t,w);M<f?(c=[{element:_,datasetIndex:v,index:E}],f=M):M===f&&c.push({element:_,datasetIndex:v,index:E})}return Zh(i,e,t,g),c}function Dg(i,t,e,s,r,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!s?cO(i,t,e,r):uO(i,t,e,s,r,o)}function Sb(i,t,e,s,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Zh(i,e,t,(f,g,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,r))}),s&&!h?[]:o}var hO={modes:{index(i,t,e,s){const r=Ja(t,i),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Cg(i,r,o,s,c):Dg(i,r,o,!1,s,c),f=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,v=g.data[_];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:_})}),f):[]},dataset(i,t,e,s){const r=Ja(t,i),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Cg(i,r,o,s,c):Dg(i,r,o,!1,s,c);if(h.length>0){const f=h[0].datasetIndex,g=i.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(i,t,e,s){const r=Ja(t,i),o=e.axis||"xy",c=e.includeInvisible||!1;return Cg(i,r,o,s,c)},nearest(i,t,e,s){const r=Ja(t,i),o=e.axis||"xy",c=e.includeInvisible||!1;return Dg(i,r,o,e.intersect,s,c)},x(i,t,e,s){const r=Ja(t,i);return Sb(i,r,"x",e.intersect,s)},y(i,t,e,s){const r=Ja(t,i);return Sb(i,r,"y",e.intersect,s)}}};const cE=["left","top","right","bottom"];function Pl(i,t){return i.filter(e=>e.pos===t)}function xb(i,t){return i.filter(e=>cE.indexOf(e.pos)===-1&&e.box.axis===t)}function Bl(i,t){return i.sort((e,s)=>{const r=t?s:e,o=t?e:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function fO(i){const t=[];let e,s,r,o,c,h;for(e=0,s=(i||[]).length;e<s;++e)r=i[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function dO(i){const t={};for(const e of i){const{stack:s,pos:r,stackWeight:o}=e;if(!s||!cE.includes(r))continue;const c=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function gO(i,t){const e=dO(i),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=i.length;o<c;++o){h=i[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*s:f&&t.availableWidth,h.height=r):(h.width=s,h.height=_?_*r:f&&t.availableHeight)}return e}function mO(i){const t=fO(i),e=Bl(t.filter(g=>g.box.fullSize),!0),s=Bl(Pl(t,"left"),!0),r=Bl(Pl(t,"right")),o=Bl(Pl(t,"top"),!0),c=Bl(Pl(t,"bottom")),h=xb(t,"x"),f=xb(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Pl(t,"chartArea"),vertical:s.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function Ab(i,t,e,s){return Math.max(i[e],t[e])+Math.max(i[s],t[s])}function uE(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function pO(i,t,e,s){const{pos:r,box:o}=e,c=i.maxPadding;if(!Pt(r)){e.size&&(i[r]-=e.size);const v=s[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,i[r]+=e.size}o.getPadding&&uE(c,o.getPadding());const h=Math.max(0,t.outerWidth-Ab(c,i,"left","right")),f=Math.max(0,t.outerHeight-Ab(c,i,"top","bottom")),g=h!==i.w,_=f!==i.h;return i.w=h,i.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function _O(i){const t=i.maxPadding;function e(s){const r=Math.max(t[s]-i[s],0);return i[s]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function yO(i,t){const e=t.maxPadding;function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return s(i?["left","right"]:["top","bottom"])}function Ql(i,t,e,s){const r=[];let o,c,h,f,g,_;for(o=0,c=i.length,g=0;o<c;++o){h=i[o],f=h.box,f.update(h.width||t.w,h.height||t.h,yO(h.horizontal,t));const{same:v,other:E}=pO(t,e,h,s);g|=v&&r.length,_=_||E,f.fullSize||r.push(h)}return g&&Ql(r,t,e,s)||_}function oh(i,t,e,s,r){i.top=e,i.left=t,i.right=t+s,i.bottom=e+r,i.width=s,i.height=r}function wb(i,t,e,s){const r=e.padding;let{x:o,y:c}=t;for(const h of i){const f=h.box,g=s[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*_,E=g.size||f.height;fc(g.start)&&(c=g.start),f.fullSize?oh(f,r.left,c,e.outerWidth-r.right-r.left,E):oh(f,t.left+g.placed,c,v,E),g.start=c,g.placed+=v,c=f.bottom}else{const v=t.h*_,E=g.size||f.width;fc(g.start)&&(o=g.start),f.fullSize?oh(f,o,r.top,E,e.outerHeight-r.bottom-r.top):oh(f,o,t.top+g.placed,E,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=c}var Zn={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,s){if(!i)return;const r=Jn(i.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=mO(i.boxes),f=h.vertical,g=h.horizontal;te(i.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const _=f.reduce((x,M)=>M.box.options&&M.box.options.display===!1?x:x+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),E=Object.assign({},r);uE(E,Jn(s));const S=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),w=gO(f.concat(g),v);Ql(h.fullSize,S,v,w),Ql(f,S,v,w),Ql(g,S,v,w)&&Ql(f,S,v,w),_O(S),wb(h.leftAndTop,S,v,w),S.x+=S.w,S.y+=S.h,wb(h.rightAndBottom,S,v,w),i.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},te(h.chartArea,x=>{const M=x.box;Object.assign(M,i.chartArea),M.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class hE{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,r){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):s)}}isAttached(t){return!0}updateConfig(t){}}class vO extends hE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const bh="$chartjs",bO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Rb=i=>i===null||i==="";function TO(i,t){const e=i.style,s=i.getAttribute("height"),r=i.getAttribute("width");if(i[bh]={initial:{height:s,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Rb(r)){const o=ub(i,"width");o!==void 0&&(i.width=o)}if(Rb(s))if(i.style.height==="")i.height=i.width/(t||2);else{const o=ub(i,"height");o!==void 0&&(i.height=o)}return i}const fE=TM?{passive:!0}:!1;function EO(i,t,e){i&&i.addEventListener(t,e,fE)}function SO(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,fE)}function xO(i,t){const e=bO[i.type]||i.type,{x:s,y:r}=Ja(i,t);return{type:e,chart:t,native:i,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Lh(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function AO(i,t,e){const s=i.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Lh(h.addedNodes,s),c=c&&!Lh(h.removedNodes,s);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function wO(i,t,e){const s=i.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Lh(h.removedNodes,s),c=c&&!Lh(h.addedNodes,s);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const mc=new Map;let Cb=0;function dE(){const i=window.devicePixelRatio;i!==Cb&&(Cb=i,mc.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function RO(i,t){mc.size||window.addEventListener("resize",dE),mc.set(i,t)}function CO(i){mc.delete(i),mc.size||window.removeEventListener("resize",dE)}function DO(i,t,e){const s=i.canvas,r=s&&cp(s);if(!r)return;const o=U1((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(r),RO(i,o),c}function Mg(i,t,e){e&&e.disconnect(),t==="resize"&&CO(i)}function MO(i,t,e){const s=i.canvas,r=U1(o=>{i.ctx!==null&&e(xO(o,i))},i);return EO(s,t,r),r}class OO extends hE{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(TO(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[bh])return!1;const s=e[bh].initial;["height","width"].forEach(o=>{const c=s[o];Xt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=s.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[bh],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:AO,detach:wO,resize:DO}[e]||MO;r[e]=c(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),r=s[e];if(!r)return;({attach:Mg,detach:Mg,resize:Mg}[e]||SO)(t,e,r),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,r){return bM(t,e,s,r)}isAttached(t){const e=t&&cp(t);return!!(e&&e.isConnected)}}function IO(i){return!lp()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?vO:OO}class _a{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Eo(this.x)&&Eo(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const r={};return t.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}}function NO(i,t){const e=i.options.ticks,s=VO(i),r=Math.min(e.maxTicksLimit||s,s),o=e.major.enabled?zO(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>r)return LO(t,g,o,c/r),g;const _=kO(o,t,r);if(c>0){let v,E;const S=c>1?Math.round((f-h)/(c-1)):null;for(lh(t,g,_,Xt(S)?0:h-S,h),v=0,E=c-1;v<E;v++)lh(t,g,_,o[v],o[v+1]);return lh(t,g,_,f,Xt(S)?t.length:f+S),g}return lh(t,g,_),g}function VO(i){const t=i.options.offset,e=i._tickSize(),s=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(s,r))}function kO(i,t,e){const s=PO(i),r=t.length/e;if(!s)return Math.max(r,1);const o=bD(s);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function zO(i){const t=[];let e,s;for(e=0,s=i.length;e<s;e++)i[e].major&&t.push(e);return t}function LO(i,t,e,s){let r=0,o=e[0],c;for(s=Math.ceil(s),c=0;c<i.length;c++)c===o&&(t.push(i[c]),r++,o=e[r*s])}function lh(i,t,e,s,r){const o=Ct(s,0),c=Math.min(Ct(r,i.length),i.length);let h=0,f,g,_;for(e=Math.ceil(e),r&&(f=r-s,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(i[g]),h++,_=Math.round(o+h*e))}function PO(i){const t=i.length;let e,s;if(t<2)return!1;for(s=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==s)return!1;return s}const BO=i=>i==="left"?"right":i==="right"?"left":i,Db=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Mb=(i,t)=>Math.min(t||i,i);function Ob(i,t){const e=[],s=i.length/t,r=i.length;let o=0;for(;o<r;o+=s)e.push(i[Math.floor(o)]);return e}function jO(i,t,e){const s=i.ticks.length,r=Math.min(t,s-1),o=i._startPixel,c=i._endPixel,h=1e-6;let f=i.getPixelForTick(r),g;if(!(e&&(s===1?g=Math.max(f-o,c-f):t===0?g=(i.getPixelForTick(1)-f)/2:g=(f-i.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>c+h)))return f}function UO(i,t){te(i,e=>{const s=e.gc,r=s.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[s[o]];s.splice(0,r)}})}function jl(i){return i.drawTicks?i.tickLength:0}function Ib(i,t){if(!i.display)return 0;const e=un(i.font,t),s=Jn(i.padding);return(Me(i.text)?i.text.length:1)*e.lineHeight+s.height}function HO(i,t){return hr(i,{scale:t,type:"scale"})}function FO(i,t,e){return hr(i,{tick:e,index:t,type:"tick"})}function qO(i,t,e){let s=ip(i);return(e&&t!=="right"||!e&&t==="right")&&(s=BO(s)),s}function GO(i,t,e,s){const{top:r,left:o,bottom:c,right:h,chart:f}=i,{chartArea:g,scales:_}=f;let v=0,E,S,w;const x=c-r,M=h-o;if(i.isHorizontal()){if(S=rn(s,o,h),Pt(e)){const U=Object.keys(e)[0],L=e[U];w=_[U].getPixelForValue(L)+x-t}else e==="center"?w=(g.bottom+g.top)/2+x-t:w=Db(i,e,t);E=h-o}else{if(Pt(e)){const U=Object.keys(e)[0],L=e[U];S=_[U].getPixelForValue(L)-M+t}else e==="center"?S=(g.left+g.right)/2-M+t:S=Db(i,e,t);w=rn(s,c,r),v=e==="left"?-oi:oi}return{titleX:S,titleY:w,maxWidth:E,rotation:v}}class Oo extends _a{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:r}=this;return t=Si(t,Number.POSITIVE_INFINITY),e=Si(e,Number.NEGATIVE_INFINITY),s=Si(s,Number.POSITIVE_INFINITY),r=Si(r,Number.NEGATIVE_INFINITY),{min:Si(t,s),max:Si(e,r),minDefined:hn(t),maxDefined:hn(e)}}getMinMax(t){let{min:e,max:s,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(s=Math.max(s,c.max));return e=o&&e>s?s:e,s=r&&e>s?e:s,{min:Si(e,Si(s,e)),max:Si(s,Si(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){le(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZD(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Ob(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=NO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){le(this.options.afterUpdate,[this])}beforeSetDimensions(){le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){le(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),le(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,r,o;for(s=0,r=t.length;s<r;s++)o=t[s],o.label=le(e.callback,[o.value,s,t],this)}afterTickToLabelConversion(){le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Mb(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),v=_.widest.width,E=_.highest.height,S=Ln(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/s:S/(s-1),v+6>h&&(h=S/(s-(t.offset?.5:1)),f=this.maxHeight-jl(t.grid)-e.padding-Ib(t.title,this.chart.options.font),g=Math.sqrt(v*v+E*E),c=xD(Math.min(Math.asin(Ln((_.highest.height+6)/h,-1,1)),Math.asin(Ln(f/g,-1,1))-Math.asin(Ln(E/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){le(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Ib(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=jl(o)+f):(t.height=this.maxHeight,t.width=jl(o)+f),s.display&&this.ticks.length){const{first:g,last:_,widest:v,highest:E}=this._getLabelSizes(),S=s.padding*2,w=nr(this.labelRotation),x=Math.cos(w),M=Math.sin(w);if(h){const U=s.mirror?0:M*v.width+x*E.height;t.height=Math.min(this.maxHeight,t.height+U+S)}else{const U=s.mirror?0:x*v.width+M*E.height;t.width=Math.min(this.maxWidth,t.width+U+S)}this._calculatePadding(g,_,M,x)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;f?g?(E=r*t.width,S=s*e.height):(E=s*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,S=e.width/2),this.paddingLeft=Math.max((E-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((S-v+c)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){le(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Xt(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Ob(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/Mb(e,s));let g=0,_=0,v,E,S,w,x,M,U,L,Z,F,$;for(v=0;v<e;v+=f){if(w=t[v].label,x=this._resolveTickFontOptions(v),r.font=M=x.string,U=o[M]=o[M]||{data:{},gc:[]},L=x.lineHeight,Z=F=0,!Xt(w)&&!Me(w))Z=ab(r,U.data,U.gc,Z,w),F=L;else if(Me(w))for(E=0,S=w.length;E<S;++E)$=w[E],!Xt($)&&!Me($)&&(Z=ab(r,U.data,U.gc,Z,$),F+=L);c.push(Z),h.push(F),g=Math.max(Z,g),_=Math.max(F,_)}UO(o,e);const it=c.indexOf(g),D=h.indexOf(_),C=O=>({width:c[O]||0,height:h[O]||0});return{first:C(0),last:C(e-1),widest:C(it),highest:C(D),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return RD(this._alignToPixels?$a(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=FO(this.getContext(),t,s))}return this.$context||(this.$context=HO(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=nr(this.labelRotation),s=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*s>h*r?h/s:f/r:f*r<h*s?f/s:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),E=jl(o),S=[],w=h.setContext(this.getContext()),x=w.display?w.width:0,M=x/2,U=function(K){return $a(s,K,x)};let L,Z,F,$,it,D,C,O,V,I,P,N;if(c==="top")L=U(this.bottom),D=this.bottom-E,O=L-M,I=U(t.top)+M,N=t.bottom;else if(c==="bottom")L=U(this.top),I=t.top,N=U(t.bottom)-M,D=L+M,O=this.top+E;else if(c==="left")L=U(this.right),it=this.right-E,C=L-M,V=U(t.left)+M,P=t.right;else if(c==="right")L=U(this.left),V=t.left,P=U(t.right)-M,it=L+M,C=this.left+E;else if(e==="x"){if(c==="center")L=U((t.top+t.bottom)/2+.5);else if(Pt(c)){const K=Object.keys(c)[0],rt=c[K];L=U(this.chart.scales[K].getPixelForValue(rt))}I=t.top,N=t.bottom,D=L+M,O=D+E}else if(e==="y"){if(c==="center")L=U((t.left+t.right)/2);else if(Pt(c)){const K=Object.keys(c)[0],rt=c[K];L=U(this.chart.scales[K].getPixelForValue(rt))}it=L-M,C=it-E,V=t.left,P=t.right}const $t=Ct(r.ticks.maxTicksLimit,v),wt=Math.max(1,Math.ceil(v/$t));for(Z=0;Z<v;Z+=wt){const K=this.getContext(Z),rt=o.setContext(K),gt=h.setContext(K),Dt=rt.lineWidth,Mt=rt.color,j=gt.dash||[],J=gt.dashOffset,at=rt.tickWidth,ct=rt.tickColor,pt=rt.tickBorderDash||[],bt=rt.tickBorderDashOffset;F=jO(this,Z,f),F!==void 0&&($=$a(s,F,Dt),g?it=C=V=P=$:D=O=I=N=$,S.push({tx1:it,ty1:D,tx2:C,ty2:O,x1:V,y1:I,x2:P,y2:N,width:Dt,color:Mt,borderDash:j,borderDashOffset:J,tickWidth:at,tickColor:ct,tickBorderDash:pt,tickBorderDashOffset:bt}))}return this._ticksLength=v,this._borderValue=L,S}_computeLabelItems(t){const e=this.axis,s=this.options,{position:r,ticks:o}=s,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:v}=o,E=jl(s.grid),S=E+_,w=v?-_:S,x=-nr(this.labelRotation),M=[];let U,L,Z,F,$,it,D,C,O,V,I,P,N="middle";if(r==="top")it=this.bottom-w,D=this._getXAxisLabelAlignment();else if(r==="bottom")it=this.top+w,D=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(E);D=wt.textAlign,$=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(E);D=wt.textAlign,$=wt.x}else if(e==="x"){if(r==="center")it=(t.top+t.bottom)/2+S;else if(Pt(r)){const wt=Object.keys(r)[0],K=r[wt];it=this.chart.scales[wt].getPixelForValue(K)+S}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-S;else if(Pt(r)){const wt=Object.keys(r)[0],K=r[wt];$=this.chart.scales[wt].getPixelForValue(K)}D=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?N="top":f==="end"&&(N="bottom"));const $t=this._getLabelSizes();for(U=0,L=h.length;U<L;++U){Z=h[U],F=Z.label;const wt=o.setContext(this.getContext(U));C=this.getPixelForTick(U)+o.labelOffset,O=this._resolveTickFontOptions(U),V=O.lineHeight,I=Me(F)?F.length:1;const K=I/2,rt=wt.color,gt=wt.textStrokeColor,Dt=wt.textStrokeWidth;let Mt=D;c?($=C,D==="inner"&&(U===L-1?Mt=this.options.reverse?"left":"right":U===0?Mt=this.options.reverse?"right":"left":Mt="center"),r==="top"?g==="near"||x!==0?P=-I*V+V/2:g==="center"?P=-$t.highest.height/2-K*V+V:P=-$t.highest.height+V/2:g==="near"||x!==0?P=V/2:g==="center"?P=$t.highest.height/2-K*V:P=$t.highest.height-I*V,v&&(P*=-1),x!==0&&!wt.showLabelBackdrop&&($+=V/2*Math.sin(x))):(it=C,P=(1-I)*V/2);let j;if(wt.showLabelBackdrop){const J=Jn(wt.backdropPadding),at=$t.heights[U],ct=$t.widths[U];let pt=P-J.top,bt=0-J.left;switch(N){case"middle":pt-=at/2;break;case"bottom":pt-=at;break}switch(D){case"center":bt-=ct/2;break;case"right":bt-=ct;break;case"inner":U===L-1?bt-=ct:U>0&&(bt-=ct/2);break}j={left:bt,top:pt,width:ct+J.width,height:at+J.height,color:wt.backdropColor}}M.push({label:F,font:O,textOffset:P,options:{rotation:x,color:rt,strokeColor:gt,strokeWidth:Dt,textAlign:Mt,textBaseline:N,translation:[$,it],backdrop:j}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-nr(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,_;return e==="left"?r?(_=this.right+o,s==="near"?g="left":s==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,s==="near"?g="right":s==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,s==="near"?g="right":s==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,s==="near"?g="left":s==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,_)=>{!_.width||!_.color||(s.save(),s.lineWidth=_.width,s.strokeStyle=_.color,s.setLineDash(_.borderDash||[]),s.lineDashOffset=_.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:r}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,v,E;this.isHorizontal()?(g=$a(t,this.left,c)-c/2,_=$a(t,this.right,h)+h/2,v=E=f):(v=$a(t,this.top,c)-c/2,E=$a(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(_,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Kh(s,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,_=c.textOffset;gc(s,g,0,_,f,h)}r&&Xh(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:r}}=this;if(!s.display)return;const o=un(s.font),c=Jn(s.padding),h=s.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Pt(e)?(f+=c.bottom,Me(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:g,titleY:_,maxWidth:v,rotation:E}=GO(this,f,e,h);gc(t,s.text,0,0,o,{color:s.color,maxWidth:v,rotation:E,textAlign:qO(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Ct(t.grid&&t.grid.z,-1),r=Ct(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Oo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[s]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ch{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;KO(e)&&(s=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,YO(t,c,s),this.override&&Te.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,r=this.scope;s in e&&delete e[s],r&&s in Te[r]&&(delete Te[r][s],this.override&&delete ur[s])}}function YO(i,t,e){const s=hc(Object.create(null),[e?Te.get(e):{},Te.get(t),i.defaults]);Te.set(t,s),i.defaultRoutes&&QO(t,i.defaultRoutes),i.descriptors&&Te.describe(t,i.descriptors)}function QO(i,t){Object.keys(t).forEach(e=>{const s=e.split("."),r=s.pop(),o=[i].concat(s).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Te.route(o,r,f,h)})}function KO(i){return"id"in i&&"defaults"in i}class XO{constructor(){this.controllers=new ch(Wh,"datasets",!0),this.elements=new ch(_a,"elements"),this.plugins=new ch(Object,"plugins"),this.scales=new ch(Oo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=s||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,s){const r=ep(t);le(s["before"+r],[],s),e[t](s),le(s["after"+r],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var wi=new XO;class $O{constructor(){this._init=void 0}notify(t,e,s,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,s);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,s,r){r=r||{};for(const o of t){const c=o.plugin,h=c[s],f=[e,r,o.options];if(le(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,r=Ct(s.options&&s.options.plugins,{}),o=WO(s);return r===!1&&!e?[]:JO(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,s),t,"stop"),this._notify(r(s,e),t,"start")}}function WO(i){const t={},e=[],s=Object.keys(wi.plugins.items);for(let o=0;o<s.length;o++)e.push(wi.getPlugin(s[o]));const r=i.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function ZO(i,t){return!t&&i===!1?null:i===!0?{}:i}function JO(i,{plugins:t,localIds:e},s,r){const o=[],c=i.getContext();for(const h of t){const f=h.id,g=ZO(s[f],r);g!==null&&o.push({plugin:h,options:tI(i.config,{plugin:h,local:e[f]},g,c)})}return o}function tI(i,{plugin:t,local:e},s,r){const o=i.pluginScopeKeys(t),c=i.getOptionScopes(s,o);return e&&t.defaults&&c.push(t.defaults),i.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function um(i,t){const e=Te.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function eI(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function nI(i,t){return i===t?"_index_":"_value_"}function Nb(i){if(i==="x"||i==="y"||i==="r")return i}function iI(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function hm(i,...t){if(Nb(i))return i;for(const e of t){const s=e.axis||iI(e.position)||i.length>1&&Nb(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Vb(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function sI(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(e.length)return Vb(i,"x",e[0])||Vb(i,"y",e[0])}return{}}function aI(i,t){const e=ur[i.type]||{scales:{}},s=t.scales||{},r=um(i.type,t),o=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!Pt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=hm(c,h,sI(c,i),Te.scales[h.type]),g=nI(f,r),_=e.scales||{};o[c]=Jl(Object.create(null),[{axis:f},h,_[f],_[g]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,f=c.indexAxis||um(h,t),_=(ur[h]||{}).scales||{};Object.keys(_).forEach(v=>{const E=eI(v,f),S=c[E+"AxisID"]||E;o[S]=o[S]||Object.create(null),Jl(o[S],[{axis:E},s[S],_[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];Jl(h,[Te.scales[h.type],Te.scale])}),o}function gE(i){const t=i.options||(i.options={});t.plugins=Ct(t.plugins,{}),t.scales=aI(i,t)}function mE(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function rI(i){return i=i||{},i.data=mE(i.data),gE(i),i}const kb=new Map,pE=new Set;function uh(i,t){let e=kb.get(i);return e||(e=t(),kb.set(i,e),pE.add(e)),e}const Ul=(i,t,e)=>{const s=To(t,e);s!==void 0&&i.add(s)};class oI{constructor(t){this._config=rI(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=mE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),gE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return uh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return uh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return uh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return uh(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let r=s.get(t);return(!r||e)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,e,s){const{options:r,type:o}=this,c=this._cachedScopes(t,s),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(v=>Ul(f,t,v))),_.forEach(v=>Ul(f,r,v)),_.forEach(v=>Ul(f,ur[o]||{},v)),_.forEach(v=>Ul(f,Te,v)),_.forEach(v=>Ul(f,lm,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),pE.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,ur[e]||{},Te.datasets[e]||{},{type:e},Te,lm]}resolveNamedOptions(t,e,s,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=zb(this._resolverCache,t,r);let f=c;if(cI(c,e)){o.$shared=!1,s=ma(s)?s():s;const g=this.createResolver(t,s,h);f=So(c,s,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,s=[""],r){const{resolver:o}=zb(this._resolverCache,t,s);return Pt(e)?So(o,e,void 0,r):o}}function zb(i,t,e){let s=i.get(t);s||(s=new Map,i.set(t,s));const r=e.join();let o=s.get(r);return o||(o={resolver:ap(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,o)),o}const lI=i=>Pt(i)&&Object.getOwnPropertyNames(i).some(t=>ma(i[t]));function cI(i,t){const{isScriptable:e,isIndexable:s}=X1(i);for(const r of t){const o=e(r),c=s(r),h=(c||o)&&i[r];if(o&&(ma(h)||lI(h))||c&&Me(h))return!0}return!1}var uI="4.5.1";const hI=["top","bottom","left","right","chartArea"];function Lb(i,t){return i==="top"||i==="bottom"||hI.indexOf(i)===-1&&t==="x"}function Pb(i,t){return function(e,s){return e[i]===s[i]?e[t]-s[t]:e[i]-s[i]}}function Bb(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),le(e&&e.onComplete,[i],t)}function fI(i){const t=i.chart,e=t.options.animation;le(e&&e.onProgress,[i],t)}function _E(i){return lp()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Th={},jb=i=>{const t=_E(i);return Object.values(Th).filter(e=>e.canvas===t).pop()};function dI(i,t,e){const s=Object.keys(i);for(const r of s){const o=+r;if(o>=t){const c=i[r];delete i[r],(e>0||o>t)&&(i[o+e]=c)}}}function gI(i,t,e,s){return!e||i.type==="mouseout"?null:s?t:i}let Io=class{static defaults=Te;static instances=Th;static overrides=ur;static registry=wi;static version=uI;static getChart=jb;static register(...t){wi.add(...t),Ub()}static unregister(...t){wi.remove(...t),Ub()}constructor(t,e){const s=this.config=new oI(e),r=_E(t),o=jb(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||IO(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=hD(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $O,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OD(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Th[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}cs.listen(this,"complete",Bb),cs.listen(this,"progress",fI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:r,_aspectRatio:o}=this;return Xt(t)?e&&o?o:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return wi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rb(this.canvas,this.ctx),this}stop(){return cs.stop(this),this}resize(t,e){cs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,cb(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),le(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,r=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=hm(c,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,g=hm(f,h),_=Ct(h.type,c.dtype);(h.position===void 0||Lb(h.position,g)!==Lb(c.dposition))&&(h.position=c.dposition),r[f]=!0;let v=null;if(f in s&&s[f].type===_)v=s[f];else{const E=wi.getScale(_);v=new E({id:f,type:_,ctx:this.ctx,chart:this}),s[v.id]=v}v.init(h,t)}),te(r,(c,h)=>{c||delete s[h]}),te(s,c=>{Zn.configure(this,c,c.options),Zn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((r,o)=>r.index-o.index),s>e){for(let r=e;r<s;++r)this._destroyDatasetMeta(r);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Pb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,r)=>{e.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=e.length;s<r;s++){const o=e[s];let c=this.getDatasetMeta(s);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=o.indexAxis||um(h,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=wi.getController(h),{datasetElementType:g,dataElementType:_}=Te.datasets[h];Object.assign(f,{dataElementType:wi.getElement(_),datasetElementType:g&&wi.getElement(g)}),c.controller=new f(this,s),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:v}=this.getDatasetMeta(g),E=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Pb("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{Zn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!$0(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of e){const c=s==="_removeElements"?-o:o;dI(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=s(0);for(let o=1;o<e;o++)if(!$0(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zn.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,ma(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cs.has(this)?this.attached&&!cs.running(this)&&cs.start(this):(this.draw(),Bb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=aE(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Kh(e,r),t.controller.draw(),r&&Xh(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return dc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,r){const o=hO.modes[e];return typeof o=="function"?o(this,t,s,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let r=s.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=hr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const r=s?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);fc(e)?(o.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),c.update(o,{visible:s}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),cs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Th[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const r=s?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Ih(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const r=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),c=o(e,t),h=s?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,s,c),f=_D(t),g=gI(t,this._lastEvent,s,f);s&&(this._lastEvent=null,le(o.onHover,[t,h,this],this),f&&le(o.onClick,[t,h,this],this));const _=!Ih(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,s,r){if(t.type==="mouseout")return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Ub(){return te(Io.instances,i=>i._plugins.invalidate())}function yE(i,t,e=t){i.lineCap=Ct(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Ct(e.borderDash,t.borderDash)),i.lineDashOffset=Ct(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Ct(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Ct(e.borderWidth,t.borderWidth),i.strokeStyle=Ct(e.borderColor,t.borderColor)}function mI(i,t,e){i.lineTo(e.x,e.y)}function pI(i){return i.stepped?FD:i.tension||i.cubicInterpolationMode==="monotone"?qD:mI}function vE(i,t,e={}){const s=i.length,{start:r=0,end:o=s-1}=e,{start:c,end:h}=t,f=Math.max(r,c),g=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:s,start:f,loop:t.loop,ilen:g<f&&!_?s+g-f:g-f}}function _I(i,t,e,s){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:g}=vE(r,e,s),_=pI(o);let{move:v=!0,reverse:E}=s||{},S,w,x;for(S=0;S<=g;++S)w=r[(h+(E?g-S:S))%c],!w.skip&&(v?(i.moveTo(w.x,w.y),v=!1):_(i,x,w,E,o.stepped),x=w);return f&&(w=r[(h+(E?g:0))%c],_(i,x,w,E,o.stepped)),!!f}function yI(i,t,e,s){const r=t.points,{count:o,start:c,ilen:h}=vE(r,e,s),{move:f=!0,reverse:g}=s||{};let _=0,v=0,E,S,w,x,M,U;const L=F=>(c+(g?h-F:F))%o,Z=()=>{x!==M&&(i.lineTo(_,M),i.lineTo(_,x),i.lineTo(_,U))};for(f&&(S=r[L(0)],i.moveTo(S.x,S.y)),E=0;E<=h;++E){if(S=r[L(E)],S.skip)continue;const F=S.x,$=S.y,it=F|0;it===w?($<x?x=$:$>M&&(M=$),_=(v*_+F)/++v):(Z(),i.lineTo(F,$),w=it,v=0,x=M=$),U=$}Z()}function fm(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?yI:_I}function vI(i){return i.stepped?EM:i.tension||i.cubicInterpolationMode==="monotone"?SM:tr}function bI(i,t,e,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,s)&&r.closePath()),yE(i,t.options),i.stroke(r)}function TI(i,t,e,s){const{segments:r,options:o}=t,c=fm(t);for(const h of r)yE(i,o,h.style),i.beginPath(),c(i,t,h,{start:e,end:e+s-1})&&i.closePath(),i.stroke()}const EI=typeof Path2D=="function";function SI(i,t,e,s){EI&&!t.options.segment?bI(i,t,e,s):TI(i,t,e,s)}class Jh extends _a{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;gM(this._points,s,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=DM(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,r=t[e],o=this.points,c=sE(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=vI(s);let g,_;for(g=0,_=c.length;g<_;++g){const{start:v,end:E}=c[g],S=o[v],w=o[E];if(S===w){h.push(S);continue}const x=Math.abs((r-S[e])/(w[e]-S[e])),M=f(S,w,x,s.stepped);M[e]=t[e],h.push(M)}return h.length===1?h[0]:h}pathSegment(t,e,s){return fm(this)(t,this,e,s)}path(t,e,s){const r=this.segments,o=fm(this);let c=this._loop;e=e||0,s=s||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+s-1});return!!c}draw(t,e,s,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),SI(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Hb(i,t,e,s){const r=i.options,{[e]:o}=i.getProps([e],s);return Math.abs(t-o)<r.radius+r.hitRadius}class bE extends _a{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Hb(this,t,"x",e)}inYRange(t,e){return Hb(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!dc(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,cm(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function TE(i,t){const{x:e,y:s,base:r,width:o,height:c}=i.getProps(["x","y","base","width","height"],t);let h,f,g,_,v;return i.horizontal?(v=c/2,h=Math.min(e,r),f=Math.max(e,r),g=s-v,_=s+v):(v=o/2,h=e-v,f=e+v,g=Math.min(s,r),_=Math.max(s,r)),{left:h,top:g,right:f,bottom:_}}function oa(i,t,e,s){return i?0:Ln(t,e,s)}function xI(i,t,e){const s=i.options.borderWidth,r=i.borderSkipped,o=K1(s);return{t:oa(r.top,o.top,0,e),r:oa(r.right,o.right,0,t),b:oa(r.bottom,o.bottom,0,e),l:oa(r.left,o.left,0,t)}}function AI(i,t,e){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=uo(r),c=Math.min(t,e),h=i.borderSkipped,f=s||Pt(r);return{topLeft:oa(!f||h.top||h.left,o.topLeft,0,c),topRight:oa(!f||h.top||h.right,o.topRight,0,c),bottomLeft:oa(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:oa(!f||h.bottom||h.right,o.bottomRight,0,c)}}function wI(i){const t=TE(i),e=t.right-t.left,s=t.bottom-t.top,r=xI(i,e/2,s/2),o=AI(i,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Og(i,t,e,s){const r=t===null,o=e===null,h=i&&!(r&&o)&&TE(i,s);return h&&(r||aa(t,h.left,h.right))&&(o||aa(e,h.top,h.bottom))}function RI(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function CI(i,t){i.rect(t.x,t.y,t.w,t.h)}function Ig(i,t,e={}){const s=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,o=(i.x+i.w!==e.x+e.w?t:0)-s,c=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+s,y:i.y+r,w:i.w+o,h:i.h+c,radius:i.radius}}class DI extends _a{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:r}}=this,{inner:o,outer:c}=wI(this),h=RI(c.radius)?kh:CI;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Ig(c,e,o)),t.clip(),h(t,Ig(o,-e,c)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),h(t,Ig(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,s){return Og(this,t,e,s)}inXRange(t,e){return Og(this,t,null,e)}inYRange(t,e){return Og(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function MI(i,t,e){const s=i.segments,r=i.points,o=t.points,c=[];for(const h of s){let{start:f,end:g}=h;g=tf(f,g,r);const _=dm(e,r[f],r[g],h.loop);if(!t.segments){c.push({source:h,target:_,start:r[f],end:r[g]});continue}const v=sE(t,_);for(const E of v){const S=dm(e,o[E.start],o[E.end],E.loop),w=iE(h,r,S);for(const x of w)c.push({source:x,target:E,start:{[e]:Fb(_,S,"start",Math.max)},end:{[e]:Fb(_,S,"end",Math.min)}})}}return c}function dm(i,t,e,s){if(s)return;let r=t[i],o=e[i];return i==="angle"&&(r=Ci(r),o=Ci(o)),{property:i,start:r,end:o}}function OI(i,t){const{x:e=null,y:s=null}=i||{},r=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=tf(c,h,r);const f=r[c],g=r[h];s!==null?(o.push({x:f.x,y:s}),o.push({x:g.x,y:s})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}function tf(i,t,e){for(;t>i;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Fb(i,t,e,s){return i&&t?s(i[e],t[e]):i?i[e]:t?t[e]:0}function EE(i,t){let e=[],s=!1;return Me(i)?(s=!0,e=i):e=OI(i,t),e.length?new Jh({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function qb(i){return i&&i.fill!==!1}function II(i,t,e){let r=i[t].fill;const o=[t];let c;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!hn(r))return r;if(c=i[r],!c)return!1;if(c.visible)return r;o.push(r),r=c.fill}return!1}function NI(i,t,e){const s=LI(i);if(Pt(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return hn(r)&&Math.floor(r)===r?VI(s[0],t,r,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function VI(i,t,e,s){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function kI(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:Pt(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function zI(i,t,e){let s;return i==="start"?s=e:i==="end"?s=t.options.reverse?t.min:t.max:Pt(i)?s=i.value:s=t.getBaseValue(),s}function LI(i){const t=i.options,e=t.fill;let s=Ct(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function PI(i){const{scale:t,index:e,line:s}=i,r=[],o=s.segments,c=s.points,h=BI(t,e);h.push(EE({x:null,y:t.bottom},s));for(let f=0;f<o.length;f++){const g=o[f];for(let _=g.start;_<=g.end;_++)jI(r,c[_],h)}return new Jh({points:r,options:{}})}function BI(i,t){const e=[],s=i.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const o=s[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function jI(i,t,e){const s=[];for(let r=0;r<e.length;r++){const o=e[r],{first:c,last:h,point:f}=UI(o,t,"x");if(!(!f||c&&h)){if(c)s.unshift(f);else if(i.push(f),!h)break}}i.push(...s)}function UI(i,t,e){const s=i.interpolate(t,e);if(!s)return{};const r=s[e],o=i.segments,c=i.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const _=o[g],v=c[_.start][e],E=c[_.end][e];if(aa(r,v,E)){h=r===v,f=r===E;break}}return{first:h,last:f,point:s}}class SE{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:r,y:o,radius:c}=this;return e=e||{start:0,end:li},t.arc(r,o,c,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:s+Math.sin(o)*r,angle:o}}}function HI(i){const{chart:t,fill:e,line:s}=i;if(hn(e))return FI(t,e);if(e==="stack")return PI(i);if(e==="shape")return!0;const r=qI(i);return r instanceof SE?r:EE(r,s)}function FI(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function qI(i){return(i.scale||{}).getPointPositionForValue?YI(i):GI(i)}function GI(i){const{scale:t={},fill:e}=i,s=kI(e,t);if(hn(s)){const r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function YI(i){const{scale:t,fill:e}=i,s=t.options,r=t.getLabels().length,o=s.reverse?t.max:t.min,c=zI(e,t,o),h=[];if(s.grid.circular){const f=t.getPointPositionForValue(0,o);return new SE({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<r;++f)h.push(t.getPointPositionForValue(f,c));return h}function Ng(i,t,e){const s=HI(t),{chart:r,index:o,line:c,scale:h,axis:f}=t,g=c.options,_=g.fill,v=g.backgroundColor,{above:E=v,below:S=v}=_||{},w=r.getDatasetMeta(o),x=aE(r,w);s&&c.points.length&&(Kh(i,e),QI(i,{line:c,target:s,above:E,below:S,area:e,scale:h,axis:f,clip:x}),Xh(i))}function QI(i,t){const{line:e,target:s,above:r,below:o,area:c,scale:h,clip:f}=t,g=e._loop?"angle":t.axis;i.save();let _=o;o!==r&&(g==="x"?(Gb(i,s,c.top),Vg(i,{line:e,target:s,color:r,scale:h,property:g,clip:f}),i.restore(),i.save(),Gb(i,s,c.bottom)):g==="y"&&(Yb(i,s,c.left),Vg(i,{line:e,target:s,color:o,scale:h,property:g,clip:f}),i.restore(),i.save(),Yb(i,s,c.right),_=r)),Vg(i,{line:e,target:s,color:_,scale:h,property:g,clip:f}),i.restore()}function Gb(i,t,e){const{segments:s,points:r}=t;let o=!0,c=!1;i.beginPath();for(const h of s){const{start:f,end:g}=h,_=r[f],v=r[tf(f,g,r)];o?(i.moveTo(_.x,_.y),o=!1):(i.lineTo(_.x,e),i.lineTo(_.x,_.y)),c=!!t.pathSegment(i,h,{move:c}),c?i.closePath():i.lineTo(v.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Yb(i,t,e){const{segments:s,points:r}=t;let o=!0,c=!1;i.beginPath();for(const h of s){const{start:f,end:g}=h,_=r[f],v=r[tf(f,g,r)];o?(i.moveTo(_.x,_.y),o=!1):(i.lineTo(e,_.y),i.lineTo(_.x,_.y)),c=!!t.pathSegment(i,h,{move:c}),c?i.closePath():i.lineTo(e,v.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function Vg(i,t){const{line:e,target:s,property:r,color:o,scale:c,clip:h}=t,f=MI(e,s,r);for(const{source:g,target:_,start:v,end:E}of f){const{style:{backgroundColor:S=o}={}}=g,w=s!==!0;i.save(),i.fillStyle=S,KI(i,c,h,w&&dm(r,v,E)),i.beginPath();const x=!!e.pathSegment(i,g);let M;if(w){x?i.closePath():Qb(i,s,E,r);const U=!!s.pathSegment(i,_,{move:x,reverse:!0});M=x&&U,M||Qb(i,s,v,r)}i.closePath(),i.fill(M?"evenodd":"nonzero"),i.restore()}}function KI(i,t,e,s){const r=t.chart.chartArea,{property:o,start:c,end:h}=s||{};if(o==="x"||o==="y"){let f,g,_,v;o==="x"?(f=c,g=r.top,_=h,v=r.bottom):(f=r.left,g=c,_=r.right,v=h),i.beginPath(),e&&(f=Math.max(f,e.left),_=Math.min(_,e.right),g=Math.max(g,e.top),v=Math.min(v,e.bottom)),i.rect(f,g,_-f,v-g),i.clip()}}function Qb(i,t,e,s){const r=t.interpolate(e,s);r&&i.lineTo(r.x,r.y)}var XI={id:"filler",afterDatasetsUpdate(i,t,e){const s=(i.data.datasets||[]).length,r=[];let o,c,h,f;for(c=0;c<s;++c)o=i.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof Jh&&(f={visible:i.isDatasetVisible(c),index:c,fill:NI(h,c,s),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,r.push(f);for(c=0;c<s;++c)f=r[c],!(!f||f.fill===!1)&&(f.fill=II(r,c,e.propagate))},beforeDraw(i,t,e){const s=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let c=r.length-1;c>=0;--c){const h=r[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),s&&h.fill&&Ng(i.ctx,h,o))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=i.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const o=s[r].$filler;qb(o)&&Ng(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,e){const s=t.meta.$filler;!qb(s)||e.drawTime!=="beforeDatasetDraw"||Ng(i.ctx,s,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Kb=(i,t)=>{let{boxHeight:e=t,boxWidth:s=t}=i;return i.usePointStyle&&(e=Math.min(e,t),s=i.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},$I=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Xb extends _a{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=le(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=un(s.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Kb(s,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(c,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let E=-1,S=-_;return this.legendItems.forEach((w,x)=>{const M=s+e/2+o.measureText(w.text).width;(x===0||g[g.length-1]+M+2*h>c)&&(v+=_,g[g.length-(x>0?0:1)]=0,S+=_,E++),f[x]={left:0,top:S,row:E,width:M,height:r},g[g.length-1]+=M+h}),v}_fitCols(t,e,s,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let v=h,E=0,S=0,w=0,x=0;return this.legendItems.forEach((M,U)=>{const{itemWidth:L,itemHeight:Z}=WI(s,e,o,M,r);U>0&&S+Z+2*h>_&&(v+=E+h,g.push({width:E,height:S}),w+=E+h,x++,E=S=0),f[U]={left:w,top:S,col:x,width:L,height:Z},E=Math.max(E,L),S+=Z+h}),v+=E,g.push({width:E,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:r},rtl:o}}=this,c=ho(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=rn(s,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=rn(s,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+r}else{let h=0,f=rn(s,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=rn(s,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Kh(t,this),this._draw(),Xh(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:r}=this,{align:o,labels:c}=t,h=Te.color,f=ho(t.rtl,this.left,this.width),g=un(c.font),{padding:_}=c,v=g.size,E=v/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:w,boxHeight:x,itemHeight:M}=Kb(c,v),U=function(it,D,C){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;r.save();const O=Ct(C.lineWidth,1);if(r.fillStyle=Ct(C.fillStyle,h),r.lineCap=Ct(C.lineCap,"butt"),r.lineDashOffset=Ct(C.lineDashOffset,0),r.lineJoin=Ct(C.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=Ct(C.strokeStyle,h),r.setLineDash(Ct(C.lineDash,[])),c.usePointStyle){const V={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:O},I=f.xPlus(it,w/2),P=D+E;Y1(r,V,I,P,c.pointStyleWidth&&w)}else{const V=D+Math.max((v-x)/2,0),I=f.leftForLtr(it,w),P=uo(C.borderRadius);r.beginPath(),Object.values(P).some(N=>N!==0)?kh(r,{x:I,y:V,w,h:x,radius:P}):r.rect(I,V,w,x),r.fill(),O!==0&&r.stroke()}r.restore()},L=function(it,D,C){gc(r,C.text,it,D+M/2,g,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},Z=this.isHorizontal(),F=this._computeTitleHeight();Z?S={x:rn(o,this.left+_,this.right-s[0]),y:this.top+_+F,line:0}:S={x:this.left+_,y:rn(o,this.top+F+_,this.bottom-e[0].height),line:0},tE(this.ctx,t.textDirection);const $=M+_;this.legendItems.forEach((it,D)=>{r.strokeStyle=it.fontColor,r.fillStyle=it.fontColor;const C=r.measureText(it.text).width,O=f.textAlign(it.textAlign||(it.textAlign=c.textAlign)),V=w+E+C;let I=S.x,P=S.y;f.setWidth(this.width),Z?D>0&&I+V+_>this.right&&(P=S.y+=$,S.line++,I=S.x=rn(o,this.left+_,this.right-s[S.line])):D>0&&P+$>this.bottom&&(I=S.x=I+e[S.line].width+_,S.line++,P=S.y=rn(o,this.top+F+_,this.bottom-e[S.line].height));const N=f.x(I);if(U(N,P,it),I=ID(O,I+w+E,Z?I+V:this.right,t.rtl),L(f.x(I),P,it),Z)S.x+=V+_;else if(typeof it.text!="string"){const $t=g.lineHeight;S.y+=xE(it,$t)+_}else S.y+=$}),eE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=un(e.font),r=Jn(e.padding);if(!e.display)return;const o=ho(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=s.size/2,g=r.top+f;let _,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),_=this.top+g,v=rn(t.align,v,this.right-E);else{const w=this.columnSizes.reduce((x,M)=>Math.max(x,M.height),0);_=g+rn(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const S=rn(h,v,v+E);c.textAlign=o.textAlign(ip(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=s.string,gc(c,e.text,S,_,s)}_computeTitleHeight(){const t=this.options.title,e=un(t.font),s=Jn(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,r,o;if(aa(t,this.left,this.right)&&aa(e,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],aa(t,r.left,r.left+r.width)&&aa(e,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!t4(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=$I(r,s);r&&!o&&le(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!o&&le(e.onHover,[t,s,this],this)}else s&&le(e.onClick,[t,s,this],this)}}function WI(i,t,e,s,r){const o=ZI(s,i,t,e),c=JI(r,s,t.lineHeight);return{itemWidth:o,itemHeight:c}}function ZI(i,t,e,s){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+s.measureText(r).width}function JI(i,t,e){let s=i;return typeof t.text!="string"&&(s=xE(t,e)),s}function xE(i,t){const e=i.text?i.text.length:0;return t*e}function t4(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var AE={id:"legend",_element:Xb,start(i,t,e){const s=i.legend=new Xb({ctx:i.ctx,options:e,chart:i});Zn.configure(i,s,e),Zn.addBox(i,s)},stop(i){Zn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const s=i.legend;Zn.configure(i,s,e),s.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const s=t.datasetIndex,r=e.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=Jn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class wE extends _a{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Me(s.text)?s.text.length:1;this._padding=Jn(s.padding);const o=r*un(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:r,right:o,options:c}=this,h=c.align;let f=0,g,_,v;return this.isHorizontal()?(_=rn(h,s,o),v=e+t,g=o-s):(c.position==="left"?(_=s+t,v=rn(h,r,e),f=He*-.5):(_=o-t,v=rn(h,e,r),f=He*.5),g=r-e),{titleX:_,titleY:v,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=un(e.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);gc(t,e.text,0,0,s,{color:e.color,maxWidth:f,rotation:g,textAlign:ip(e.align),textBaseline:"middle",translation:[c,h]})}}function e4(i,t){const e=new wE({ctx:i.ctx,options:t,chart:i});Zn.configure(i,e,t),Zn.addBox(i,e),i.titleBlock=e}var RE={id:"title",_element:wE,start(i,t,e){e4(i,e)},stop(i){const t=i.titleBlock;Zn.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const s=i.titleBlock;Zn.configure(i,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kl={average(i){if(!i.length)return!1;let t,e,s=new Set,r=0,o=0;for(t=0,e=i.length;t<e;++t){const h=i[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();s.add(f.x),r+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,f)=>h+f)/s.size,y:r/o}},nearest(i,t){if(!i.length)return!1;let e=t.x,s=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=i.length;o<c;++o){const f=i[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=om(t,g);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,s=f.y}return{x:e,y:s}}};function Ai(i,t){return t&&(Me(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function us(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function n4(i,t){const{element:e,datasetIndex:s,index:r}=t,o=i.getDatasetMeta(s).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:i,label:c,parsed:o.getParsed(r),raw:i.data.datasets[s].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:e}}function $b(i,t){const e=i.chart.ctx,{body:s,footer:r,title:o}=i,{boxWidth:c,boxHeight:h}=t,f=un(t.bodyFont),g=un(t.titleFont),_=un(t.footerFont),v=o.length,E=r.length,S=s.length,w=Jn(t.padding);let x=w.height,M=0,U=s.reduce((F,$)=>F+$.before.length+$.lines.length+$.after.length,0);if(U+=i.beforeBody.length+i.afterBody.length,v&&(x+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),U){const F=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;x+=S*F+(U-S)*f.lineHeight+(U-1)*t.bodySpacing}E&&(x+=t.footerMarginTop+E*_.lineHeight+(E-1)*t.footerSpacing);let L=0;const Z=function(F){M=Math.max(M,e.measureText(F).width+L)};return e.save(),e.font=g.string,te(i.title,Z),e.font=f.string,te(i.beforeBody.concat(i.afterBody),Z),L=t.displayColors?c+2+t.boxPadding:0,te(s,F=>{te(F.before,Z),te(F.lines,Z),te(F.after,Z)}),L=0,e.font=_.string,te(i.footer,Z),e.restore(),M+=w.width,{width:M,height:x}}function i4(i,t){const{y:e,height:s}=t;return e<s/2?"top":e>i.height-s/2?"bottom":"center"}function s4(i,t,e,s){const{x:r,width:o}=s,c=e.caretSize+e.caretPadding;if(i==="left"&&r+o+c>t.width||i==="right"&&r-o-c<0)return!0}function a4(i,t,e,s){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=i;let g="center";return s==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),s4(g,i,t,e)&&(g="center"),g}function Wb(i,t,e){const s=e.yAlign||t.yAlign||i4(i,e);return{xAlign:e.xAlign||t.xAlign||a4(i,t,e,s),yAlign:s}}function r4(i,t){let{x:e,width:s}=i;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function o4(i,t,e){let{y:s,height:r}=i;return t==="top"?s+=e:t==="bottom"?s-=r+e:s-=r/2,s}function Zb(i,t,e,s){const{caretSize:r,caretPadding:o,cornerRadius:c}=i,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:S}=uo(c);let w=r4(t,h);const x=o4(t,f,g);return f==="center"?h==="left"?w+=g:h==="right"&&(w-=g):h==="left"?w-=Math.max(_,E)+r:h==="right"&&(w+=Math.max(v,S)+r),{x:Ln(w,0,s.width-t.width),y:Ln(x,0,s.height-t.height)}}function hh(i,t,e){const s=Jn(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-s.right:i.x+s.left}function Jb(i){return Ai([],us(i))}function l4(i,t,e){return hr(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function tT(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const CE={beforeTitle:ls,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:ls,beforeBody:ls,beforeLabel:ls,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return Xt(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ls,afterBody:ls,beforeFooter:ls,footer:ls,afterFooter:ls};function wn(i,t,e,s){const r=i[t].call(e,s);return typeof r>"u"?CE[t].call(e,s):r}class eT extends _a{static positioners=Kl;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&e.options.animation&&s.animations,o=new rE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=l4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,r=wn(s,"beforeTitle",this,t),o=wn(s,"title",this,t),c=wn(s,"afterTitle",this,t);let h=[];return h=Ai(h,us(r)),h=Ai(h,us(o)),h=Ai(h,us(c)),h}getBeforeBody(t,e){return Jb(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=tT(s,o);Ai(c.before,us(wn(h,"beforeLabel",this,o))),Ai(c.lines,wn(h,"label",this,o)),Ai(c.after,us(wn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return Jb(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,r=wn(s,"beforeFooter",this,t),o=wn(s,"footer",this,t),c=wn(s,"afterFooter",this,t);let h=[];return h=Ai(h,us(r)),h=Ai(h,us(o)),h=Ai(h,us(c)),h}_createItems(t){const e=this._active,s=this.chart.data,r=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(n4(this.chart,e[f]));return t.filter&&(h=h.filter((_,v,E)=>t.filter(_,v,E,s))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,s))),te(h,_=>{const v=tT(t.callbacks,_);r.push(wn(v,"labelColor",this,_)),o.push(wn(v,"labelPointStyle",this,_)),c.push(wn(v,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Kl[s.position].call(this,r,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=$b(this,s),g=Object.assign({},h,f),_=Wb(this.chart,s,g),v=Zb(s,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,r){const o=this.getCaretPosition(t,s,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,s){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:v}=uo(h),{x:E,y:S}=t,{width:w,height:x}=e;let M,U,L,Z,F,$;return o==="center"?(F=S+x/2,r==="left"?(M=E,U=M-c,Z=F+c,$=F-c):(M=E+w,U=M+c,Z=F-c,$=F+c),L=M):(r==="left"?U=E+Math.max(f,_)+c:r==="right"?U=E+w-Math.max(g,v)-c:U=this.caretX,o==="top"?(Z=S,F=Z-c,M=U-c,L=U+c):(Z=S+x,F=Z+c,M=U+c,L=U-c),$=Z),{x1:M,x2:U,x3:L,y1:Z,y2:F,y3:$}}drawTitle(t,e,s){const r=this.title,o=r.length;let c,h,f;if(o){const g=ho(s.rtl,this.x,this.width);for(t.x=hh(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",c=un(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,r,o){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:f,boxWidth:g}=o,_=un(o.bodyFont),v=hh(this,"left",o),E=r.x(v),S=f<_.lineHeight?(_.lineHeight-f)/2:0,w=e.y+S;if(o.usePointStyle){const x={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(E,g)+g/2,U=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,cm(t,x,M,U),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,cm(t,x,M,U)}else{t.lineWidth=Pt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const x=r.leftForLtr(E,g),M=r.leftForLtr(r.xPlus(E,1),g-2),U=uo(c.borderRadius);Object.values(U).some(L=>L!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,kh(t,{x,y:w,w:g,h:f,radius:U}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),kh(t,{x:M,y:w+1,w:g-2,h:f-2,radius:U}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(x,w,g,f),t.strokeRect(x,w,g,f),t.fillStyle=c.backgroundColor,t.fillRect(M,w+1,g-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=s,v=un(s.bodyFont);let E=v.lineHeight,S=0;const w=ho(s.rtl,this.x,this.width),x=function(C){e.fillText(C,w.x(t.x+S),t.y+E/2),t.y+=E+o},M=w.textAlign(c);let U,L,Z,F,$,it,D;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=hh(this,M,s),e.fillStyle=s.bodyColor,te(this.beforeBody,x),S=h&&M!=="right"?c==="center"?g/2+_:g+2+_:0,F=0,it=r.length;F<it;++F){for(U=r[F],L=this.labelTextColors[F],e.fillStyle=L,te(U.before,x),Z=U.lines,h&&Z.length&&(this._drawColorBox(e,t,F,w,s),E=Math.max(v.lineHeight,f)),$=0,D=Z.length;$<D;++$)x(Z[$]),E=v.lineHeight;te(U.after,x)}S=0,E=v.lineHeight,te(this.afterBody,x),t.y-=o}drawFooter(t,e,s){const r=this.footer,o=r.length;let c,h;if(o){const f=ho(s.rtl,this.x,this.width);for(t.x=hh(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=f.textAlign(s.footerAlign),e.textBaseline="middle",c=un(s.footerFont),e.fillStyle=s.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+s.footerSpacing}}drawBackground(t,e,s,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:_}=s,{topLeft:v,topRight:E,bottomLeft:S,bottomRight:w}=uo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),c==="top"&&this.drawCaret(t,e,s,r),e.lineTo(h+g-E,f),e.quadraticCurveTo(h+g,f,h+g,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,s,r),e.lineTo(h+g,f+_-w),e.quadraticCurveTo(h+g,f+_,h+g-w,f+_),c==="bottom"&&this.drawCaret(t,e,s,r),e.lineTo(h+S,f+_),e.quadraticCurveTo(h,f+_,h,f+_-S),c==="center"&&o==="left"&&this.drawCaret(t,e,s,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const c=Kl[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=$b(this,t),f=Object.assign({},c,this._size),g=Wb(e,t,f),_=Zb(t,f,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=Jn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,r,e),tE(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),eE(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Ih(s,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,s),h=this._positionChanged(c,t),f=e||!Ih(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,s,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:s,caretY:r,options:o}=this,c=Kl[o.position].call(this,t,e);return c!==!1&&(s!==c.x||r!==c.y)}}var hp={id:"tooltip",_element:eT,positioners:Kl,afterInit(i,t,e){e&&(i.tooltip=new eT({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const c4=(i,t,e,s)=>(typeof t=="string"?(e=i.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function u4(i,t,e,s){const r=i.indexOf(t);if(r===-1)return c4(i,t,e,s);const o=i.lastIndexOf(t);return r!==o?e:r}const h4=(i,t)=>i===null?null:Ln(Math.round(i),0,t);function nT(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class DE extends Oo{static id="category";static defaults={ticks:{callback:nT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:r,label:o}of e)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Xt(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:u4(s,t,Ct(e,t),this._addedLabels),h4(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return nT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function f4(i,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:g,maxTicks:_,maxDigits:v,includeBounds:E}=i,S=o||1,w=_-1,{min:x,max:M}=t,U=!Xt(c),L=!Xt(h),Z=!Xt(g),F=(M-x)/(v+1);let $=Z0((M-x)/w/S)*S,it,D,C,O;if($<1e-14&&!U&&!L)return[{value:x},{value:M}];O=Math.ceil(M/$)-Math.floor(x/$),O>w&&($=Z0(O*$/w/S)*S),Xt(f)||(it=Math.pow(10,f),$=Math.ceil($*it)/it),r==="ticks"?(D=Math.floor(x/$)*$,C=Math.ceil(M/$)*$):(D=x,C=M),U&&L&&o&&ED((h-c)/o,$/1e3)?(O=Math.round(Math.min((h-c)/$,_)),$=(h-c)/O,D=c,C=h):Z?(D=U?c:D,C=L?h:C,O=g-1,$=(C-D)/O):(O=(C-D)/$,tc(O,Math.round(O),$/1e3)?O=Math.round(O):O=Math.ceil(O));const V=Math.max(J0($),J0(D));it=Math.pow(10,Xt(f)?V:f),D=Math.round(D*it)/it,C=Math.round(C*it)/it;let I=0;for(U&&(E&&D!==c?(e.push({value:c}),D<c&&I++,tc(Math.round((D+I*$)*it)/it,c,iT(c,F,i))&&I++):D<c&&I++);I<O;++I){const P=Math.round((D+I*$)*it)/it;if(L&&P>h)break;e.push({value:P})}return L&&E&&C!==h?e.length&&tc(e[e.length-1].value,h,iT(h,F,i))?e[e.length-1].value=h:e.push({value:h}):(!L||C===h)&&e.push({value:C}),e}function iT(i,t,{horizontal:e,minRotation:s}){const r=nr(s),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+i).length;return Math.min(t/o,c)}class d4 extends Oo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Xt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=s?o:f;if(t){const f=Oi(r),g=Oi(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=f4(r,o);return t.bounds==="ticks"&&SD(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-e)/Math.max(t.length-1,1)/2;e-=r,s+=r}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return q1(t,this.chart.options.locale,this.options.ticks.format)}}class fp extends d4{static id="linear";static defaults={ticks:{callback:G1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=hn(t)?t:0,this.max=hn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=nr(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ef={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(ef);function sT(i,t){return i-t}function aT(i,t){if(Xt(t))return null;const e=i._adapter,{parser:s,round:r,isoWeekday:o}=i._parseOpts;let c=t;return typeof s=="function"&&(c=s(c)),hn(c)||(c=typeof s=="string"?e.parse(c,s):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Eo(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function rT(i,t,e,s){const r=Rn.length;for(let o=Rn.indexOf(i);o<r-1;++o){const c=ef[Rn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=s)return Rn[o]}return Rn[r-1]}function g4(i,t,e,s,r){for(let o=Rn.length-1;o>=Rn.indexOf(e);o--){const c=Rn[o];if(ef[c].common&&i._adapter.diff(r,s,c)>=t-1)return c}return Rn[e?Rn.indexOf(e):0]}function m4(i){for(let t=Rn.indexOf(i)+1,e=Rn.length;t<e;++t)if(ef[Rn[t]].common)return Rn[t]}function oT(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:s,hi:r}=np(e,t),o=e[s]>=t?e[s]:e[r];i[o]=!0}}function p4(i,t,e,s){const r=i._adapter,o=+r.startOf(t[0].value,s),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,s))f=e[h],f>=0&&(t[f].major=!0);return t}function lT(i,t,e){const s=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,s.push({value:h,major:!1});return o===0||!e?s:p4(i,s,r,e)}class cT extends Oo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),r=this._adapter=new rO._date(t.adapters.date);r.init(e),Jl(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:aT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=hn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),s),o=hn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=DD(r,o,c);return this._unit=e.unit||(s.autoSkip?rT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):g4(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:m4(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),lT(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Ln(e,0,c),s=Ln(s,0,c),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,r=this.options,o=r.time,c=o.unit||rT(o.minUnit,e,s,this._getLabelCapacity(e)),h=Ct(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=Eo(f)||f===!0,_={};let v=e,E,S;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":c),t.diff(s,e,c)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+c);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(E=v,S=0;E<s;E=+t.add(E,h,c),S++)oT(_,E,w);return(E===s||r.bounds==="ticks"||S===1)&&oT(_,E,w),Object.keys(_).sort(sT).map(x=>+x)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,s,r){const o=this.options,c=o.ticks.callback;if(c)return le(c,[t,e,s],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],v=g&&h[g],E=s[e],S=g&&v&&E&&E.major;return this._adapter.format(t,r||(S?v:_))}generateTickLabels(t){let e,s,r;for(e=0,s=t.length;e<s;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,r=nr(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*c,h:s*c+h*o}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,r=s[e.unit]||s.millisecond,o=this._tickFormatFunction(t,0,lT(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,s=r.length;e<s;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const r=this.getLabels();for(e=0,s=r.length;e<s;++e)t.push(aT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return B1(t.sort(sT))}}function fh(i,t,e){let s=0,r=i.length-1,o,c,h,f;e?(t>=i[s].pos&&t<=i[r].pos&&({lo:s,hi:r}=ir(i,"pos",t)),{pos:o,time:h}=i[s],{pos:c,time:f}=i[r]):(t>=i[s].time&&t<=i[r].time&&({lo:s,hi:r}=ir(i,"time",t)),{time:o,pos:h}=i[s],{time:c,pos:f}=i[r]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class gV extends cT{static id="timeseries";static defaults=cT.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=fh(e,this.min),this._tableRange=fh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,r=[],o=[];let c,h,f,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=s&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],g=r[c],Math.round((_+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(fh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return fh(this._table,s*this._tableRange+this._minPos,!0)}}const ME="label";function uT(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function _4(i,t){const e=i.options;e&&t&&Object.assign(e,t)}function OE(i,t){i.labels=t}function IE(i,t,e=ME){const s=[];i.datasets=t.map(r=>{const o=i.datasets.find(c=>c[e]===r[e]);return!o||!r.data||s.includes(o)?{...r}:(s.push(o),Object.assign(o,r),o)})}function y4(i,t=ME){const e={labels:[],datasets:[]};return OE(e,i.labels),IE(e,i.datasets,t),e}function v4(i,t){const{height:e=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:_,updateMode:v,...E}=i,S=vt.useRef(null),w=vt.useRef(null),x=()=>{S.current&&(w.current=new Io(S.current,{type:c,data:y4(h,o),options:f&&{...f},plugins:g}),uT(t,w.current))},M=()=>{uT(t,null),w.current&&(w.current.destroy(),w.current=null)};return vt.useEffect(()=>{!r&&w.current&&f&&_4(w.current,f)},[r,f]),vt.useEffect(()=>{!r&&w.current&&OE(w.current.config.data,h.labels)},[r,h.labels]),vt.useEffect(()=>{!r&&w.current&&h.datasets&&IE(w.current.config.data,h.datasets,o)},[r,h.datasets]),vt.useEffect(()=>{w.current&&(r?(M(),setTimeout(x)):w.current.update(v))},[r,f,h.labels,h.datasets,v]),vt.useEffect(()=>{w.current&&(M(),setTimeout(x))},[c]),vt.useEffect(()=>(x(),()=>M()),[]),z.jsx("canvas",{ref:S,role:"img",height:e,width:s,...E,children:_})}const b4=vt.forwardRef(v4);function dp(i,t){return Io.register(t),vt.forwardRef((e,s)=>z.jsx(b4,{...e,ref:s,type:i}))}const T4=dp("line",sO),E4=dp("bar",iO),S4=dp("scatter",aO),x4="_container_1pp8x_6",A4="_header_1pp8x_15",w4="_title_1pp8x_24",R4="_controls_1pp8x_30",C4="_controlGroup_1pp8x_36",D4="_controlLabel_1pp8x_42",M4="_select_1pp8x_49",O4="_checkbox_1pp8x_74",I4="_checkmark_1pp8x_90",N4="_chartWrapper_1pp8x_120",xi={container:x4,header:A4,title:w4,controls:R4,controlGroup:C4,controlLabel:D4,select:M4,checkbox:O4,checkmark:I4,chartWrapper:N4};Io.register(DE,fp,bE,Jh,RE,hp,AE,XI);const hT=[{value:"avgEngagementRate",label:" (%)",format:"percent"},{value:"postCount",label:"",format:"number"},{value:"totalReach",label:"",format:"number"},{value:"totalEngagement",label:"",format:"number"},{value:"totalShares",label:"",format:"number"}];function V4({daily:i,timeRange:t,dateRange:e,selectedMetric:s,onMetricChange:r,onDateClick:o}){const c=vt.useRef(null),[h,f]=vt.useState(s||"avgEngagementRate"),[g,_]=vt.useState(!0);vt.useEffect(()=>{s&&f(s)},[s]);const v=wC(i,t,e),E=F=>{const $=F-7;return $>=0&&v[$]?v[$][h]:null},S=v.map(F=>Oh(F.date,"short")),w=v.map(F=>F[h]),x=v.map((F,$)=>E($)),M=hT.find(F=>F.value===h),U=F=>F==null?"-":M?.format==="percent"?Mo(F):Ri(F),L={labels:S,datasets:[{label:M?.label||h,data:w,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2.5,fill:!0,tension:.35,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"#22c55e",pointBorderColor:"#0a1018",pointBorderWidth:2},...g?[{label:"7",data:x,borderColor:"rgba(148, 163, 184, 0.5)",borderWidth:1.5,borderDash:[5,5],fill:!1,tension:.35,pointRadius:0,pointHoverRadius:4,pointBackgroundColor:"rgba(148, 163, 184, 0.5)"}]:[]]},Z={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},onClick:(F,$)=>{if($.length>0&&o){const it=$[0].index;v[it]&&o(v[it].date)}},plugins:{legend:{display:!0,position:"top",align:"end",labels:{boxWidth:12,boxHeight:2,padding:20,color:"#94a3b8",font:{family:"DM Sans",size:12},usePointStyle:!0,pointStyle:"line"}},tooltip:{backgroundColor:"rgba(22, 32, 48, 0.95)",titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"rgba(34, 197, 94, 0.3)",borderWidth:1,padding:12,cornerRadius:8,titleFont:{family:"Syne",weight:"600",size:13},bodyFont:{family:"DM Sans",size:12},callbacks:{title:F=>{const $=F[0]?.dataIndex;return $!==void 0&&v[$]?Oh(v[$].date,"long"):""},label:F=>{const $=F.raw;return $===null?null:`${F.dataset.label}: ${U($)}`},footer:()=>o?"":""},footerColor:"#94a3b8",footerFont:{size:11,style:"italic"}}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},maxRotation:0,autoSkip:!0,maxTicksLimit:12}},y:{grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},callback:F=>U(F)},beginAtZero:!0}}};return z.jsxs("div",{className:xi.container,children:[z.jsxs("div",{className:xi.header,children:[z.jsx("h3",{className:xi.title,children:""}),z.jsxs("div",{className:xi.controls,children:[z.jsxs("label",{className:xi.controlGroup,children:[z.jsx("span",{className:xi.controlLabel,children:""}),z.jsx("select",{value:h,onChange:F=>{f(F.target.value),r?.(F.target.value)},className:xi.select,children:hT.map(F=>z.jsx("option",{value:F.value,children:F.label},F.value))})]}),z.jsxs("label",{className:xi.checkbox,children:[z.jsx("input",{type:"checkbox",checked:g,onChange:F=>_(F.target.checked)}),z.jsx("span",{className:xi.checkmark}),z.jsx("span",{children:" 7 "})]})]})]}),z.jsx("div",{className:xi.chartWrapper,children:z.jsx(T4,{ref:c,data:L,options:Z})})]})}const k4="_chartCard_dprbn_6",z4="_chartTitle_dprbn_22",L4="_chartContainer_dprbn_29",P4="_hint_dprbn_34",dh={chartCard:k4,chartTitle:z4,chartContainer:L4,hint:P4};Io.register(DE,fp,DI,RE,hp);function B4(i,t){const e=i.replace("#",""),s=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16),c=[1,.8,.6,.4],h=[1,.8,.6,.4],f=[];for(let g=0;g<t;g++){const _=Math.min(Math.floor(g/t*4),3),v=c[_],E=h[_],S=Math.round(s*E),w=Math.round(r*E),x=Math.round(o*E);f.push(`rgba(${S}, ${w}, ${x}, ${v})`)}return f}function NE({data:i,baseColor:t,title:e,onClick:s}){const r=vt.useRef(null);if(!i||!i.length)return null;const o=i.map(v=>v.name),c=i.map(v=>v.avgER),h=i.map(v=>v.count),f=B4(t,i.length),g={labels:o,datasets:[{data:c,backgroundColor:f,borderColor:f.map(v=>v.replace(/[\d.]+\)$/,"1)")),borderWidth:1,borderRadius:4,barThickness:24}]},_={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,onClick:(v,E)=>{if(E.length>0&&s){const S=E[0].index;s(i[S].name)}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(22, 32, 48, 0.95)",titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"rgba(148, 163, 184, 0.2)",borderWidth:1,padding:12,cornerRadius:8,titleFont:{family:"Syne",weight:"600",size:13},bodyFont:{family:"DM Sans",size:12},callbacks:{title:v=>v[0]?.label||"",label:v=>{const E=v.dataIndex;return[`: ${Mo(c[E])}`,`: ${h[E]} `]}}}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},callback:v=>v+"%"},beginAtZero:!0},y:{grid:{display:!1},ticks:{color:"#e2e8f0",font:{family:"DM Sans",size:12,weight:"500"},padding:8}}}};return z.jsxs("div",{className:dh.chartCard,children:[z.jsx("h3",{className:dh.chartTitle,children:e}),z.jsx("div",{className:dh.chartContainer,style:{height:Math.max(i.length*44,200)},children:z.jsx(E4,{ref:r,data:g,options:_})}),z.jsx("p",{className:dh.hint,children:""})]})}function j4({data:i,onClick:t}){return z.jsx(NE,{data:i,baseColor:"#22c55e",title:"",onClick:t})}function U4({data:i,onClick:t}){return z.jsx(NE,{data:i,baseColor:"#06b6d4",title:"",onClick:t})}const H4="_container_6yqnx_6",F4="_header_6yqnx_15",q4="_title_6yqnx_22",G4="_legend_6yqnx_28",Y4="_legendLabel_6yqnx_34",Q4="_legendGradient_6yqnx_39",K4="_heatmapWrapper_6yqnx_49",X4="_hourLabels_6yqnx_53",$4="_cornerSpacer_6yqnx_60",W4="_hourLabel_6yqnx_53",Z4="_gridContainer_6yqnx_72",J4="_row_6yqnx_78",tN="_weekdayLabel_6yqnx_84",eN="_cells_6yqnx_92",nN="_cell_6yqnx_92",iN="_active_6yqnx_111",sN="_cellCount_6yqnx_121",aN="_hint_6yqnx_128",Ve={container:H4,header:F4,title:q4,legend:G4,legendLabel:Y4,legendGradient:Q4,heatmapWrapper:K4,hourLabels:X4,cornerSpacer:$4,hourLabel:W4,gridContainer:Z4,row:J4,weekdayLabel:tN,cells:eN,cell:nN,active:iN,cellCount:sN,hint:aN},rN=["","","","","","",""],fT=Array.from({length:24},(i,t)=>t);function oN({heatmapData:i,onClick:t}){const{cells:e,maxER:s}=vt.useMemo(()=>{if(!i||!i.length)return{cells:[],maxER:0};const c=new Map;i.forEach(g=>{c.set(`${g.weekday}-${g.hour}`,g)});let h=0;i.forEach(g=>{g.avgER>h&&(h=g.avgER)});const f=[];for(let g=0;g<7;g++)for(let _=0;_<24;_++){const v=c.get(`${g}-${_}`)||{weekday:g,hour:_,count:0,avgER:0};f.push(v)}return{cells:f,maxER:h}},[i]),r=(c,h)=>h?c===0?"rgba(34, 197, 94, 0.35)":`rgba(34, 197, 94, ${.35+Math.min(c/s,1)*.55})`:"rgba(148, 163, 184, 0.1)",o=c=>{t&&c.count>0&&t({weekday:c.weekday,hour:c.hour})};return z.jsxs("div",{className:Ve.container,children:[z.jsxs("div",{className:Ve.header,children:[z.jsx("h3",{className:Ve.title,children:""}),z.jsxs("div",{className:Ve.legend,children:[z.jsx("span",{className:Ve.legendLabel,children:""}),z.jsx("div",{className:Ve.legendGradient}),z.jsx("span",{className:Ve.legendLabel,children:""})]})]}),z.jsxs("div",{className:Ve.heatmapWrapper,children:[z.jsxs("div",{className:Ve.hourLabels,children:[z.jsx("div",{className:Ve.cornerSpacer}),fT.filter((c,h)=>h%3===0).map(c=>z.jsx("span",{className:Ve.hourLabel,children:c.toString().padStart(2,"0")},c))]}),z.jsx("div",{className:Ve.gridContainer,children:rN.map((c,h)=>z.jsxs("div",{className:Ve.row,children:[z.jsx("span",{className:Ve.weekdayLabel,children:c}),z.jsx("div",{className:Ve.cells,children:fT.map(f=>{const g=e.find(_=>_.weekday===h&&_.hour===f);return z.jsx("div",{className:`${Ve.cell} ${g?.count>0?Ve.active:""}`,style:{backgroundColor:r(g?.avgER||0,g?.count>0)},onClick:()=>o(g),title:g?`${c} ${f}:00
: ${Mo(g.avgER)}
: ${g.count}`:"",children:g?.count>0&&z.jsx("span",{className:Ve.cellCount,children:g.count})},`${h}-${f}`)})})]},c))})]}),z.jsx("p",{className:Ve.hint,children:"  "})]})}const lN="_container_r2ez3_1",cN="_tableWrapper_r2ez3_5",uN="_table_r2ez3_5",hN="_th_r2ez3_18",fN="_sortable_r2ez3_32",dN="_sorted_r2ez3_42",gN="_sortIcon_r2ez3_46",mN="_tr_r2ez3_56",pN="_td_r2ez3_66",_N="_contentLink_r2ez3_73",yN="_date_r2ez3_87",vN="_tag_r2ez3_92",bN="_metric_r2ez3_101",TN="_engagement_r2ez3_107",EN="_tooltip_r2ez3_112",SN="_tooltipContent_r2ez3_125",xN="_tooltipText_r2ez3_131",AN="_tooltipMeta_r2ez3_137",wN="_tooltipRow_r2ez3_143",RN="_tooltipReactions_r2ez3_158",CN="_tooltipTags_r2ez3_168",DN="_tooltipTag_r2ez3_168",Nt={container:lN,tableWrapper:cN,table:uN,th:hN,sortable:fN,sorted:dN,sortIcon:gN,tr:mN,td:pN,contentLink:_N,date:yN,tag:vN,metric:bN,engagement:TN,tooltip:EN,tooltipContent:SN,tooltipText:xN,tooltipMeta:AN,tooltipRow:wN,tooltipReactions:RN,tooltipTags:CN,tooltipTag:DN};function MN({posts:i,onSort:t,sortBy:e,sortOrder:s}){const[r,o]=vt.useState(null),[c,h]=vt.useState({x:0,y:0}),f=[{key:"content",label:"",sortable:!1,width:"35%"},{key:"date",label:"",sortable:!0,width:"12%"},{key:"actionType",label:"",sortable:!1,width:"12%"},{key:"topic",label:"",sortable:!1,width:"12%"},{key:"engagement",label:"",sortable:!0,width:"10%"},{key:"reach",label:"",sortable:!0,width:"10%"},{key:"shares",label:"",sortable:!0,width:"9%"}],g=x=>{f.find(M=>M.key===x)?.sortable&&t&&t(x)},_=(x,M,U)=>{o({post:x,column:M}),E(U)},v=x=>{E(x)},E=x=>{const M=Math.min(x.clientX+16,window.innerWidth-360),U=Math.min(x.clientY+16,window.innerHeight-300);h({x:M,y:U})},S=()=>{o(null)},w=()=>{if(!r)return null;const{post:x,column:M}=r;switch(M){case"content":return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:Nt.tooltipContent,children:z.jsxs("p",{className:Nt.tooltipText,children:[x.content.slice(0,300),x.content.length>300?"...":""]})}),x.hashtags&&x.hashtags.length>0&&z.jsx("div",{className:Nt.tooltipTags,children:x.hashtags.slice(0,5).map((U,L)=>z.jsx("span",{className:Nt.tooltipTag,children:U},L))})]});case"engagement":case"reach":case"shares":return z.jsxs("div",{className:Nt.tooltipMeta,children:[z.jsxs("div",{className:Nt.tooltipRow,children:[z.jsx("span",{children:""}),z.jsx("span",{children:Ri(x.metrics.likes)})]}),z.jsxs("div",{className:Nt.tooltipRow,children:[z.jsx("span",{children:""}),z.jsx("span",{children:Ri(x.metrics.comments)})]}),z.jsxs("div",{className:Nt.tooltipRow,children:[z.jsx("span",{children:""}),z.jsx("span",{children:Ri(x.metrics.shares)})]}),z.jsxs("div",{className:Nt.tooltipRow,children:[z.jsx("span",{children:""}),z.jsx("span",{children:Ri(x.metrics.reach)})]}),z.jsxs("div",{className:Nt.tooltipRow,children:[z.jsx("span",{children:""}),z.jsx("span",{children:Ri(x.metrics.clicks)})]}),x.metrics.reactions&&z.jsxs("div",{className:Nt.tooltipReactions,children:[z.jsxs("span",{children:[" ",x.metrics.reactions.love]}),z.jsxs("span",{children:[" ",x.metrics.reactions.wow]}),z.jsxs("span",{children:[" ",x.metrics.reactions.haha]}),z.jsxs("span",{children:[" ",x.metrics.reactions.sad]}),z.jsxs("span",{children:[" ",x.metrics.reactions.angry]})]})]});case"date":return z.jsx("div",{className:Nt.tooltipMeta,children:z.jsxs("div",{className:Nt.tooltipRow,children:[z.jsx("span",{children:""}),z.jsx("span",{children:Oh(x.publishedAt,"full")})]})});default:return null}};return z.jsxs("div",{className:Nt.container,children:[z.jsx("div",{className:Nt.tableWrapper,children:z.jsxs("table",{className:Nt.table,children:[z.jsx("thead",{children:z.jsx("tr",{children:f.map(x=>z.jsxs("th",{className:`${Nt.th} ${x.sortable?Nt.sortable:""} ${e===x.key?Nt.sorted:""}`,style:{width:x.width},onClick:()=>g(x.key),children:[z.jsx("span",{children:x.label}),x.sortable&&z.jsx("span",{className:Nt.sortIcon,children:e===x.key?s==="desc"?"":"":""})]},x.key))})}),z.jsx("tbody",{children:i.map((x,M)=>z.jsxs("tr",{className:Nt.tr,style:{animationDelay:`${Math.min(M*.02,.5)}s`},children:[z.jsx("td",{className:Nt.td,onMouseEnter:U=>_(x,"content",U),onMouseMove:v,onMouseLeave:S,children:z.jsx("a",{href:x.permalink,target:"_blank",rel:"noopener noreferrer",className:Nt.contentLink,children:x.contentPreview})}),z.jsx("td",{className:Nt.td,onMouseEnter:U=>_(x,"date",U),onMouseMove:v,onMouseLeave:S,children:z.jsx("span",{className:Nt.date,children:Oh(x.publishedAt,"short")})}),z.jsx("td",{className:Nt.td,children:z.jsx("span",{className:Nt.tag,style:{backgroundColor:(sm[x.actionType]||"#64748b")+"22",color:sm[x.actionType]||"#64748b"},children:x.actionType})}),z.jsx("td",{className:Nt.td,children:z.jsx("span",{className:Nt.tag,style:{backgroundColor:(am[x.topic]||"#64748b")+"22",color:am[x.topic]||"#64748b"},children:x.topic})}),z.jsx("td",{className:Nt.td,onMouseEnter:U=>_(x,"engagement",U),onMouseMove:v,onMouseLeave:S,children:z.jsx("span",{className:`${Nt.metric} ${Nt.engagement}`,children:Mo(x.computed.engagementRate)})}),z.jsx("td",{className:Nt.td,onMouseEnter:U=>_(x,"reach",U),onMouseMove:v,onMouseLeave:S,children:z.jsx("span",{className:Nt.metric,children:Ri(x.metrics.reach)})}),z.jsx("td",{className:Nt.td,onMouseEnter:U=>_(x,"shares",U),onMouseMove:v,onMouseLeave:S,children:z.jsx("span",{className:Nt.metric,children:Ri(x.metrics.shares)})})]},x.id))})]})}),r&&z.jsx("div",{className:Nt.tooltip,style:{left:c.x,top:c.y},children:w()})]})}const ON="_container_5xofn_6",IN="_header_5xofn_15",NN="_title_5xofn_19",VN="_controls_5xofn_25",kN="_controlGroup_5xofn_34",zN="_controlLabel_5xofn_41",LN="_select_5xofn_49",PN="_chartWrapper_5xofn_74",We={container:ON,header:IN,title:NN,controls:VN,controlGroup:kN,controlLabel:zN,select:LN,chartWrapper:PN};Io.register(fp,bE,hp,AE);const gh=[{value:"reach",label:"",format:"number"},{value:"engagementRate",label:" (%)",format:"percent"},{value:"shares",label:"",format:"number"},{value:"clicks",label:"",format:"number"},{value:"likes",label:"",format:"number"},{value:"comments",label:"",format:"number"},{value:"totalEngagement",label:"",format:"number"}],BN=[{value:"actionType",label:""},{value:"topic",label:""}],jN=[{value:"totalEngagement",label:""},{value:"reach",label:""},{value:"shares",label:""},{value:"fixed",label:""}];function UN({posts:i,onPointClick:t}){const e=vt.useRef(null),[s,r]=vt.useState("reach"),[o,c]=vt.useState("engagementRate"),[h,f]=vt.useState("actionType"),[g,_]=vt.useState("totalEngagement"),v=(L,Z)=>{switch(Z){case"reach":return L.metrics.reach;case"shares":return L.metrics.shares;case"clicks":return L.metrics.clicks;case"likes":return L.metrics.likes;case"comments":return L.metrics.comments;case"engagementRate":return L.computed.engagementRate;case"totalEngagement":return L.computed.totalEngagement;default:return 0}},E=L=>{if(g==="fixed")return 6;const Z=v(L,g);return Math.min(Math.max(Math.sqrt(Z)*.5,4),30)},S=vt.useMemo(()=>{if(!i||!i.length)return{datasets:[]};const L={};i.forEach(F=>{const $=h==="actionType"?F.actionType:F.topic;L[$]||(L[$]=[]),L[$].push({x:v(F,s),y:v(F,o),r:E(F),post:F})});const Z=h==="actionType"?sm:am;return{datasets:Object.entries(L).map(([F,$])=>({label:F,data:$,backgroundColor:(Z[F]||"#64748b")+"aa",borderColor:Z[F]||"#64748b",borderWidth:1.5,pointRadius:$.map(it=>it.r),pointHoverRadius:$.map(it=>it.r+3)}))}},[i,s,o,h,g]),w=gh.find(L=>L.value===s),x=gh.find(L=>L.value===o),M=(L,Z)=>Z?.format==="percent"?Mo(L):Ri(L),U={responsive:!0,maintainAspectRatio:!1,onClick:(L,Z)=>{if(Z.length>0&&t){const{datasetIndex:F,index:$}=Z[0],it=S.datasets[F].data[$];it?.post&&t(it.post)}},plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:12,padding:16,color:"#94a3b8",font:{family:"DM Sans",size:11},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(22, 32, 48, 0.95)",titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"rgba(148, 163, 184, 0.2)",borderWidth:1,padding:12,cornerRadius:8,titleFont:{family:"Syne",weight:"600",size:13},bodyFont:{family:"DM Sans",size:12},callbacks:{title:L=>{const Z=L[0]?.raw;return Z?.post?Z.post.contentPreview?.slice(0,40)+"...":""},label:L=>{const Z=L.raw;return Z?.post?[`${w?.label}: ${M(Z.x,w)}`,`${x?.label}: ${M(Z.y,x)}`]:[]}}}},scales:{x:{title:{display:!0,text:w?.label||s,color:"#64748b",font:{family:"DM Sans",size:12,weight:"500"}},grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},callback:L=>M(L,w)}},y:{title:{display:!0,text:x?.label||o,color:"#64748b",font:{family:"DM Sans",size:12,weight:"500"}},grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},callback:L=>M(L,x)},beginAtZero:!0}}};return z.jsxs("div",{className:We.container,children:[z.jsx("div",{className:We.header,children:z.jsx("h3",{className:We.title,children:""})}),z.jsxs("div",{className:We.controls,children:[z.jsxs("label",{className:We.controlGroup,children:[z.jsx("span",{className:We.controlLabel,children:"X "}),z.jsx("select",{value:s,onChange:L=>r(L.target.value),className:We.select,children:gh.map(L=>z.jsx("option",{value:L.value,children:L.label},L.value))})]}),z.jsxs("label",{className:We.controlGroup,children:[z.jsx("span",{className:We.controlLabel,children:"Y "}),z.jsx("select",{value:o,onChange:L=>c(L.target.value),className:We.select,children:gh.map(L=>z.jsx("option",{value:L.value,children:L.label},L.value))})]}),z.jsxs("label",{className:We.controlGroup,children:[z.jsx("span",{className:We.controlLabel,children:""}),z.jsx("select",{value:h,onChange:L=>f(L.target.value),className:We.select,children:BN.map(L=>z.jsx("option",{value:L.value,children:L.label},L.value))})]}),z.jsxs("label",{className:We.controlGroup,children:[z.jsx("span",{className:We.controlLabel,children:""}),z.jsx("select",{value:g,onChange:L=>_(L.target.value),className:We.select,children:jN.map(L=>z.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),z.jsx("div",{className:We.chartWrapper,children:z.jsx(S4,{ref:e,data:S,options:U})})]})}const HN="_app_71ee7_1",FN="_main_71ee7_8",qN="_page_71ee7_16",GN="_chartRow_71ee7_22",YN="_placeholder_71ee7_28",QN="_resultsInfo_71ee7_43",KN="_resultCount_71ee7_49",XN="_clearFilterBtn_71ee7_59",$N="_footer_71ee7_75",WN="_loading_71ee7_97",ZN="_loadingContent_71ee7_105",JN="_loadingSpinner_71ee7_109",tV="_error_71ee7_129",eV="_errorContent_71ee7_137",nV="_errorIcon_71ee7_143",iV="_retryBtn_71ee7_159",Oe={app:HN,main:FN,page:qN,chartRow:GN,placeholder:YN,resultsInfo:QN,resultCount:KN,clearFilterBtn:XN,footer:$N,loading:WN,loadingContent:ZN,loadingSpinner:JN,error:tV,errorContent:eV,errorIcon:nV,retryBtn:iV};function sV(){return z.jsx("div",{className:Oe.loading,children:z.jsxs("div",{className:Oe.loadingContent,children:[z.jsx("div",{className:Oe.loadingSpinner}),z.jsx("p",{children:"..."})]})})}function aV({message:i}){return z.jsx("div",{className:Oe.error,children:z.jsxs("div",{className:Oe.errorContent,children:[z.jsx("svg",{className:Oe.errorIcon,viewBox:"0 0 24 24",width:"48",height:"48",children:z.jsx("path",{fill:"#f59e0b",d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})}),z.jsx("h2",{children:""}),z.jsx("p",{children:i}),z.jsx("button",{onClick:()=>window.location.reload(),className:Oe.retryBtn,children:""})]})})}function rV({daily:i,stats:t,timeRange:e,dateRange:s,onTimeRangeChange:r,onDateRangeChange:o,onChartClick:c}){const[h,f]=vt.useState("avgEngagementRate");return z.jsxs("div",{className:Oe.page,children:[z.jsx(Wm,{timeRange:e,onTimeRangeChange:r,dateRange:s,onDateRangeChange:o}),z.jsx(HC,{stats:t,daily:i,timeRange:e,dateRange:s,selectedMetric:h,onMetricChange:f}),i&&i.length>0?z.jsx(V4,{daily:i,timeRange:e,dateRange:s,selectedMetric:h,onMetricChange:f,onDateClick:g=>c("date",g)}):z.jsx("div",{className:Oe.placeholder,children:""}),z.jsxs("div",{className:Oe.chartRow,children:[t?.byActionType?.length>0?z.jsx(j4,{data:t.byActionType,onClick:g=>c("actionType",g)}):z.jsx("div",{className:Oe.placeholder,children:""}),t?.byTopic?.length>0?z.jsx(U4,{data:t.byTopic,onClick:g=>c("topic",g)}):z.jsx("div",{className:Oe.placeholder,children:""})]}),z.jsx(oN,{heatmapData:t?.heatmap,onClick:g=>c("time",g)})]})}function oV({posts:i,stats:t,timeRange:e,dateRange:s,onTimeRangeChange:r,onDateRangeChange:o,presetFilter:c,onClearPresetFilter:h}){const[f,g]=vt.useState({timeRange:e,dateRange:s,actionType:"all",topic:"all",search:"",sortBy:"date",sortOrder:"desc"});vt.useMemo(()=>{if(c){const w={...f,timeRange:e,dateRange:s};c.type==="actionType"?w.actionType=c.value:c.type==="topic"&&(w.topic=c.value),g(w)}else g(w=>({...w,timeRange:e,dateRange:s}))},[e,s,c]);const _=O1(i,f),v=w=>{g(x=>({...x,sortBy:w,sortOrder:x.sortBy===w&&x.sortOrder==="desc"?"asc":"desc"}))},E=()=>{g(w=>({...w,actionType:"all",topic:"all"})),h?.()},S=c||f.actionType!=="all"||f.topic!=="all";return z.jsxs("div",{className:Oe.page,children:[z.jsx(Wm,{timeRange:f.timeRange,onTimeRangeChange:w=>{g(x=>({...x,timeRange:w})),r(w),h?.()},dateRange:f.dateRange,onDateRangeChange:w=>{g(x=>({...x,dateRange:w})),o(w)},actionTypes:t?.byActionType||[],topics:t?.byTopic||[],selectedActionType:f.actionType,onActionTypeChange:w=>{g(x=>({...x,actionType:w})),h?.()},selectedTopic:f.topic,onTopicChange:w=>{g(x=>({...x,topic:w})),h?.()},search:f.search,onSearchChange:w=>g(x=>({...x,search:w})),showSearch:!0,showFilters:!0}),z.jsxs("div",{className:Oe.resultsInfo,children:[z.jsxs("span",{className:Oe.resultCount,children:[" ",z.jsx("strong",{children:_.length})," "]}),S&&z.jsx("button",{className:Oe.clearFilterBtn,onClick:E,children:""})]}),z.jsx(MN,{posts:_,sortBy:f.sortBy,sortOrder:f.sortOrder,onSort:v})]})}function lV({posts:i,timeRange:t,dateRange:e,onTimeRangeChange:s,onDateRangeChange:r}){const[o,c]=vt.useState({timeRange:t,dateRange:e});vt.useMemo(()=>{c(g=>({...g,timeRange:t,dateRange:e}))},[t,e]);const h=O1(i,o),f=g=>{g?.permalink&&window.open(g.permalink,"_blank")};return z.jsxs("div",{className:Oe.page,children:[z.jsx(Wm,{timeRange:o.timeRange,onTimeRangeChange:g=>{c(_=>({..._,timeRange:g})),s(g)},dateRange:o.dateRange,onDateRangeChange:g=>{c(_=>({..._,dateRange:g})),r(g)}}),z.jsx(UN,{posts:h,onPointClick:f})]})}function cV(){const{posts:i,daily:t,stats:e,loading:s,error:r}=PR(),[o,c]=vt.useState("dashboard"),[h,f]=vt.useState("12"),[g,_]=vt.useState({start:"",end:""}),[v,E]=vt.useState(null),S=(w,x)=>{w==="date"?(f("custom"),_({start:x,end:x}),E({type:"date",value:x})):w==="actionType"?E({type:"actionType",value:x}):w==="topic"?E({type:"topic",value:x}):w==="time"&&E({type:"time",value:x}),c("explorer")};return s?z.jsx(sV,{}):r?z.jsx(aV,{message:r}):z.jsxs("div",{className:Oe.app,children:[z.jsx(tC,{activeTab:o,onTabChange:c,onLogoClick:()=>c("dashboard")}),z.jsxs("main",{className:Oe.main,children:[o==="dashboard"&&z.jsx(rV,{daily:t,stats:e,timeRange:h,dateRange:g,onTimeRangeChange:f,onDateRangeChange:_,onChartClick:S}),o==="explorer"&&z.jsx(oV,{posts:i,stats:e,timeRange:h,dateRange:g,onTimeRangeChange:f,onDateRangeChange:_,presetFilter:v,onClearPresetFilter:()=>E(null)}),o==="analytics"&&z.jsx(lV,{posts:i,timeRange:h,dateRange:g,onTimeRangeChange:f,onDateRangeChange:_})]}),z.jsx("footer",{className:Oe.footer,children:z.jsxs("p",{children:["",e?.lastUpdated?new Date(e.lastUpdated).toLocaleString("zh-TW"):"-","  ",z.jsx("a",{href:"https://gcaa.org.tw",target:"_blank",rel:"noopener noreferrer",children:""})]})})]})}px.createRoot(document.getElementById("root")).render(z.jsx(vt.StrictMode,{children:z.jsx(cV,{})}));
